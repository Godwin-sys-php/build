{"version":3,"sources":["Components/Logo.jsx","Components/PasswordInput.jsx","Services/url.js","Services/users.js","Pages/Login.jsx","Pages/Home.jsx","Components/Deconnect.jsx","Components/AdminNavBar.jsx","Components/MediumNavBar.jsx","Components/ManagerNavBar.jsx","Components/NavBar.jsx","Components/TableUsers.jsx","Components/PopupAddUser.jsx","Components/PopupEditUser.jsx","Helpers/verifyIsAdmin.js","Pages/Users.jsx","Services/clients.js","Components/TableClients.jsx","Components/PopupAddClient.jsx","Components/PopupEditClient.jsx","Pages/Clients.jsx","Services/products.js","Components/TableProducts.jsx","Components/PopupAddProducts.jsx","Components/PopupEditProducts.jsx","Components/PieMPTypes.jsx","Components/PiesMPProducts.jsx","Pages/Products.jsx","Pages/Stocks.jsx","Services/transactions.js","Components/ProductsList.jsx","Components/PopupAddTransaction.jsx","Pages/TransactionDetail.jsx","Pages/TransactionWholeSale.jsx","Helpers/verifyIsManager.js","Components/PopupAddTransactionManager.jsx","Pages/TransactionManager.jsx","Services/sessions.js","Components/PopupAddSessionItem.jsx","Components/PopupEditSessionItem.jsx","Components/PopupAddAccompaniment.jsx","Components/PopupViewAccompaniment.jsx","Components/PopupAddReduction.jsx","Components/ClientsList.jsx","Components/PopupEditSession.jsx","Pages/GetOneSession.jsx","Components/SessionsInProgressList.jsx","Components/PopupAddSession.jsx","Pages/SessionsInProgress.jsx","Components/SessionsNotPaidList.jsx","Pages/SessionsNotPaid.jsx","Components/Recipe.jsx","Components/AllRecipe.jsx","Components/Expenses.jsx","Components/TableProductsSell.jsx","Components/TableClientsReport.jsx","Components/TableExpensivesTransactions.jsx","Pages/SessionsReport.jsx","Pages/SessionsReportPeriod.jsx","Services/guichet.js","Components/CategoriesList.jsx","Components/PopupAddMoneyTransactions.jsx","Pages/GuichetTransactions.jsx","Components/TableCategories.jsx","Components/PopupAddCategories.jsx","Components/PopupEditCategories.jsx","Components/PieMPCEnter.jsx","Components/PieMPCOutlet.jsx","Pages/GuichetCategories.jsx","Pages/NotFound.jsx","App.js","reportWebVitals.js","index.js"],"names":["Logo","className","Image","src","style","width","marginTop","PasswordInput","props","_displayEye","state","isVisible","class","_displayType","_handleEye","setState","_displayContraint","contraint","forUpdate","Form","Group","controlId","InputGroup","Control","type","this","placeholder","aria-label","aria-describedby","btnId","onChange","value","Append","Button","variant","aria-hidden","onClick","React","Component","defautProps","url","getUserInfo","idUser","token","init","method","headers","Headers","fetch","then","res","json","Login","_handlePseudo","event","pseudo","target","_handlePassword","password","_displayButton","trim","length","id","_onClick","disabled","preventDefault","toSend","toManyRequest","body","JSON","stringify","login","data","alert","minute","Cookies","set","expires","window","location","href","email","catch","error","document","title","get","Container","role","Label","Alert","show","Home","isLoading","find","result","level","remove","invalidToken","userNotFound","Spinner","animation","Deconnect","Nav","Link","AdminNavBar","userInfo","Navbar","bg","expand","Brand","alt","height","fontSize","fontWeight","Toggle","aria-controls","Collapse","activeKey","pathname","NavDropdown","Item","name","displayPost","MediumNavBar","ManagerNavBar","NavBar","dataUser","defaultProps","redirect","TableUsers","_adapt","toAdapt","_handleDelete","rowData","confirm","deleteUser","delete","reload","cannotDeleteAdmin","_handleUpdate","capture","index","users","onUpdate","columns","field","getAllUser","until","push","level2","options","search","paging","filtering","exportButton","actions","icon","htmlColor","tooltip","PopupAddUser","_handleClose","callback","_handleName","_handleLevel","parseInt","schema","passwordValidator","is","min","has","uppercase","lowercase","digits","validate","_","isString","addUser","create","success","invalidForm","existPseudo","setTimeout","_displayAlert","Modal","onHide","backdrop","ddccc","keyboard","Header","closeButton","Title","Body","selected","Footer","updateUser","update","changeLastAdmin","cantChangeLevelOfLastAdmin","_displayOption","verifyIsAdmin","user","Users","_addUser","addMode","editMode","_onUpdate","info","infoEdit","_onClose","PopupEditUser","getAllClient","TableClients","clients","idClient","deleteClient","PopupAddClient","_handlePhoneNumber","phoneNumber","_handleEmail","_handleBirthday","birthday","addClient","existName","PopupEditClient","updateClient","Clients","getAllProducts","getOneProduct","idProduct","TableProducts","products","idProducts","deleteProducts","price","inStock","PopupAddProducts","_handlePrice","_handleType","_handleUnit","unit","_handleInStock","isNumber","Number","addProducts","PopupEditProducts","_handleBuyPrice","buyPrice","updateProducts","PieMPTypes","color","getMostPopularTypes","console","log","nameOfType","value_occurrence","labelStyle","fill","opacity","pointerEvents","labelPosition","label","dataEntry","Math","round","percentage","PiesMPProducts","getMostPopularProducts","untilDrinks","untilSpirits","untilDishes","untilCigarettes","drinks","nameOfProduct","spirits","dishes","cigarettes","err","alignItems","Products","Stocks","toDisplay","filter","o","Cookie","getAllTransactions","addTransaction","ProductsList","_handle","default","defaultValue","PopupAddTransaction","_handleIdProduct","newProduct","productInfo","_handleQuantity","quantity","_handleDescription","description","productNotFound","negativeStock","_displayBuyPrice","TransactionDetail","_handleBegin","date","now","moment","begin","beginInTimestamp","unix","transaction","timestamp","endInTimestamp","transactionToFilter","_handleEnd","end","_display","_addTransaction","date2","format","stock","stockAfter","enter","outlet","dateFormat","withPortal","TransactionWholeSale","_didMount","getWholeSale","solde","totalEnter","totalOutlet","isNull","verifyIsManager","PopupAddTransactionManager","TransactionPeriod","getInProgress","getNotPaid","getOneSession","idSession","getItemOfOneSession","getAccompOfItem","idSessionsItem","PopupAddSessionItem","addSessionItem","PopupEditSessionItem","idSessionItem","updateOneSessionItem","PopupAddAccompaniment","addAccompaniment","PopupViewAccompaniment","accompaniments","arrayElement","a","PopupAddReduction","_handleReduction","reduction","addReduction","ClientsList","PopupEditSession","_handleIdClient","newClient","_handleServer","server","editSession","nameOfServer","clientNotFound","GetOneSession","_updateItem","editInfo","_addAccompaniment","accompInfo","accompMode","_viewAccompaniment","accompViewInfo","accompViewMode","_deleteItem","res1","deleteItem","_displayItem","sessionItem","sessionInfo","wasOver","ListGroup","marginBottom","_addItem","reductionMode","editSessionMode","_finish","finishSession","_finishAndPay","finishAndPaySession","_pay","paySession","_addReduction","_reductionToZero","reductionToZero","_editSession","beenPaid","_displayButton2","_displayIframe","invoiceUrl","match","params","res2","nameOfClient","nameOfUser","total","SessionsInProgressList","_displayCards","sessions","Card","Text","PopupAddSession","startSession","SessionsInProgress","_addSession","SessionsNotPaidList","SessionsNotPaid","Recipe","recipe","TableProductsSell","TableClientsReport","TableExpensivesTransactions","SessionsReport","getReport","until2","productsSell","facture","totalWithoutReduction","_handleDate","_displaySpinner","textAlign","backgroundColor","AllRecipe","allRecipe","Expenses","expenses","Accordion","display","justifyContent","as","eventKey","expensesTransactions","SessionsReportPeriod","getReportPeriod","getAllCategories","CategoriesList","categories","categoriesToShow","idCategory","prevProps","PopupAddMoneyTransactions","_handleIdCategory","_handleAmount","amount","negativeMoney","GuichetTransactions","getTransactions","amountAfter","sumEnter","sumOutlet","Tablecategories","type2","addCategory","PopupEditCategories","updateCategory","PieMPCEnter","getMPCategoriesEnter","nameOfCategory","PieMPCOutlet","getMPCategoriesOutlet","GuichetCategories","TableCategories","PopupAddCategories","NotFound","App","exact","path","component","TransactionManager","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b29d9634.chunk.js","sourcesContent":["import { Image } from 'react-bootstrap';\n\nconst Logo = () => (\n  <div className=\"text-center\">\n    <Image src='http://le-consulat-drc.com/images/logo' style={{ width: '30%', marginTop: '2%' }} />\n  </div>\n);\n\nexport default Logo;","import React from 'react';\n\nimport { Form, Button, InputGroup } from 'react-bootstrap';\n\nexport default class PasswordInput extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    };\n  };\n\n  _displayEye = () => {\n    return this.state.isVisible ? <i class=\"fas fa-eye-slash\"></i> : <i class=\"fas fa-eye\"></i>;\n  };\n\n  _displayType = () => {\n    return this.state.isVisible ? 'text' : 'password';\n  };\n\n  _handleEye = () => {\n    this.setState({ isVisible: !this.state.isVisible });\n  };\n\n  _displayContraint = () => {\n    return this.props.contraint ?\n      'Doit contenir des majuscules, contentir des minuscules, avoir au moins 8 caractres et avoir au moins 2 chiffres'\n      :\n      this.props.forUpdate ? \"Laissez vide si vous ne voulez pas le changer\" : \"Le mot de passe...\"\n  }\n\n  render() {\n    return (\n      <Form.Group controlId=\"formBasicPassword\">\n        <InputGroup className=\"mb-3\">\n          <Form.Control\n            type={this._displayType()}\n            placeholder={this._displayContraint()}\n            aria-label=\"Mot de passe\"\n            aria-describedby={this.props.btnId}\n            onChange={this.props.onChange}\n            value= {this.props.value}\n          />\n          <InputGroup.Append>\n            <Button variant=\"secondary\" aria-hidden=\"true\" onClick={this._handleEye}>{this._displayEye()}</Button>\n          </InputGroup.Append>\n        </InputGroup>\n      </Form.Group>\n    );\n  }\n}\n\nPasswordInput.defautProps = {\n  contraint: false\n};","const url = '/api';\n\nexport default url;","import url from './url';\n\nexport function login(toSend) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: {\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    },\n  };\n  return fetch(`${url}/users/login`, init)\n    .then(res => res.json());\n}\n\nexport function getUserInfo(idUser, token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/users/${idUser}`, init)\n    .then(res => res.json());\n}\n\nexport function getAllUser(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/users`, init)\n    .then(res => res.json());\n}\n\nexport function addUser(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/users`, init)\n    .then(res => res.json());\n}\n\nexport function deleteUser(token, idUser) {\n  const init = {\n    method: \"DELETE\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n    })\n  };\n\n  return fetch(`${url}/users/${idUser}`, init)\n    .then(res => res.json());\n} \n\nexport function updateUser(token, idUser, toSend) {\n  const init = {\n    method: \"PUT\",\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      \"Content-Type\": \"application/json; charset=UTF-8\"\n    })\n  };\n\n  return fetch(`${url}/users/${idUser}`, init)\n    .then(res => res.json());\n} ","import { Component } from 'react';\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\nimport Logo from '../Components/Logo';\nimport PasswordInput from '../Components/PasswordInput';\nimport { login } from '../Services/users';\nimport Cookies from 'js-cookie';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Connexion';\n    this.state = {\n      pseudo: '',\n      password: '',\n      alert: '',\n      toManyRequest: false,\n    };\n  }\n\n  componentDidMount() {\n    if (Cookies.get('idUser') || Cookies.get('token')) {\n      window.location.href = '/application/home';\n    }\n  };\n\n  _handlePseudo = (event) => {\n    this.setState({ pseudo: event.target.value });\n  }\n\n  _handlePassword = (event) => {\n    this.setState({ password: event.target.value });\n  }\n\n  _displayButton = () => {\n    return this.state.pseudo.trim().length > 0 && this.state.password.trim().length > 0 ?\n      <Button variant=\"success\" id=\"btnSubmit\" type=\"submit\" onClick={this._onClick}>Se connecter</Button>\n      :\n      <Button variant=\"success\" id=\"btnSubmit\" type=\"submit\" disabled onClick={this._onClick}>Se connecter</Button>\n  };\n\n  _onClick = (event) => {\n    event.preventDefault();\n    const toSend = {\n      pseudo: this.state.pseudo,\n      password: this.state.password,\n    };\n\n    if (!this.state.toManyRequest) {\n      login(toSend)\n        .then(data => {\n          if (data.toManyRequest === true) {\n            this.setState({ alert: `Vous avez fait trop de tentative, attendez ${data.minute} minutes`, toManyRequest: true });\n          } else if (data.idUser && data.token) {\n            Cookies.set('idUser', data.idUser, { expires: 1 });\n            Cookies.set('token', data.token, { expires: 1 });\n            window.location.href = '/application/home';\n          } else if (data.email && !data.password) {\n            this.setState({ alert: 'Votre mot de passe est incorrect!', toManyRequest: false });\n          } else if (!data.email) {\n            this.setState({ alert: 'Votre mot de passe et votre addresse email sont incorrect!', toManyRequest: false });\n          }\n        })\n        .catch(error => {\n          this.setState({ alert: 'Une erreur inconnu a eu lieu!' });\n        });\n    }\n  }\n\n  render() {\n    return (\n      <Container role=\"main\">\n        <Logo />\n        <h1>Connectez-vous!</h1>\n        <Form>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Pseudo: </Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Votre pseudo...\"\n              aria-label=\"Pseudo\"\n              aria-describedby=\"btnSubmit\"\n              onChange={this._handlePseudo}\n              value={this.state.pseudo}\n            />\n          </Form.Group>\n\n          Votre mot de passe:\n          <PasswordInput btnId=\"btnSubmit\" value={this.state.password} onChange={this._handlePassword} />\n          <Alert variant=\"danger\" show={this.state.alert.length > 0}>\n            {this.state.alert}\n          </Alert>\n          {this._displayButton()}\n        </Form>\n      </Container>\n    );\n  };\n}\n\nexport default Login;","import { Component } from 'react';\nimport { getUserInfo } from '../Services/users';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      error: false,\n    };\n  }\n\n  componentDidMount() {\n    if (!Cookies.get(\"idUser\") || !Cookies.get(\"token\")) {\n      window.location.href = \"/application\";\n    } else {\n      getUserInfo(Cookies.get(\"idUser\"), Cookies.get(\"token\"))\n        .then(data => {\n          if (data.find) {\n            this.setState({ isLoading: false });\n            switch (data.result.level) {\n              case 3:\n                window.location.href=\"/application/sessions/inProgress\";\n                break;\n              case 2:\n                window.location.href=\"/application/stocks\";\n                break;\n              case 1:\n                window.location.href=\"/application/stocks\";\n                break;\n              default: \n                Cookies.remove('idUser');\n                Cookies.remove('token');\n                window.location.href = '/application/';\n                break;\n            }\n          } else if (data.invalidToken || data.userNotFound) {\n            Cookies.remove('idUser');\n            Cookies.remove('token');\n            window.location.href = '/application/';\n          } else {\n            this.setState({ isLoading: false, error: true });\n          }\n        })\n        .catch(() => {\n          this.setState({ isLoading: false, error: true });\n        });\n    }\n  }\n\n  render() {\n    return this.state.isLoading ? <Spinner animation = 'border' role = 'status'><span className='sr-only'>Loading...</span></Spinner>  : null;\n  }\n}\n\nexport default Home;","import React from 'react';\nimport { Nav } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\nclass Deconnect extends React.Component {\n  _onClick = () => {\n    Cookies.remove('token');\n    Cookies.remove('idUser');\n\n    window.location.href = '/application/';\n  }\n\n  render() {\n    return (\n      <Nav.Link onClick={this._onClick}>Dconnexion</Nav.Link>\n    );\n  }\n}\n\nexport default Deconnect;","import React from 'react';\nimport { Navbar, Nav, NavDropdown, Image, Row, Col} from 'react-bootstrap';\nimport Deconnect from './Deconnect';\n\nconst AdminNavBar = ({ userInfo }) => {\n  const displayPost = () => {\n    switch (userInfo.level) {\n      case 3:\n        return \"Caissier / Caissire\";\n      case 2:\n        return \"Manager\";\n      case 1:\n        return \"Administrateur\";\n      default:\n        return \"Employ\";\n    }\n  };\n  return (\n    <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\">\n      <Navbar.Brand href=\"#home\">\n        <img\n          alt=\"\"\n          src='http://le-consulat-drc.com/images/logo'\n          width=\"50\"\n          height=\"50\"\n          className=\"d-inline-block align-top\"\n        />{' '}\n        <span style={{ fontSize: 30, fontWeight: \"bold\" }}>Le Consulat</span>\n      </Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\" activeKey={window.location.pathname}>\n          <Nav.Link href=\"/application/users\">Utilisateurs</Nav.Link>\n          <Nav.Link href=\"/application/clients\">Clients</Nav.Link>\n          <Nav.Link href=\"/application/products\">Produits</Nav.Link>\n          <Nav.Link href=\"/application/stocks\">Stocks</Nav.Link>\n          <NavDropdown title=\"Transactions\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/transactions/detail\">En dtails</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/transactions/wholesale\">En gros</NavDropdown.Item>\n          </NavDropdown>\n          <NavDropdown title=\"Caisse\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/guichet/transactions\">Transactions</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/guichet/categories\">Catgories</NavDropdown.Item>\n          </NavDropdown>\n          <NavDropdown title=\"Sessions\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/sessions/inProgress\">En cours</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/notPaid\">Non pay</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report\">Rapport d'un jour</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report/period\">Rapport d'une priode</NavDropdown.Item>\n          </NavDropdown>\n          <Deconnect />\n        </Nav>\n        <div className=\"bg-white\">\n          <strong>Nom:</strong> {userInfo.name}<br />\n          <strong>Poste:</strong> {displayPost()}\n        </div>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default AdminNavBar;","import React from 'react';\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\nimport Deconnect from './Deconnect';\n\nconst MediumNavBar = ({ userInfo }) => {\n  const displayPost = () => {\n    switch (userInfo.level) {\n      case 3:\n        return \"Caissier / Caissire\";\n      case 2:\n        return \"Manager\";\n      case 1:\n        return \"Administrateur\";\n      default:\n        return \"Employ\";\n    }\n  };\n  return (\n    <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\">\n      <Navbar.Brand href=\"#home\">\n        <img\n          alt=\"\"\n          src='http://le-consulat-drc.com/images/logo'\n          width=\"50\"\n          height=\"50\"\n          className=\"d-inline-block align-top\"\n        />{' '}\n        <span style={{ fontSize: 30, fontWeight: \"bold\" }}>Le Consulat</span>\n      </Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\" activeKey={window.location.pathname}>\n          <NavDropdown title=\"Sessions\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/sessions/inProgress\">En cours</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/notPaid\">Non pay</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report\">Rapport d'un jour</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report/period\">Rapport d'une priode</NavDropdown.Item>\n          </NavDropdown>\n          <Nav.Link href=\"/application/clients\">Clients</Nav.Link>\n          <Nav.Link href=\"/application/stocks\">Stocks</Nav.Link>\n          <Deconnect />\n        </Nav>\n        <div className=\"bg-white\">\n          <strong>Nom:</strong> {userInfo.name}<br />\n          <strong>Poste:</strong> {displayPost()}\n        </div>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default MediumNavBar;","import React from 'react';\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\nimport Deconnect from './Deconnect';\n\nconst ManagerNavBar = ({ userInfo }) => {\n  const displayPost = () => {\n    switch (userInfo.level) {\n      case 3:\n        return \"Caissier / Caissire\";\n      case 2:\n        return \"Manager\";\n      case 1:\n        return \"Administrateur\";\n      default:\n        return \"Employ\";\n    }\n  };\n  return (\n    <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\">\n      <Navbar.Brand href=\"#home\">\n        <img\n          alt=\"\"\n          src='http://le-consulat-drc.com/images/logo'\n          width=\"50\"\n          height=\"50\"\n          className=\"d-inline-block align-top\"\n        />{' '}\n        <span style={{ fontSize: 30, fontWeight: \"bold\" }}>Le Consulat</span>\n      </Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\" activeKey={window.location.pathname}>\n          <Nav.Link href=\"/application/stocks\">Stocks</Nav.Link>\n          <Nav.Link href=\"/application/transactions/manager\">Transactions</Nav.Link>\n          <Nav.Link href=\"/application/clients\">Clients</Nav.Link>\n          <NavDropdown title=\"Sessions\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/sessions/inProgress\">En cours</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/notPaid\">Non pay</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report\">Rapport d'un jour</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report/period\">Rapport d'une priode</NavDropdown.Item>\n          </NavDropdown>\n          <Deconnect />\n        </Nav>\n        <div className=\"bg-white\">\n          <strong>Nom:</strong> {userInfo.name}<br />\n          <strong>Poste:</strong> {displayPost()}\n        </div>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default ManagerNavBar;","import React from 'react';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { getUserInfo } from '../Services/users';\nimport AdminNavBar from './AdminNavBar';\nimport MediumNavBar from './MediumNavBar';\nimport ManagerNavBar from './ManagerNavBar';\n\nclass NavBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataUser: null,\n      isLoading: true,\n    };\n\n    if (!Cookies.get(\"idUser\") || !Cookies.get(\"token\")) {\n      window.location.href = \"/application/\";\n    }\n  }\n\n  componentDidMount() {\n    getUserInfo(Cookies.get(\"idUser\"), Cookies.get(\"token\"))\n      .then((data) => {\n        if (data.find) {\n          this.setState({ dataUser: data.result, isLoading: false });\n        } else {\n          window.alert(\"Une erreur inconnue a eu lieu\");\n        }\n      })\n      .catch(() => {\n        window.alert(\"Une erreur inconnue a eu lieu\");\n      });\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation='border' role='status'>\n          <span className='sr-only'>Loading...</span>\n        </Spinner>\n      );\n    } else {\n      if (this.state.dataUser.level === 1) {\n        return <AdminNavBar userInfo={this.state.dataUser} />;\n      } else if (this.state.dataUser.level === 2) {\n        return <ManagerNavBar userInfo={this.state.dataUser} />;\n      } else if (this.state.dataUser.level === 3) {\n        return <MediumNavBar userInfo={this.state.dataUser} />;\n      }\n    }\n  }\n}\n\nNavBar.defaultProps = {\n  redirect: false\n};\n\nexport default NavBar;","import React from 'react';\nimport { getAllUser, deleteUser } from '../Services/users';\nimport Cookies from 'js-cookie';\nimport MaterialTable from \"material-table\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\n\nclass TableUsers extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      users: [],\n      isLoading: true,\n      error: false,\n    };\n\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Pseudo\",\n        field: \"pseudo\",\n      },\n      {\n        title: \"Rle\",\n        field: \"level2\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getAllUser(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          let until = [];\n          for (let index in data.result) {\n            until.push({ ...data.result[index], level2: this._adapt(data.result[index].level) })\n          }\n          this.setState({ users: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('idUser');\n          Cookies.remove('token');\n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, error: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: false });\n      });\n  }\n\n  _adapt = (toAdapt) => {\n    switch (toAdapt) {\n      case 3:\n        return \"Caissier / Caissire\";\n      case 2:\n        return \"Manager\";\n      case 1:\n        return \"Administrateur\";\n    }\n  }\n\n  _handleDelete = (event, rowData) => {\n    if (window.confirm('tes vous sre de vouloir supprimer cette utilisateur')) {\n      deleteUser(Cookies.get('token'), rowData.idUser)\n        .then(res => {\n          if (res.delete) {\n            window.location.reload();\n          } else if (res.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else if (res.cannotDeleteAdmin) { \n            alert('Vous ne pouvez pas supprimer un administrateur')\n          } else {\n            alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n          }\n        })\n        .catch(() => {\n          alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n        });\n    }\n  }\n\n  _handleUpdate = (event, rowData) => {\n    let capture;\n    for (let index in this.state.users) {\n      if (this.state.users[index].idUser === rowData.idUser) {\n        capture= this.state.users[index];\n      }\n    }\n    this.props.onUpdate(capture);\n  }\n\n  render() {\n    if (this.state.error) {\n      return <h2>Une erreur a eu leiu veuillez ressayer</h2>\n    } else {\n      return (\n        <MaterialTable\n          title='Liste des utilisateur'\n          data={this.state.users}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: false,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n          actions={[\n            {\n              icon: () => <EditIcon htmlColor='#007bff' />,\n              tooltip: \"Modifier\",\n              onClick: this._handleUpdate,\n            },\n            {\n              icon: () => <DeleteIcon htmlColor='#dc3545' />,\n              tooltip: \"Supprimer l'utilisateur\",\n              onClick: this._handleDelete,\n            },\n          ]}\n        />\n      );\n    }\n  }\n}\n\nexport default TableUsers;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport PasswordInput from './PasswordInput';\nimport passwordValidator from 'password-validator';\nimport _ from 'underscore';\nimport { addUser } from '../Services/users';\nimport Cookies from 'js-cookie';\n\nclass PopupAddUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: '',\n      pseudo: '',\n      password: '',\n      level: 1,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existPseudo: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePseudo = (event) => {\n    this.setState({ pseudo: event.target.value });\n  }\n\n  _handlePassword = (event) => {\n    this.setState({ password: event.target.value });\n  }\n  \n  _handleLevel = (event) => {\n    this.setState({ level: parseInt(event.target.value) });\n  }\n\n  _displayButton = () => {\n    const schema = new passwordValidator();// On cre une nouvelle instance de l'objet\n    schema// On cre un nouveau schma\n      .is().min(8)                                    // Minimum length 8\n      .has().uppercase()                              // Must have uppercase letters\n      .has().lowercase()                              // Must have lowercase letters\n      .has().digits(2)                                // Must have at least 2 digits\n    \n    if (schema.validate(this.state.password) && (this.state.name.length >= 2 && this.state.name.length < 30 && _.isString(this.state.name)) && (this.state.pseudo.length >= 2 && this.state.pseudo.length < 30 && _.isString(this.state.pseudo)) && (this.state.level >= 1 && this.state.level <= 3) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      pseudo: this.state.pseudo,\n      password: this.state.password,\n      level: this.state.level,\n    };\n\n    addUser(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existPseudo: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existPseudo: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existPseudo) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existPseudo: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existPseudo: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existPseudo: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Utilisateur ajout avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existPseudo) {\n      return <Alert variant=\"warning\">Un utilisateur possde le mme pseudo</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"ddccc\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un client</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du client...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"phoneNumbereeeddd\">\n            <Form.Label>Pseudo: </Form.Label>\n            <Form.Control\n              onChange={this._handlePseudo}\n              value={this.state.pseudo}\n              type=\"text\"\n              placeholder=\"Le pseudo de l'utilisateur...\"\n              aria-label=\"Pseudo\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"password\">\n            <Form.Label>Mot de passe: </Form.Label>\n            <PasswordInput onChange={this._handlePassword} value={this.state.password} />\n          </Form.Group>\n          <Form.Group controlId=\"level\">\n            <Form.Label>Rle: </Form.Label>\n            <select onChange={this._handleLevel} className='form-control'>\n              <option value={1} selected>Administrateur</option>\n              <option value={2}>Manager</option>\n              <option value={3}>Caissier/ire</option>\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddUser;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport PasswordInput from './PasswordInput';\nimport passwordValidator from 'password-validator';\nimport _ from 'underscore';\nimport { updateUser } from '../Services/users';\nimport Cookies from 'js-cookie';\n\nclass PopupAddUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: this.props.data.name,\n      pseudo: this.props.data.pseudo,\n      password: '',\n      level: this.props.data.level,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existPseudo: false,\n      changeLastAdmin: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePseudo = (event) => {\n    this.setState({ pseudo: event.target.value });\n  }\n\n  _handlePassword = (event) => {\n    this.setState({ password: event.target.value });\n  }\n  \n  _handleLevel = (event) => {\n    this.setState({ level: parseInt(event.target.value) });\n  }\n\n  _displayButton = () => {\n    const schema = new passwordValidator();// On cre une nouvelle instance de l'objet\n    schema// On cre un nouveau schma\n      .is().min(8)                                    // Minimum length 8\n      .has().uppercase()                              // Must have uppercase letters\n      .has().lowercase()                              // Must have lowercase letters\n      .has().digits(2)                                // Must have at least 2 digits\n    \n    if (this.state.password.trim().length > 1) {\n      if (schema.validate(this.state.password) && (this.state.name.length >= 2 && this.state.name.length < 30 && _.isString(this.state.name)) && (this.state.pseudo.length >= 2 && this.state.pseudo.length < 30 && _.isString(this.state.pseudo)) && (this.state.level >= 1 && this.state.level <= 3) && !this.state.isLoading) {\n        return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n      } else {\n        return <Button variant=\"success\" disabled>Confirmer</Button>\n      }\n    } else {\n      if ((this.state.name.length >= 2 && this.state.name.length < 30 && _.isString(this.state.name)) && (this.state.pseudo.length >= 2 && this.state.pseudo.length < 30 && _.isString(this.state.pseudo)) && (this.state.level >= 1 && this.state.level <= 2) && !this.state.isLoading) {\n        return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n      } else {\n        return <Button variant=\"success\" disabled>Confirmer</Button>\n      }\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = this.state.password.trim().length > 1 ? {\n      name: this.state.name,\n      pseudo: this.state.pseudo,\n      password: this.state.password,\n      level: this.state.level,\n    } : {\n      name: this.state.name,\n      pseudo: this.state.pseudo,\n      level: this.state.level,\n    };\n\n    updateUser(Cookies.get('token'), this.props.data.idUser, toSend)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, changeLastAdmin: false, existPseudo: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, changeLastAdmin: false, existPseudo: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existPseudo) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, changeLastAdmin: false, existPseudo: true, error: false });\n        } else if (res.cantChangeLevelOfLastAdmin) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, changeLastAdmin: true, existPseudo: false, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, changeLastAdmin: false, existPseudo: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, changeLastAdmin: false, existPseudo: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Utilisateur modifi avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.changeLastAdmin) {\n      return <Alert variant=\"warning\">Vous ne pouvez pas changer le rle du dernier Admin</Alert>;\n    } else if (this.state.existPseudo) {\n      return <Alert variant=\"warning\">Un utilisateur possde le mme pseudo</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayOption = () => {\n    if (this.state.level === 1) {\n      return (\n        <>\n          <option value={1} selected>Administrateur</option>\n          <option value={2}>Manager</option>\n          <option value={3}>Caissier/ire</option>\n        </>\n      )\n    } else if (this.state.level === 2) {\n      return (\n        <>\n          <option value={1}>Administrateur</option>\n          <option value={2} selected>Manager</option>\n          <option value={3}>Caissier/ire</option>\n        </>\n      )\n    } else if (this.state.level === 3) {\n      return (\n        <>\n          <option value={1}>Administrateur</option>\n          <option value={2}>Manager</option>\n          <option value={3} selected>Caissier/ire</option>\n        </>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modifier un utilisateur</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom de l'utilisateur...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"pseudo\">\n            <Form.Label>Pseudo: </Form.Label>\n            <Form.Control\n              onChange={this._handlePseudo}\n              value={this.state.pseudo}\n              type=\"text\"\n              placeholder=\"Le pseudo de l'utilisateur...\"\n              aria-label=\"Pseudo\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"password\">\n            <Form.Label>Mot de passe (Laissez vide pour ne pas changer): </Form.Label>\n            <PasswordInput onChange={this._handlePassword} value={this.state.password} />\n          </Form.Group>\n          <Form.Group controlId=\"level\">\n            <Form.Label>Rle: </Form.Label>\n            <select onChange={this._handleLevel} className='form-control'>\n              {this._displayOption()}\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddUser;","import Cookies from 'js-cookie';\nimport { getUserInfo } from '../Services/users';\n\nconst verifyIsAdmin = (callback) => {\n  getUserInfo(Cookies.get('idUser'), Cookies.get('token'))\n    .then(user => {\n      if (user.find) {\n        if (user.result.level !== 1) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          if (callback) {\n            callback(user.result);\n          }\n        }\n      } else {\n        alert('Une erreur a eu lieu');\n        window.location.href = '/application/';\n      }\n    })\n    .catch(() => {\n      alert('Une erreur a eu lieu');\n      window.location.href = '/application/';\n    });\n};\n\nexport default verifyIsAdmin;","import React from 'react';\nimport { Button, Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport TableUsers from '../Components/TableUsers';\nimport PopupAddUser from '../Components/PopupAddUser';\nimport PopupEditUser from '../Components/PopupEditUser';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\n\nclass Users extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Utilisateurs';\n\n    this.state = {\n      addMode: false,\n      editMode: false,\n    }\n    this.infoEdit = null;\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true, editMode: false });\n  }\n\n  _onUpdate = (info) => {\n    this.infoEdit = info;\n    this.setState({ addMode: false, editMode: true })\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Utilisateurs</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter un utilisateur</Button>\n          <br /><br />\n          <TableUsers onUpdate={this._onUpdate} />\n          {this.state.addMode ? <PopupAddUser callback={this._onClose} /> : null}\n          {this.state.editMode ? <PopupEditUser callback={this._onClose} data={this.infoEdit} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default Users;","import url from './url';\n\nexport function getAllClient(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/clients`, init)\n    .then(res => res.json());\n}\n\nexport function getOneClient(token, idClient) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/clients/${idClient}`, init)\n    .then(res => res.json());\n}\n\nexport function addClient(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/clients`, init)\n    .then(res => res.json());\n}\n\nexport function updateClient(token, idClient, toSend) {\n  const init = {\n    method: \"PUT\",\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      \"Content-Type\": \"application/json; charset=UTF-8\"\n    })\n  };\n\n  return fetch(`${url}/clients/${idClient}`, init)\n    .then(res => res.json());\n} \n\nexport function deleteClient(token, idClient) {\n  const init = {\n    method: \"DELETE\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n    })\n  };\n\n  return fetch(`${url}/clients/${idClient}`, init)\n    .then(res => res.json());\n} ","import React from 'react';\nimport Cookies from 'js-cookie';\nimport MaterialTable from \"material-table\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { getAllClient, deleteClient } from '../Services/clients';\n\nclass TableClients extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      clients: [],\n      isLoading: true,\n      error: false,\n    };\n\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Numro de tlphone\",\n        field: \"phoneNumber\",\n      },\n      {\n        title: \"Adresse email\",\n        field: \"email\",\n      },\n      {\n        title: \"Anniversaire\",\n        field: \"birthday\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getAllClient(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          let until = [];\n          for (let index in data.result) {\n            until.push({ ...data.result[index] })\n          }\n          this.setState({ clients: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('idUser');\n          Cookies.remove('token');\n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, error: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: false });\n      });\n  }\n\n  _handleUpdate = (event, rowData) => {\n    let capture;\n    for (let index in this.state.clients) {\n      if (this.state.clients[index].idClient === rowData.idClient) {\n        capture= this.state.clients[index];\n      }\n    }\n    this.props.onUpdate(capture);\n  }\n\n  _handleDelete = (event, rowData) => {\n    if (window.confirm('tes vous sre de vouloir supprimer ce client?')) {\n      deleteClient(Cookies.get('token'), rowData.idClient)\n        .then(res => {\n          if (res.delete) {\n            window.location.reload();\n          } else if (res.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n          }\n        })\n        .catch(() => {\n          alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n        });\n    }\n  }\n\n  render() {\n    if (this.state.error) {\n      return <h2>Une erreur a eu leiu veuillez ressayer</h2>\n    } else {\n      return (\n        <MaterialTable\n          title='Liste des clients'\n          data={this.state.clients}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: false,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n          actions={[\n            {\n              icon: () => <EditIcon htmlColor='#007bff' />,\n              tooltip: \"Modifier\",\n              onClick: this._handleUpdate,\n            },\n            {\n              icon: () => <DeleteIcon htmlColor='#dc3545' />,\n              tooltip: \"Supprimer le client\",\n              onClick: this._handleDelete,\n            },\n          ]}\n        />\n      );\n    }\n  }\n}\n\nexport default TableClients;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { addClient } from '../Services/clients';\n\nclass PopupAddClient extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: '',\n      phoneNumber: '',\n      email: '',\n      birthday: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existName: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePhoneNumber = (event) => {\n    this.setState({ phoneNumber: event.target.value });\n  }\n\n  _handleEmail = (event) => {\n    this.setState({ email: event.target.value });\n  }\n  \n  _handleBirthday = (event) => {\n    this.setState({ birthday: event.target.value });\n  }\n\n  _displayButton = () => {\n    if (this.state.name.length >= 2 && this.state.name.length <= 50 && _.isString(this.state.name) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      phoneNumber: this.state.phoneNumber,\n      email: this.state.email,\n      birthday: this.state.birthday,\n    };\n\n    addClient(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existName) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Client ajout avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existName) {\n      return <Alert variant=\"warning\">Un client possde dj le mme nom</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un client</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du client...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"phoneNumber\">\n            <Form.Label>Numro de tlphone: </Form.Label>\n            <Form.Control\n              onChange={this._handlePhoneNumber}\n              value={this.state.phoneNumber}\n              type=\"text\"\n              placeholder=\"Le numro du client...\"\n              aria-label=\"phoneNumber\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"email\">\n            <Form.Label>Adresse email: </Form.Label>\n            <Form.Control\n              onChange={this._handleEmail}\n              value={this.state.email}\n              type=\"text\"\n              placeholder=\"L'email du client...\"\n              aria-label=\"email\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"birthday\">\n            <Form.Label>Date de naissance: </Form.Label>\n            <Form.Control\n              onChange={this._handleBirthday}\n              value={this.state.birthday}\n              type=\"text\"\n              placeholder=\"La date de naissance du client...\"\n              aria-label=\"naissance\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddClient;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { updateClient } from '../Services/clients';\n\nclass PopupEditClient extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: this.props.data.name,\n      phoneNumber: this.props.data.phoneNumber,\n      email: this.props.data.email,\n      birthday: this.props.data.birthday,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existName: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePhoneNumber = (event) => {\n    this.setState({ phoneNumber: event.target.value });\n  }\n\n  _handleEmail = (event) => {\n    this.setState({ email: event.target.value });\n  }\n  \n  _handleBirthday = (event) => {\n    this.setState({ birthday: event.target.value });\n  }\n\n  _displayButton = () => {\n    if (this.state.name.length >= 2 && this.state.name.length <= 50 && _.isString(this.state.name) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n    } else {\n      return <Button variant=\"success\" disabled>Confirmer</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      phoneNumber: this.state.phoneNumber,\n      email: this.state.email,\n      birthday: this.state.birthday,\n    };\n\n    updateClient(Cookies.get('token'), this.props.data.idClient, toSend)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existName) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Client modifi avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existName) {\n      return <Alert variant=\"warning\">Un client possde dj le mme nom</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modifier un client</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du client...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"phoneNumber\">\n            <Form.Label>Numro de tlphone: </Form.Label>\n            <Form.Control\n              onChange={this._handlePhoneNumber}\n              value={this.state.phoneNumber}\n              type=\"text\"\n              placeholder=\"Le numro du client...\"\n              aria-label=\"phoneNumber\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"email\">\n            <Form.Label>Adresse email: </Form.Label>\n            <Form.Control\n              onChange={this._handleEmail}\n              value={this.state.email}\n              type=\"text\"\n              placeholder=\"L'email du client...\"\n              aria-label=\"email\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"birthday\">\n            <Form.Label>Date de naissance: </Form.Label>\n            <Form.Control\n              onChange={this._handleBirthday}\n              value={this.state.birthday}\n              type=\"text\"\n              placeholder=\"La date de naissance du client...\"\n              aria-label=\"naissance\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditClient;","import React from 'react';\nimport { Button, Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport TableClients from '../Components/TableClients';\nimport PopupAddClient from '../Components/PopupAddClient';\nimport PopupEditClient from '../Components/PopupEditClient';\n\nclass Clients extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Clients';\n\n    this.state = {\n      addMode: false,\n      editMode: false,\n    }\n    this.infoEdit = null;\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true, editMode: false });\n  }\n\n  _onUpdate = (info) => {\n    this.infoEdit = info;\n    this.setState({ addMode: false, editMode: true })\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Clients</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter un client</Button>\n          <br /><br />\n          <TableClients onUpdate={this._onUpdate} />\n          {this.state.addMode ? <PopupAddClient callback={this._onClose} /> : null}\n          {this.state.editMode ? <PopupEditClient callback={this._onClose} data={this.infoEdit} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default Clients;","import url from './url';\n\nexport function getAllProducts(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/products`, init)\n    .then(res => res.json());\n}\n\nexport function getOneProduct(token, idProduct) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/products/${idProduct}`, init)\n    .then(res => res.json());\n}\n\nexport function getMostPopularTypes(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/products/special/type/most-popular-type`, init)\n    .then(res => res.json());\n}\n\nexport function getMostPopularProducts(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/products/special/most-popular`, init)\n    .then(res => res.json());\n}\n\nexport function addProducts(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/products`, init)\n    .then(res => res.json());\n}\n\nexport function updateProducts(token, idProducts, toSend) {\n  const init = {\n    method: \"PUT\",\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      \"Content-Type\": \"application/json; charset=UTF-8\"\n    })\n  };\n\n  return fetch(`${url}/products/${idProducts}`, init)\n    .then(res => res.json());\n} \n\nexport function deleteProducts(token, idProducts) {\n  const init = {\n    method: \"DELETE\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n    })\n  };\n\n  return fetch(`${url}/products/${idProducts}`, init)\n    .then(res => res.json());\n} ","import React from 'react';\nimport Cookies from 'js-cookie';\nimport MaterialTable from \"material-table\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { deleteProducts, getAllProducts } from '../Services/products';\n\nclass TableProducts extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      products: [],\n      isLoading: true,\n      error: false,\n    };\n\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Type\",\n        field: \"type\",\n      },\n      {\n        title: \"Prix\",\n        field: \"price\",\n      },\n      {\n        title: \"Prix d'achat\",\n        field: \"buyPrice\",\n      },\n      {\n        title: \"Stock\",\n        field: \"inStock\",\n      },\n      {\n        title: \"Unit\",\n        field: \"unit\",\n      },\n      {\n        title: \"Valeur\",\n        field: \"value\",\n      },\n    ];\n  }\n\n  async componentDidMount() {\n    var until = [];\n    await getAllProducts(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          for (let index in data.result) {\n            until.push({ ...data.result[index], value: `${data.result[index].price * data.result[index].inStock}$`, price: `${data.result[index].price}$` });\n          }\n          this.setState({ products: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('idUser');\n          Cookies.remove('token');\n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, error: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: false });\n      });\n  }\n\n  _adapt = (info) => {\n    return info === 1 ? 'Oui' : 'Non';\n  }\n\n  _handleUpdate = (event, rowData) => {\n    let capture;\n    for (let index in this.state.products) {\n      if (this.state.products[index].idProduct === rowData.idProduct) {\n        capture= this.state.products[index];\n      }\n    }\n    this.props.onUpdate(capture);\n  }\n\n  _handleDelete = (event, rowData) => {\n    if (window.confirm('tes vous sre de vouloir supprimer ce produit?')) {\n      deleteProducts(Cookies.get('token'), rowData.idProduct)\n        .then(res => {\n          if (res.delete) {\n            window.location.reload();\n          } else if (res.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n          }\n        })\n        .catch(() => {\n          alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n        });\n    }\n  }\n\n  render() {\n    if (this.state.error) {\n      return <h2>Une erreur a eu leiu veuillez ressayer</h2>\n    } else {\n      return (\n        <MaterialTable\n          title='Liste des produits'\n          data={this.state.products}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: true,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n          actions={[\n            {\n              icon: () => <EditIcon htmlColor='#007bff' />,\n              tooltip: \"Modifier\",\n              onClick: this._handleUpdate,\n            },\n            {\n              icon: () => <DeleteIcon htmlColor='#dc3545' />,\n              tooltip: \"Supprimer le produit\",\n              onClick: this._handleDelete,\n            },\n          ]}\n        />\n      );\n    }\n  }\n}\n\nexport default TableProducts;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { addProducts } from '../Services/products';\n\nclass PopupAddProducts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: '',\n      price: '',\n      type: 'Boissons',\n      unit: '',\n      inStock: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existName: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePrice = (event) => {\n    this.setState({ price: event.target.value });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _handleUnit = (event) => {\n    this.setState({ unit: event.target.value });\n  }\n\n  _handleInStock = (event) => {\n    this.setState({ inStock: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.name.length >= 2 && this.state.name.length <= 70) && (this.state.type === 'Spiritueux' || this.state.type === 'Boissons' || this.state.type === 'Plts' || this.state.type === 'Cigarettes') && (_.isNumber(Number(this.state.price))) && (_.isNumber(Number(this.state.inStock))) && (this.state.unit.length >= 2 && this.state.unit.length <= 70) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      price: Number(this.state.price),\n      type: this.state.type,\n      unit: this.state.unit,\n      inStock: Number(this.state.inStock),\n    };\n\n    addProducts(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 250);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existName) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Produit ajout avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existName) {\n      return <Alert variant=\"warning\">Un produit possde dj le mme nom</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un produit</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du produit...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select id='type' className='form-control' onChange={this._handleType}>\n              <option value='Spiritueux'>Spiritueux</option>\n              <option value='Cigarettes'>Cigarettes</option>\n              <option value='Boissons' selected>Boissons</option>\n              <option value='Plts'>Plts</option>\n            </select>\n          </Form.Group>\n          <Form.Group controlId=\"price\">\n            <Form.Label>Prix (en $): </Form.Label>\n            <Form.Control\n              onChange={this._handlePrice}\n              value={this.state.price}\n              type=\"number\"\n              placeholder=\"Le prix du produit...\"\n              aria-label=\"price\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"inStock\">\n            <Form.Label>Stock actuel: </Form.Label>\n            <Form.Control\n              onChange={this._handleInStock}\n              value={this.state.inStock}\n              type=\"number\"\n              placeholder=\"Le nombre de produit en stock...\"\n              aria-label=\"inStock\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"unit\">\n            <Form.Label>Unit (Portions, Bouteille, Assiette): </Form.Label>\n            <Form.Control\n              onChange={this._handleUnit}\n              value={this.state.unit}\n              type=\"text\"\n              placeholder=\"L'unit du produit...\"\n              aria-label=\"unit\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddProducts;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { updateProducts } from '../Services/products';\n\nclass PopupEditProducts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: this.props.data.name,\n      price: parseInt(this.props.data.price),\n      type: this.props.data.type,\n      unit: this.props.data.unit,\n      buyPrice: this.props.data.buyPrice,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existName: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePrice = (event) => {\n    this.setState({ price: event.target.value });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _handleUnit = (event) => {\n    this.setState({ unit: event.target.value });\n  }\n\n  _handleBuyPrice  = (event) => {\n    this.setState({ buyPrice: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.name.length >= 2 && this.state.name.length <= 70) && (this.state.type === 'Spiritueux' || this.state.type === 'Boissons' || this.state.type === 'Plts' || this.state.type === 'Cigarettes') && (_.isNumber(Number(this.state.price))) && (_.isNumber(Number(this.state.inStock))) && (this.state.unit.length >= 2 && this.state.unit.length <= 70) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n    } else {\n      return <Button variant=\"success\" disabled>Confirmer</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      price: Number(this.state.price),\n      type: this.state.type,\n      unit: this.state.unit,\n      buyPrice: this.state.buyPrice,\n    };\n\n    updateProducts(Cookies.get('token'), this.props.data.idProduct, toSend)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existName) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Produit modifi avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existName) {\n      return <Alert variant=\"warning\">Un produit possde dj le mme nom</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayOption = () => {\n    if (this.state.type === 'Spiritueux') {\n      return (\n        <>\n          <option value='Spiritueux' selected>Spiritueux</option>\n          <option value='Cigarettes'>Cigarettes</option>\n          <option value='Boissons'>Boissons</option>\n          <option value='Plts'>Plts</option>\n        </>\n      );\n    } else if (this.state.type === 'Boissons') {\n      return (\n        <>\n          <option value='Spiritueux'>Spiritueux</option>\n          <option value='Cigarettes'>Cigarettes</option>\n          <option value='Boissons' selected>Boissons</option>\n          <option value='Plts'>Plts</option>\n        </>\n      );\n    } else if (this.state.type === 'Plts') {\n      return (\n        <>\n          <option value='Spiritueux'>Spiritueux</option>\n          <option value='Cigarettes'>Cigarettes</option>\n          <option value='Boissons'>Boissons</option>\n          <option value='Plts' selected>Plts</option>\n        </>\n      );\n    } else if (this.state.type === 'Cigarettes') {\n\n      return (\n        <>\n          <option value='Spiritueux'>Spiritueux</option>\n          <option value='Cigarettes' selected>Cigarettes</option>\n          <option value='Boissons'>Boissons</option>\n          <option value='Plts'>Plts</option>\n        </>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modifier un produit</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du produit...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select id='type' className='form-control' onChange={this._handleType}>\n              {this._displayOption()}\n            </select>\n          </Form.Group>\n          <Form.Group controlId=\"price\">\n            <Form.Label>Prix (en $): </Form.Label>\n            <Form.Control\n              onChange={this._handlePrice}\n              value={this.state.price}\n              type=\"number\"\n              placeholder=\"Le prix du produit...\"\n              aria-label=\"price\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"unit\">\n            <Form.Label>Unit (Portions, Bouteille, Assiette): </Form.Label>\n            <Form.Control\n              onChange={this._handleUnit}\n              value={this.state.unit}\n              type=\"text\"\n              placeholder=\"L'unit du produit...\"\n              aria-label=\"unit\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"buyPrice\">\n            <Form.Label>Prix d'achat commun (en $): </Form.Label>\n            <Form.Control\n              onChange={this._handleBuyPrice}\n              value={this.state.buyPrice}\n              type=\"number\"\n              placeholder=\"Le prix d'achat du produit...\"\n              aria-label=\"buyPrice\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditProducts;","import React from 'react';\nimport { getMostPopularTypes } from '../Services/products';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass PieMPTypes extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      data: [],\n      error: false,\n    }\n  }\n\n  componentDidMount() {\n    const color = [\n      \"#838B8B\",\n      \"#668B8B\",\n      \"#2F4F4F\",\n      \"#528B8B\",\n    ]\n    getMostPopularTypes(Cookies.get('token'))\n      .then(res => {\n        console.log('====================================');\n        console.log(res);\n        console.log('====================================');\n        if (res.find) {\n          const until = [];\n          for (let index in res.result) {\n            until.push({ title: res.result[index].nameOfType, value: res.result[index].value_occurrence, color: color[index] });\n          }\n          this.setState({ error: false, isLoading: false, data: until });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      })\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) { \n      return <em>Une erreur a eu lieu resayez ou contactez-nous</em>\n    } else {\n      return (\n        <PieChart\n          data={this.state.data}\n          labelStyle={{\n            fill: '#fff',\n            opacity: 0.75,\n            pointerEvents: 'none',\n            fontSize: \"25%\",\n          }}\n          labelPosition={50}\n          label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n        />\n      );\n    }\n  }\n}\n\nexport default PieMPTypes;","import React from 'react';\nimport { getMostPopularProducts } from '../Services/products';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass PiesMPProducts extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      data: null,\n      error: false,\n    }\n  }\n\n  componentDidMount() {\n    const color = [\n      \"#838B8B\",\n      \"#668B8B\",\n      \"#2F4F4F\",\n      \"#528B8B\",\n    ]\n    getMostPopularProducts(Cookies.get('token'))\n      .then(res => {\n        if (res.find) {\n          const untilDrinks = [];\n          const untilSpirits = [];\n          const untilDishes = [];\n          const untilCigarettes = [];\n\n          for (let index in res.result.drinks) {\n            untilDrinks.push({ title: res.result.drinks[index].nameOfProduct, value: res.result.drinks[index].value_occurrence, color: color[index] });\n          }\n          for (let index in res.result.spirits) {\n            untilSpirits.push({ title: res.result.spirits[index].nameOfProduct, value: res.result.spirits[index].value_occurrence, color: color[index] });\n          }\n          for (let index in res.result.dishes) {\n            untilDishes.push({ title: res.result.dishes[index].nameOfProduct, value: res.result.dishes[index].value_occurrence, color: color[index] });\n          }\n          for (let index in res.result.cigarettes) {\n            untilCigarettes.push({ title: res.result.cigarettes[index].nameOfProduct, value: res.result.cigarettes[index].value_occurrence, color: color[index] });\n          }\n\n          this.setState({ error: false, isLoading: false, data: { drinks: untilDrinks, spirits: untilSpirits, dishes: untilDishes, cigarettes: untilCigarettes, } });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch((err) => {\n        console.log('====================================');\n        console.log(err);\n        console.log('====================================');\n        this.setState({ error: true, isLoading: false });\n      })\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu resayez ou contactez-nous</em>\n    } else {\n      return (\n        <div>\n          <h3>Boissons: </h3>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieChart\n              data={this.state.data.drinks}\n              labelStyle={{\n                fill: '#fff',\n                opacity: 0.75,\n                pointerEvents: 'none',\n                fontSize: \"25%\",\n              }}\n              labelPosition={50}\n              label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n            />\n          </div>\n          <h3>Spiritueux: </h3>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieChart\n              data={this.state.data.spirits}\n              labelStyle={{\n                fill: '#fff',\n                opacity: 0.75,\n                pointerEvents: 'none',\n                fontSize: \"25%\",\n              }}\n              labelPosition={50}\n              label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n            />\n          </div>\n          <h3>Plts: </h3>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieChart\n              data={this.state.data.dishes}\n              labelStyle={{\n                fill: '#fff',\n                opacity: 0.75,\n                pointerEvents: 'none',\n                fontSize: \"25%\",\n              }}\n              labelPosition={50}\n              label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n            />\n          </div>\n          <h3>Cigarettes: </h3>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieChart\n              data={this.state.data.cigarettes}\n              labelStyle={{\n                fill: '#fff',\n                opacity: 0.75,\n                pointerEvents: 'none',\n                fontSize: \"25%\",\n              }}\n              labelPosition={50}\n              label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n            />\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default PiesMPProducts;","import React from 'react';\nimport { Button, Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport TableProducts from '../Components/TableProducts';\nimport PopupAddProducts from '../Components/PopupAddProducts';\nimport PopupEditProducts from '../Components/PopupEditProducts';\nimport PieMPTypes from '../Components/PieMPTypes';\nimport PiesMPProducts from '../Components/PiesMPProducts';\n\nclass Products extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Produits';\n\n    this.state = {\n      addMode: false,\n      editMode: false,\n    }\n    this.infoEdit = null;\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true, editMode: false });\n  }\n\n  _onUpdate = (info) => {\n    this.infoEdit = info;\n    this.setState({ addMode: false, editMode: true })\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Produits</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter un produit</Button>\n          <br /><br />\n          <TableProducts onUpdate={this._onUpdate} />\n          {this.state.addMode ? <PopupAddProducts callback={this._onClose} /> : null}\n          {this.state.editMode ? <PopupEditProducts callback={this._onClose} data={this.infoEdit} /> : null}\n          <br />\n          <h2>Types de produit les plus vendues: </h2>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieMPTypes />\n          </div>\n          <h2>Les produits les plus vendues par type: </h2>\n          <PiesMPProducts />\n          <br /><br />\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default Products;","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport { getAllProducts } from '../Services/products';\nimport MaterialTable from \"material-table\";\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\n\nclass Stocks extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Stocks';\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n    };\n    this.type= 'all';\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Stock\",\n        field: \"inStock\",\n      },\n      {\n        title: \"Type\",\n        field: \"type\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getAllProducts(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          this.setState({ info: data.result, toDisplay: data.result, isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _handleType= (event) => {\n    this.type = event.target.value;\n    if (this.type === \"all\") {\n      this.setState({ toDisplay: this.state.info });\n    } else {\n      const until = _.filter(this.state.info, (o) => (o.type === this.type));\n      this.setState({ toDisplay: until });\n    }\n  }\n\n  _displayType = () => {\n    return (\n      <>\n        Type:{' '}\n        <select onChange={this._handleType}>\n          <option value=\"all\" selected>Tout</option>\n          <option value=\"Boissons\">Boissons</option>\n          <option value=\"Plts\">Plts</option>\n          <option value=\"Spiritueux\">Spiritueux</option>\n          <option value=\"Cigarettes\">Cigarettes</option>\n        </select>\n      </>\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Stocks</h1>\n            <em>Une erreur a eu lieu, ressayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Stocks</h1>\n            {this._displayType()}<br /><br />\n            <MaterialTable\n              title='Stocks'\n              data={this.state.toDisplay}\n              columns={this.columns}\n              options={{\n                search: true,\n                paging: true,\n                filtering: true,\n                exportButton: true,\n              }}\n              isLoading={this.state.isLoading}\n            />\n          </Container>\n        </>\n      );\n    }\n  }\n}\n\nexport default Stocks;","import url from './url';\n\nexport function getAllTransactions(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/transactions`, init)\n    .then(res => res.json());\n}\n\nexport function addTransaction(toSend, token, type, idProduct) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  if (type === 'enter') {\n    return fetch(`${url}/transactions/${idProduct}/enter`, init)\n      .then(res => res.json());\n  } else if (type === 'outlet') {\n    return fetch(`${url}/transactions/${idProduct}/outlet`, init)\n      .then(res => res.json());\n  }\n}\n\nexport function getOfOneDay(token, idProduct, begin) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/transactions/${idProduct}/day/${begin}`, init)\n    .then(res => res.json());\n}\n\nexport function getWholeSale(token, begin, end) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/transactions/report/${begin}/${end}`, init)\n    .then(res => res.json());\n}","import React from 'react';\nimport { getAllProducts } from '../Services/products';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport Select from 'react-select';\n\nclass ProductsList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: null, \n      isLoading: true,\n    };\n  }\n\n  async componentDidMount() {\n    let until = [];\n    await getAllProducts(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          for (let index in data.result) {\n            until.push({ value: data.result[index], label: data.result[index].name });\n          }\n          this.setState({ isLoading: false, products: until }, this.props.default ? () => { } : () => {\n            this.props.onChange(this.state.products[0].value.idProduct, this.state.products[0].value);\n          });\n        } else {\n          alert('Une erreur eu lieu, ressayez ou contactez-nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur eu lieu, ressayez ou contactez-nous');\n      });\n  }\n\n  _handle = (event) => {\n    this.props.onChange(event.value.idProduct, event.value);\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n    } else {\n      if (this.state.products.length < 1) {\n        alert(\"Vous n'avez aucun produit commencez par en ajouter un\");\n        window.location.reload();\n      } else {\n        return this.props.default ? <Select defaultValue={this.props.default} options={this.state.products} onChange={this._handle}  /> : <Select options={this.state.products} onChange={this._handle} />;\n      }\n    }\n  }\n}\n\nexport default ProductsList;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport ProductsList from './ProductsList';\nimport { addTransaction } from '../Services/transactions';\n\nclass PopupAddTransaction extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: '',\n      type: 'enter',\n      quantity: 1,\n      buyPrice: '',\n      description: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      productNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct,  productInfo) => {\n    console.log('====================================');\n    console.log(productInfo.buyPrice);\n    console.log('====================================');\n    this.setState({ idProduct: newProduct, buyPrice: productInfo.buyPrice });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _handleQuantity = (event) => {\n    this.setState({ quantity: event.target.value });\n  }\n\n  _handleBuyPrice = (event) => {\n    this.setState({ buyPrice: event.target.value });\n  }\n\n  _handleDescription = (event) => {\n    this.setState({ description: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.description.length >= 2 && this.state.description.length <= 90 && _.isString(this.state.description)) && _.isNumber(Number(this.state.quantity)) && !this.state.isLoading) {\n      if (this.state.type === 'enter' && this.state.buyPrice <= 0) {\n        return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n      } else {\n        return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n      }\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = this.state.type === 'enter' ? { \n      quantity: Number(this.state.quantity),\n      buyPrice: Number(this.state.buyPrice),\n      description: this.state.description,\n    } : { \n      quantity: Number(this.state.quantity),\n      description: this.state.description,\n    };\n\n    addTransaction(toSend, Cookies.get('token'), this.state.type, this.state.idProduct)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Transaction ajout avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit que vous avez choisi n'existe pas, essayez de recharger la page, ou contactez-nous</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera ngatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayBuyPrice = () => {\n    if (this.state.type === 'enter') {\n      return (\n        <Form.Group controlId=\"buyPrice\">\n          <Form.Label>Prix d'achat (en $): </Form.Label>\n          <Form.Control\n            onChange={this._handleBuyPrice}\n            value={this.state.buyPrice}\n            type=\"text\"\n            placeholder=\"Le prix d'achat du produit...\"\n            aria-label=\"buyPrice\"\n            aria-describedby=\"btnSubmit\"\n          />\n        </Form.Group>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une transaction</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} /> \n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select id='type' className='form-control' onChange={this._handleType}>\n              <option value='enter' selected>Entre</option>\n              <option value='outlet'>Sortie</option>\n            </select>\n          </Form.Group>\n          {this._displayBuyPrice()}\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantit: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantit...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Label>Libell: </Form.Label>\n            <Form.Control\n              onChange={this._handleDescription}\n              value={this.state.description}\n              type=\"text\"\n              placeholder=\"Libell de la transaction...\"\n              aria-label=\"description\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddTransaction;","import React from 'react';\nimport moment from 'moment';\nimport { Container, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport DatePicker from \"react-datepicker\"; \nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { getAllTransactions } from '../Services/transactions';\nimport Cookies from 'js-cookie';\nimport _ from \"lodash\";\nimport MaterialTable from \"material-table\";\nimport PopupAddTransaction from '../Components/PopupAddTransaction';\n\nclass TransactionDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      begin: null,\n      beginInTimestamp: null,\n      end: null,\n      endInTimestamp: null,\n\n      addMode: false,\n\n      transaction: [],\n      transactionToFilter: [],\n      isLoading: true,\n      error: false,\n    };\n    document.title = \"Consulat - Transactions\";\n    this.columns = [\n      {\n        title: \"Produit\",\n        field: \"nameOfProduct\",\n      },\n      {\n        title: \"Utilisateur\",\n        field: \"nameOfUser\",\n      },\n      {\n        title: \"Stock\",\n        field: \"stock\",\n      },\n      {\n        title: \"Entre\",\n        field: \"enter\",\n      },\n      {\n        title: \"Sortie\",\n        field: \"outlet\",\n      },\n      {\n        title: \"Solde\",\n        field: \"stockAfter\",\n      },\n      {\n        title: \"Libell\",\n        field: \"description\",\n      },\n      {\n        title: \"Date\",\n        field: \"date2\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    verifyIsAdmin(() => {\n      getAllTransactions(Cookies.get('token'))\n        .then(data => {\n          if (data.find) {\n            let until = [];\n            for (let index in data.result) {\n              let now = moment.unix(parseInt(data.result[index].timestamp));\n              until.push({ ...data.result[index], date2: now.format('DD/MM/yyyy [] HH:mm'), stock: data.result[index].stockAfter - data.result[index].enter + data.result[index].outlet });\n            }\n            this.setState({ transaction: until, isLoading: false, error: false });\n          } else if (data.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            this.setState({ transaction: [], isLoading: false, error: true });\n          }\n        })\n        .catch(() => {\n          this.setState({ transaction: [], isLoading: false, error: true });\n        });\n    });\n  }\n\n  _handleBegin = (date) => {\n    const now = moment(date);\n    this.setState({ begin: date, beginInTimestamp: now.unix() }, () => {\n      const until = _.filter(this.state.transaction, (o) =>  o.timestamp >= this.state.beginInTimestamp && o.timestamp <= this.state.endInTimestamp);\n      this.setState({ transactionToFilter: until });\n    });\n  }\n\n  _handleEnd = (date) => {\n    const now = moment(date);\n    this.setState({ end: date, endInTimestamp: now.unix() }, () => {\n      const until = _.filter(this.state.transaction, (o) =>  (o.timestamp >= this.state.beginInTimestamp) && (o.timestamp <= this.state.endInTimestamp));\n      this.setState({ transactionToFilter: until });\n    });\n  }\n\n  _display = () => {\n    if (this.state.error) {\n      return 'Une erreur a eu lieu, ressayez ou contactez-nous';\n    } else {\n      return (\n        <MaterialTable\n          title='Transaction'\n          data={this.state.transactionToFilter}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: true,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n        />\n      );\n    }\n  }\n\n  _addTransaction = () => {\n    this.setState({ addMode: true });\n  };\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Transactions</h1>\n          <Button variant='success' onClick={this._addTransaction}><i class=\"fas fa-plus-circle\"></i> Ajouter une transaction</Button> <br /><br />\n          Les transactions  du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n          {' '}au{' '}\n          <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n          {this._display()}\n        </Container>\n        {this.state.addMode ? <PopupAddTransaction callback={this._onClose} /> : null}\n      </>\n    );\n  }\n}\n\nexport default TransactionDetail;","import React from 'react';\nimport { Button, Container, Spinner } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport moment from 'moment';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport DatePicker from \"react-datepicker\"; \nimport Cookies from 'js-cookie';\nimport _ from 'lodash';\nimport MaterialTable from 'material-table';\nimport PopupAddTransaction from '../Components/PopupAddTransaction';\nimport { getWholeSale } from '../Services/transactions';\n\nclass TransactionWholeSale extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Transactions';\n\n    this.state = {\n      addMode: false,\n      isLoading: true,\n      data: null,\n      error: false,\n      end: null,\n      begin: null,\n    }\n    this.beginInTimestamp= null;\n    this.endInTimestamp= null;\n\n    this.columns = [\n      {\n        title: \"Produit\",\n        field: \"nameOfProduct\",\n      },\n      {\n        title: \"Stock\",\n        field: \"stock\",\n      },\n      {\n        title: \"Entre\",\n        field: \"totalEnter\",\n      },\n      {\n        title: \"Sortie\",\n        field: \"totalOutlet\",\n      },\n      {\n        title: \"Solde\",\n        field: \"solde\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true });\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n\n  _didMount = () => {\n    getWholeSale(Cookies.get('token'), this.beginInTimestamp, this.endInTimestamp)\n      .then((res) => {\n        if (res.find) {\n          let until = [];\n          for (let index in res.result) {\n            until.push({ \n              ...res.result[index], \n              solde: Number(res.result[index].stock) + Number(res.result[index].totalEnter) - Number(res.result[index].totalOutlet)  \n            });\n          }\n          this.setState({ error: false, isLoading: false, data: until });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      });\n  }\n\n  _handleBegin = (date) => {\n    this.setState({ isLoading: true, begin: date }, () => {\n      const now = moment(date);\n      this.beginInTimestamp= now.unix();\n      if (!_.isNull(this.state.end)) {\n        this._didMount();\n      }\n    })\n  }\n\n  _handleEnd = (date) => {\n    this.setState({ isLoading: true, end: date }, () => {\n      const now = moment(date);\n      this.endInTimestamp= now.unix();\n      if (!_.isNull(this.state.begin)) {\n        this._didMount();\n      }\n    });\n  }\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n      );\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu veuillez ressayez plus tard</em>\n    } else {\n      return (\n        <>\n          <MaterialTable\n            title='Transactions'\n            data={this.state.data}\n            columns={this.columns}\n            options={{\n              search: true,\n              paging: true,\n              filtering: true,\n              exportButton: true,\n            }}\n            isLoading={this.state.isLoading}\n          />\n        </>\n      );\n    }\n  }\n\n  render() {\n    console.log(this.state);\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Transactions</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter une transaction</Button> <br /><br />\n          Les transactions  du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n          {' '}au{' '}\n          <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br /><br />\n          {this._display()}\n          {this.state.addMode ? <PopupAddTransaction callback={this._onClose} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default TransactionWholeSale;","import Cookies from 'js-cookie';\nimport { getUserInfo } from '../Services/users';\n\nconst verifyIsManager = (callback) => {\n  getUserInfo(Cookies.get('idUser'), Cookies.get('token'))\n    .then(user => {\n      if (user.find) {\n        if (user.result.level === 1 || user.result.level === 2) {\n          if (callback) {\n            callback(user.result);\n          }\n        } else {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n      \n          window.location.href = '/application/';\n        }\n      } else {\n        alert('Une erreur a eu lieu');\n        window.location.href = '/application/';\n      }\n    })\n    .catch(() => {\n      alert('Une erreur a eu lieu');\n      window.location.href = '/application/';\n    });\n};\n\nexport default verifyIsManager;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport ProductsList from './ProductsList';\nimport { addTransaction } from '../Services/transactions';\n\nclass PopupAddTransactionManager extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: '',\n      quantity: 1,\n      description: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      productNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct) => {\n    this.setState({ idProduct: newProduct });\n  }\n\n  _handleQuantity = (event) => {\n    this.setState({ quantity: event.target.value });\n  }\n\n  _handleDescription = (event) => {\n    this.setState({ description: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.description.length >= 2 && this.state.description.length <= 90 && _.isString(this.state.description)) && _.isNumber(Number(this.state.quantity)) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = { \n      quantity: Number(this.state.quantity),\n      description: this.state.description,\n    };\n\n    addTransaction(toSend, Cookies.get('token'), \"enter\", this.state.idProduct)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Transaction ajout avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit que vous avez choisi n'existe pas, essayez de recharger la page, ou contactez-nous</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera ngatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  // _displayBuyPrice = () => {\n  //   if (this.state.type === 'enter') {\n  //     return (\n  //       <Form.Group controlId=\"buyPrice\">\n  //         <Form.Label>Prix d'achat (en $): </Form.Label>\n  //         <Form.Control\n  //           onChange={this._handleBuyPrice}\n  //           value={this.state.buyPrice}\n  //           type=\"number\"\n  //           placeholder=\"Le prix d'achat du produit...\"\n  //           aria-label=\"buyPrice\"\n  //           aria-describedby=\"btnSubmit\"\n  //         />\n  //       </Form.Group>\n  //     );\n  //   }\n  // }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une entre</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} /> \n          </Form.Group>\n          {/* {this._displayBuyPrice()} */}\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantit: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantit...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Label>Libell: </Form.Label>\n            <Form.Control\n              onChange={this._handleDescription}\n              value={this.state.description}\n              type=\"text\"\n              placeholder=\"Libell de la transaction...\"\n              aria-label=\"description\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddTransactionManager;","import React from 'react';\nimport moment from 'moment';\nimport { Container, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport verifyIsManager from '../Helpers/verifyIsManager';\nimport DatePicker from \"react-datepicker\"; \nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { getAllTransactions } from '../Services/transactions';\nimport Cookies from 'js-cookie';\nimport _ from \"lodash\";\nimport MaterialTable from \"material-table\";\nimport PopupAddTransactionManager from '../Components/PopupAddTransactionManager';\n\nclass TransactionPeriod extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      begin: null,\n      beginInTimestamp: null,\n      end: null,\n      endInTimestamp: null,\n\n      addMode: false,\n\n      transaction: [],\n      transactionToFilter: [],\n      isLoading: true,\n      error: false,\n    };\n    document.title = \"Consulat - Transactions\";\n    this.columns = [\n      {\n        title: \"Produit\",\n        field: \"nameOfProduct\",\n      },\n      {\n        title: \"Utilisateur\",\n        field: \"nameOfUser\",\n      },\n      {\n        title: \"Stock\",\n        field: \"stock\",\n      },\n      {\n        title: \"Entre\",\n        field: \"enter\",\n      },\n      {\n        title: \"Sortie\",\n        field: \"outlet\",\n      },\n      {\n        title: \"Solde\",\n        field: \"stockAfter\",\n      },\n      {\n        title: \"Libell\",\n        field: \"description\",\n      },\n      {\n        title: \"Date\",\n        field: \"date2\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    verifyIsManager(() => {\n      getAllTransactions(Cookies.get('token'))\n        .then(data => {\n          if (data.find) {\n            let until = [];\n            for (let index in data.result) {\n              let now = moment.unix(parseInt(data.result[index].timestamp));\n              until.push({ ...data.result[index], date2: now.format('DD/MM/yyyy [] HH:mm'), stock: data.result[index].stockAfter - data.result[index].enter + data.result[index].outlet });\n            }\n            this.setState({ transaction: until, isLoading: false, error: false });\n          } else if (data.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            this.setState({ transaction: [], isLoading: false, error: true });\n          }\n        })\n        .catch(() => {\n          this.setState({ transaction: [], isLoading: false, error: true });\n        });\n    });\n  }\n\n  _handleBegin = (date) => {\n    const now = moment(date);\n    this.setState({ begin: date, beginInTimestamp: now.unix() }, () => {\n      const until = _.filter(this.state.transaction, (o) =>  o.timestamp >= this.state.beginInTimestamp && o.timestamp <= this.state.endInTimestamp);\n      this.setState({ transactionToFilter: until });\n    });\n  }\n\n  _handleEnd = (date) => {\n    const now = moment(date);\n    this.setState({ end: date, endInTimestamp: now.unix() }, () => {\n      const until = _.filter(this.state.transaction, (o) =>  (o.timestamp >= this.state.beginInTimestamp) && (o.timestamp <= this.state.endInTimestamp));\n      this.setState({ transactionToFilter: until });\n    });\n  }\n\n  _display = () => {\n    if (this.state.error) {\n      return 'Une erreur a eu lieu, ressayez ou contactez-nous';\n    } else {\n      return (\n        <MaterialTable\n          title='Transaction'\n          data={this.state.transactionToFilter}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: true,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n        />\n      );\n    }\n  }\n\n  _addTransaction = () => {\n    this.setState({ addMode: true });\n  };\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Transactions</h1>\n          <Button variant='success' onClick={this._addTransaction}><i class=\"fas fa-plus-circle\"></i> Ajouter une entre</Button> <br /><br />\n          Les transactions  du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n          {' '}au{' '}\n          <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n          {this._display()}\n        </Container>\n        {this.state.addMode ? <PopupAddTransactionManager callback={this._onClose} /> : null}\n      </>\n    );\n  }\n}\n\nexport default TransactionPeriod;","import url from './url';\n\nexport function getInProgress(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/get/notFinished`, init)\n    .then(res => res.json());\n}\n\nexport function getNotPaid(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/get/notPaid`, init)\n    .then(res => res.json());\n}\n\nexport function getReport(token, timestamp) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/get/report/${timestamp}`, init)\n    .then(res => res.json());\n}\n\nexport function getReportPeriod(token, begin, end) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/get/report/${begin}/${end}`, init)\n    .then(res => res.json());\n}\n\nexport function startSession(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions`, init)\n    .then(res => res.json());\n}\n\nexport function editSession(toSend, token, idSession) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}`, init)\n    .then(res => res.json());\n}\n\nexport function addSessionItem(toSend, token, idSession) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/addItem`, init)\n    .then(res => res.json());\n}\n\nexport function addAccompaniment(toSend, token, idSession, idSessionItem) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/item/${idSessionItem}/addAccompaniment`, init)\n    .then(res => res.json());\n}\n\nexport function updateOneSessionItem(toSend, token, idSession, idSessionItem) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/item/${idSessionItem}`, init)\n    .then(res => res.json());\n}\n\nexport function getOneSession(idSession, token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/${idSession}`, init)\n    .then(res => res.json());\n}\n\nexport function getItemOfOneSession(idSession, token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/${idSession}/items`, init)\n    .then(res => res.json());\n}\n\nexport function getAccompOfItem(idSession, token, idSessionsItem) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/${idSession}/items/${idSessionsItem}/accompaniment`, init)\n    .then(res => res.json());\n}\n\nexport function deleteItem(token, idSession, idSessionsItem) {\n  const init = {\n    method: \"DELETE\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n    })\n  };\n\n  return fetch(`${url}/sessions/${idSession}/items/${idSessionsItem}`, init)\n    .then(res1 => res1.json());\n} \n\nexport function finishSession(token, idSession) {\n  const init = {\n    method: 'PUT',\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/finish`, init)\n    .then(res => res.json());\n}\n\nexport function finishAndPaySession(token, idSession) {\n  const init = {\n    method: 'PUT',\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/finishAndPay`, init)\n    .then(res => res.json());\n}\n\nexport function paySession(token, idSession) {\n  const init = {\n    method: 'PUT',\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/pay`, init)\n    .then(res => res.json());\n}\n\nexport function addReduction(toSend, token, idSession) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/reduction`, init)\n    .then(res => res.json());\n}\n\nexport function reductionToZero(token, idSession) {\n  const init = {\n    method: 'PUT',\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/reductionToZero`, init)\n    .then(res => res.json());\n}","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport { addSessionItem } from '../Services/sessions';\nimport ProductsList from './ProductsList';\n\nclass PopupAddSessionItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: '',\n      quantity: 1,\n\n      isLoading: false,\n      negativeStock: false,\n      success: false,\n      invalidForm: false,\n      productNotFound: false,\n      error: false,\n    }\n    this.idSession = this.props.idSession;\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct) => {\n    this.setState({ idProduct: newProduct });\n  }\n\n  _handleQuantity = ({ target }) => {\n    this.setState({ quantity: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = {\n      idProduct: this.state.idProduct,\n      quantity: Number(this.state.quantity),\n    };\n\n    addSessionItem(toSend, Cookies.get('token'), this.idSession)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">lment ajoute avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit choisit n'a pas t trouv</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera ngatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    return !this.state.isLoading ? <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button> : <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un article a une session</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"product\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} />\n          </Form.Group>\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantit: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantit...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n        {this._displayButton()}\n        <Button variant=\"danger\" onClick={this._handleClose}>\n          Fermer\n        </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddSessionItem;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport { updateOneSessionItem } from '../Services/sessions';\nimport ProductsList from './ProductsList';\n\nclass PopupEditSessionItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: this.props.data.idProduct,\n      quantity: this.props.data.quantity,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      productNotFound: false,\n      error: false,\n    }\n    this.idSession = this.props.data.idSession;\n    this.idSessionItem = this.props.data.idSessionsItem;\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct) => {\n    this.setState({ idProduct: newProduct });\n  }\n\n  _handleQuantity = ({ target }) => {\n    this.setState({ quantity: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = {\n      idProduct: this.state.idProduct,\n      quantity: Number(this.state.quantity),\n    };\n\n    updateOneSessionItem(toSend, Cookies.get('token'), this.idSession, this.idSessionItem)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">lment modifi avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit choisit n'a pas t trouv</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera ngatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    return !this.state.isLoading ? <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button> : <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un article a une session</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"product\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} default={this.state.idProduct} />\n          </Form.Group>\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantit: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantit...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n        {this._displayButton()}\n        <Button variant=\"danger\" onClick={this._handleClose}>\n          Fermer\n        </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditSessionItem;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport { addAccompaniment } from '../Services/sessions';\nimport ProductsList from './ProductsList';\n\nclass PopupAddAccompaniment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: '',\n      quantity: 1,\n\n      isLoading: false,\n      negativeStock: false,\n      success: false,\n      invalidForm: false,\n      productNotFound: false,\n      error: false,\n    }\n    this.idSession = this.props.data.idSession;\n    this.idSessionItem = this.props.data.idSessionsItem;\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct) => {\n    this.setState({ idProduct: newProduct });\n  }\n\n  _handleQuantity = ({ target }) => {\n    this.setState({ quantity: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = {\n      idProduct: this.state.idProduct,\n      quantity: Number(this.state.quantity),\n    };\n\n    addAccompaniment(toSend, Cookies.get('token'), this.idSession, this.idSessionItem)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Accompagnement ajout avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit choisit n'a pas t trouv</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera ngatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    return !this.state.isLoading ? <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button> : <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un Accompagnement a un article</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"product\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} />\n          </Form.Group>\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantit: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantit...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n        {this._displayButton()}\n        <Button variant=\"danger\" onClick={this._handleClose}>\n          Fermer\n        </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddAccompaniment;","import React from 'react';\nimport { Button, Modal, Spinner } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport { getAccompOfItem } from '../Services/sessions';\nimport { getOneProduct } from '../Services/products';\n\nclass PopupViewAccompaniment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      accompaniments: [],\n\n      isLoading: false,\n      error: false,\n    }\n    this.idSessionItem = this.props.data.idSessionsItem;\n    this.idSession = this.props.data.idSession;\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  async componentDidMount() {\n    var until = [];\n    getAccompOfItem(this.idSession, Cookies.get('token'), this.idSessionItem)\n      .then(async data => {\n        if (data.find) {\n          for (let index in data.result) {\n            await getOneProduct(Cookies.get('token'), data.result[index].idProduct)\n              .then(res => {\n                if (res.find) {\n                  until.push({ ...data.result[index], productInfo: res.result });\n                } else {\n                  this.setState({ error: true, isLoading: false });\n                }\n              })\n              .catch(() => {\n                this.setState({ error: true, isLoading: false });\n              });\n          }\n          this.setState({ accompaniments: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      });\n  }\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu, ressayez ou contactez-nous</em>;\n    } else {\n      if (this.state.accompaniments.length < 1) {\n        return <em>Aucun accompagnement</em>;\n      } else {\n        let arrayElement = [];\n        for (let index in this.state.accompaniments) {\n          arrayElement.push(\n            <li>\n              <b>Nom</b>: {this.state.accompaniments[index].productInfo.name}<br />\n              <b>Quantit</b>: {this.state.accompaniments[index].quantity}<br />\n            </li>\n          );\n        }\n        return (<ol>{arrayElement} </ol>);\n      }\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Accompagnement</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          {this._display()}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupViewAccompaniment;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport _ from 'underscore';\nimport { addReduction } from '../Services/sessions';\n\nclass PopupAddReduction extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      reduction: this.props.default,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleReduction = (event) => {\n    this.setState({ reduction: event.target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = {\n      reduction: Number(this.state.reduction)\n    }\n\n    addReduction(toSend, Cookies.get('token'), this.props.idSession)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Rduction ajoute avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    if (_.isNumber(Number(this.state.reduction)) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une rduction</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"reduction\">\n            <Form.Label>Montant: </Form.Label>\n            <Form.Control\n              onChange={this._handleReduction}\n              value={this.state.reduction}\n              type=\"number\"\n              placeholder=\"Le montant de la rduction...\"\n              aria-label=\"reduction\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddReduction;","import React from 'react';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { getAllClient } from '../Services/clients';\nimport Select from 'react-select';\n\nclass ClientsList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      clients: null, \n      isLoading: true,\n    };\n  }\n\n  async componentDidMount() {\n    let until = [];\n    await getAllClient(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          until.push({ value: 'Inconnu', label: \"Client inconnu\" });\n          for (let index in data.result) {\n            until.push({ value: data.result[index].idClient, label: data.result[index].name });\n          }\n          until.push()\n          this.setState({ isLoading: false, clients: until });\n        } else {\n          alert('Une erreur eu lieu, ressayez ou contactez-nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur eu lieu, ressayez ou contactez-nous');\n      });\n  }\n\n  _handle = (event) => {\n    this.props.onChange(event)\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n    } else {\n      if (this.state.clients.length < 1) {\n        alert(\"Vous n'avez aucun produit commencez par en ajouter un\");\n        window.location.reload();\n      } else {\n        return this.props.default ? <Select defaultValue={this.props.default} options={this.state.clients} onChange={this._handle}  /> : <Select options={this.state.clients} onChange={this._handle} />;\n      }\n    }\n  }\n}\n\nexport default ClientsList;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport ClientsList from './ClientsList';\nimport { editSession } from '../Services/sessions';\n\nclass PopupEditSession extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idClient: this.props.data.idClient,\n      server: 'CHRISTELLE',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      clientNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdClient = (newClient) => {\n    this.setState({ idClient: newClient.value });\n  }\n\n  _handleServer = ({ target }) => {\n    this.setState({ server: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = this.state.idClient === 'Inconnu' ? {\n      nameOfServer: this.state.server,\n    } : {\n      idClient: this.state.idClient,\n      nameOfServer: this.state.server,\n    };\n\n    editSession(toSend, Cookies.get('token'), this.props.data.idSession)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, clientNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, clientNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.clientNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Session modifie avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.clientNotFound) {\n      return <Alert variant=\"warning\">Le client choisit n'a pas t trouv</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera ngatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    if (this.state.server.length > 0 && this.state.server.length <= 75 && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>;\n    } else {\n      return <Button variant=\"success\" disabled>Confirmer</Button>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modfier une session</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Client: </Form.Label>\n            <ClientsList onChange={this._handleIdClient} default={this.props.data.idClient} />\n          </Form.Group>\n          <Form.Group controlId=\"nameOfServer\">\n            <Form.Label>Nom du serveur/serveuse: </Form.Label>\n            <select onChange={this._handleServer} id=\"nameOfServer\" className=\"form-control\">\n              <option value='CHRISTELLE' selected>CHRISTELLE</option>\n              <option value='EXAUCE'>EXAUCE</option>\n              <option value='SANDRA'>SANDRA</option>\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditSession;","import React from 'react';\nimport { Button, Container, ListGroup, Spinner } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport { getOneSession, getItemOfOneSession, deleteItem, finishSession, finishAndPaySession, paySession, reductionToZero } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport _ from 'lodash';\nimport { getOneClient } from '../Services/clients';\nimport moment from 'moment';\nimport PopupAddSessionItem from '../Components/PopupAddSessionItem';\nimport PopupEditSessionItem from '../Components/PopupEditSessionItem';\nimport PopupAddAccompaniment from '../Components/PopupAddAccompaniment';\nimport PopupViewAccompaniment from '../Components/PopupViewAccompaniment';\nimport PopupAddReduction from '../Components/PopupAddReduction';\nimport PopupEditSession from '../Components/PopupEditSession';\n\nclass GetOneSession extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sessionInfo: {},\n      sessionItem: [],\n\n      isLoading: true,\n      addMode: false,\n      editMode: false,\n      editSessionMode: false,\n      accompMode: false,\n      accompViewMode: false,\n      reductionMode: false,\n      error: false,\n    };\n\n    this.idSession = this.props.match.params.idSession;\n    document.title = \"Le Consulat - Sessions\";\n  }\n\n  async componentDidMount() {\n    await getOneSession(this.idSession, Cookies.get('token'))\n      .then(async (data) => {\n        if (data.find) {\n          await getItemOfOneSession(this.idSession, Cookies.get('token'))\n            .then(res2 => {\n              if (res2.find) {\n                this.setState({ isLoading: false, error: false, sessionInfo: data.result[0], sessionItem: res2.result });\n              } else {\n                this.setState({ isLoading: false, error: true, sessionInfo: [], sessionItem: {} });\n              }\n            })\n            .catch(() => {\n              this.setState({ isLoading: false, error: true, sessionInfo: [], sessionItem: {} });\n            });\n        } else {\n          this.setState({ isLoading: false, error: true, sessionInfo: [], sessionItem: {} });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: true, sessionInfo: [], sessionItem: {} });\n      });\n  }\n\n  _updateItem = (info) => {\n    this.editInfo = info;\n    this.setState({ editMode: true });\n  }\n\n  _addAccompaniment = (info) => {\n    this.accompInfo = info;\n    this.setState({ accompMode: true });\n  }\n\n  _viewAccompaniment = (info) => {\n    this.accompViewInfo = info;\n    this.setState({ accompViewMode: true });\n  }\n\n  _deleteItem = (info) => {\n    console.log('====================================');\n    console.log(info);\n    console.log('====================================');\n    if (window.confirm('tes vous sre de vouloir supprimer cet lment?')) {\n      deleteItem(Cookies.get('token'), info.idSession, info.idSessionsItem)\n        .then(res => {\n          console.log('====================================');\n          console.log(res);\n          console.log('====================================');\n          if (res.delete) {\n            window.location.reload();\n          } else if (res.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n          }\n        })\n        .catch(() => {\n          alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n        });\n    }\n  }\n\n  _displayItem = () => {\n    if (this.state.sessionItem.length < 1) {\n      return <em>Aucun lment</em>;\n    } else {\n      let arrayElement = [];\n      if (this.state.sessionInfo.wasOver === 1) {\n        for (let index in this.state.sessionItem) {\n          arrayElement.push(\n            <ListGroup.Item style={{ fontSize: 13.5 }}>\n              <h4 style={{ marginBottom: -1 }}>{this.state.sessionItem[index].nameOfProduct}</h4>\n              Quantit: {this.state.sessionItem[index].quantity}<br />\n              Prix: {this.state.sessionItem[index].price}$<br />\n              Total: {this.state.sessionItem[index].quantity * this.state.sessionItem[index].price}$<br />\n              <a href='#' onClick={() => { this._addAccompaniment(this.state.sessionItem[index]) }}>Ajouter un accompagnement</a><br />\n              <a href='#' onClick={() => { this._viewAccompaniment(this.state.sessionItem[index]) }}>Voir les accompagnements</a>\n            </ListGroup.Item>\n          );\n        }\n      } else {\n        for (let index in this.state.sessionItem) {\n          arrayElement.push(\n            <ListGroup.Item style={{ fontSize: 13.5 }}>\n              <h4 style={{ marginBottom: -1 }}>{this.state.sessionItem[index].nameOfProduct} <a style={{ fontSize: 18 }} href='#' onClick={() => { this._updateItem(this.state.sessionItem[index]) }}>Modifier</a> <a style={{fontSize: 18 }} onClick={() => { this._deleteItem(this.state.sessionItem[index]) }} href='#'>Supprimer</a></h4>\n              Quantit: {this.state.sessionItem[index].quantity}<br />\n              Prix: {this.state.sessionItem[index].price}$<br />\n              Total: {this.state.sessionItem[index].quantity * this.state.sessionItem[index].price}$<br />\n              <a href='#' onClick={() => { this._addAccompaniment(this.state.sessionItem[index]) }}>Ajouter un accompagnement</a><br />\n              <a href='#' onClick={() => { this._viewAccompaniment(this.state.sessionItem[index]) }}>Voir les accompagnements</a>\n            </ListGroup.Item>\n          );\n        }\n      }\n      return arrayElement;\n    }\n  };\n\n  _addItem = () => {\n    this.setState({ addMode: true });\n  };\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false, accompMode: false, accompViewMode: false, reductionMode: false, editSessionMode: false, });\n  }\n\n  _finish = () => {\n    finishSession(Cookies.get('token'), this.idSession)\n      .then(res => {\n        if (res.update) {\n          window.location.reload();\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n      });\n  }\n\n  _finishAndPay = () => {\n    finishAndPaySession(Cookies.get('token'), this.idSession)\n      .then(res => {\n        if (res.update) {\n          window.location.reload();\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n      });\n  }\n\n  _pay = () => {\n    paySession(Cookies.get('token'), this.idSession)\n      .then(res => {\n        if (res.update) {\n          window.location.reload();\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n      });\n  }\n\n  _addReduction = () => {\n    this.setState({ reductionMode: true });\n  };\n\n  _reductionToZero = () => {\n    reductionToZero(Cookies.get('token'), this.idSession)\n    .then(res => {\n      if (res.update) {\n        window.location.reload();\n      } else if (res.invalidToken) {\n        Cookies.remove('token');\n        Cookies.remove('idUser');\n  \n        window.location.href = '/application/';\n      } else {\n        alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n      }\n    })\n    .catch(() => {\n      alert('Une erreur a eu lieu lors de l\\'opration, ressayez ou contactez nous');\n    });\n  };\n\n  _editSession = () => {\n    this.setState({ editSessionMode: true });\n  }\n  \n  _displayButton = () => {\n    if (this.state.sessionInfo.wasOver === 1 && this.state.sessionInfo.beenPaid) {\n      return null;\n    } else if (this.state.sessionInfo.wasOver === 1) {\n      return <Button variant=\"warning\" onClick={this._pay}>Paye</Button>\n    } else {\n      return (\n        <>\n          <Button variant=\"danger\" onClick={this._finish}>Termine</Button>{' '}\n          <Button variant=\"warning\" onClick={this._finishAndPay}>Termine et paye</Button>{' '}\n          <Button variant=\"secondary\" onClick={this._editSession}>Modifier</Button>{' '}\n          <Button variant=\"primary\" onClick={this._addReduction}>{this.state.sessionInfo.reduction >= 0 ? 'Ajouter une rduction' : 'Modifier la rduction'}</Button>\n          {' '}{this.state.sessionInfo.reduction > 0 ? <Button variant=\"info\" onClick={this._reductionToZero}>Remettre la rduction  0</Button> : null}\n        </>\n      )\n    }\n  }\n  \n  _displayButton2 = () => {\n    if (this.state.sessionInfo.wasOver === 1) {\n      return null;\n    } else {\n      return (\n        <Button variant='success' onClick={this._addItem}><i class=\"fas fa-plus-circle\"></i> Ajouter un lment</Button>\n      )\n    }\n  }\n\n  _displayIframe = () => {\n    if (this.state.sessionInfo.wasOver === 1) {\n      return <object data={this.state.sessionInfo.invoiceUrl} type=\"application/pdf\" width=\"50%\" height=\"500px\"><embed src={this.state.sessionInfo.invoiceUrl} type=\"application/pdf\" /></object>\n    }\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Session</h1>\n            <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n          </Container>\n        </>\n      );\n    } else if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Session</h1>\n            <em>Une erreur a eu lieu, ressayez ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      const sessionInfo = this.state.sessionInfo;\n      let now = moment.unix(parseInt(sessionInfo.timestamp));\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Session</h1>\n            {this._displayIframe()}<br />\n            {this._displayButton()}\n            <h2>Information sur la session</h2>\n            <table>\n              <tr>\n                <td><b>Clients: </b></td>\n                <td>{sessionInfo.nameOfClient}</td>\n              </tr>\n              <tr>\n                <td><b>Serveur/Serveuse: </b></td>\n                <td>{sessionInfo.nameOfServer}</td>\n              </tr>\n              <tr>\n                <td><b>Utilisateur: </b></td>\n                <td>{sessionInfo.nameOfUser}</td>\n              </tr>\n              <tr>\n                <td><b>Date: </b></td>\n                <td>{now.format('DD/MM/yyyy [] HH:mm')}</td>\n              </tr>\n              <tr>\n                <td><b>Total sans rduction: </b></td>\n                <td>{sessionInfo.total}$</td>\n              </tr>\n              <tr>\n                <td><b>Rduction: </b></td>\n                <td>{sessionInfo.reduction}$</td>\n              </tr>\n              <tr>\n                <td><b>Total: </b></td>\n                <td>{sessionInfo.total - sessionInfo.reduction}$</td>\n              </tr>\n            </table>\n            <br />\n            <h2>lement de la session</h2>\n            <ListGroup style={{ width: '25rem' }}>\n              {this._displayButton2()}\n              {this._displayItem()}\n            </ListGroup>\n            {this.state.addMode ? <PopupAddSessionItem idSession={this.idSession} callback={this._onClose} /> : null}\n            {this.state.editMode ? <PopupEditSessionItem data={this.editInfo} callback={this._onClose} /> : null}\n            {this.state.accompMode ? <PopupAddAccompaniment data={this.accompInfo} callback={this._onClose} /> : null}\n            {this.state.accompViewMode ? <PopupViewAccompaniment data={this.accompViewInfo} callback={this._onClose} /> : null}\n            {this.state.reductionMode ? <PopupAddReduction idSession={this.state.sessionInfo.idSession} default={this.state.sessionInfo.reduction} callback={this._onClose} /> : null}\n            {this.state.editSessionMode ? <PopupEditSession data={this.state.sessionInfo} callback={this._onClose} /> : null}\n          </Container>\n        </>\n      );\n    }\n  }\n}\n\nexport default GetOneSession;","import React from 'react';\nimport { Spinner, Card, Button } from \"react-bootstrap\";\nimport { getInProgress } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport _ from 'lodash';\nimport { getOneClient } from '../Services/clients';\nimport moment from 'moment';\n\nclass SessionsInProgressList extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      sessions: [],\n      isLoading: true,\n      error: false,\n    };\n  }\n\n  async componentDidMount() {\n    var until= []\n    await getInProgress(Cookies.get('token'))\n      .then(async data => {\n        if (data.find) {\n          this.setState({ sessions: data.result, isLoading: false, error: false });\n        } else {\n          this.setState({ sessions: [], isLoading: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ sessions: [], isLoading: false, error: true });\n      });\n  }\n\n  _displayCards = () => {\n    if (this.state.sessions.length < 1) {\n      return <em>Aucune session en cours</em>;\n    } else {\n      let arrayElement = [];\n      for (let index in this.state.sessions) {\n        let now = moment.unix(parseInt(this.state.sessions[index].timestamp));\n        arrayElement.push(\n          <Card className=\"col-12 col-lg-3\">\n            <Card.Body>\n              <Card.Title>{this.state.sessions[index].nameOfClient}</Card.Title>\n              <Card.Text>\n                Utilisateur: {this.state.sessions[index].nameOfUser}<br />\n                  Date: {now.format('DD/MM/yyyy [] HH:mm')}<br />\n                  Total sans rduction: {this.state.sessions[index].total}$<br />\n                  Reduction: {this.state.sessions[index].reduction}$<br />\n                  Total: {this.state.sessions[index].total - this.state.sessions[index].reduction}$<br />\n              </Card.Text>\n              <Button variant=\"primary\" onClick={() => { window.location.href = `/application/sessions/get/${this.state.sessions[index].idSession}`; }}>Voir plus <i class=\"fas fa-arrow-right\"></i></Button>\n            </Card.Body>\n          </Card>\n        );\n      }\n      return arrayElement;\n    }\n  };\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n      );\n    } else if (this.state.error) {\n      return <em>Nous sommes dsol mais une erreur a eu lieu, ressayez ou contactez-nous</em>;\n    } else {\n      return <div className='row'>\n        {this._displayCards()}\n      </div>;\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {this._display()}\n      </>\n    );\n  }\n}\n\nexport default SessionsInProgressList;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport ClientsList from './ClientsList';\nimport { startSession } from '../Services/sessions';\n\nclass PopupAddSession extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idClient: '',\n      server: 'CHRISTELLE',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      clientNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdClient = (newClient) => {\n    this.setState({ idClient: newClient.value });\n  }\n\n  _handleServer = ({ target }) => {\n    this.setState({ server: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = this.state.idClient === 'Inconnu' ? {\n      nameOfServer: this.state.server,\n    } : {\n      idClient: this.state.idClient,\n      nameOfServer: this.state.server,\n    };\n\n    startSession(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, clientNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, clientNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.clientNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Session commence avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.clientNotFound) {\n      return <Alert variant=\"warning\">Le client choisit n'a pas t trouv</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera ngatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    if (this.state.server.length > 0 && this.state.server.length <= 75 && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Commencer une session</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Client: </Form.Label>\n            <ClientsList onChange={this._handleIdClient} />\n          </Form.Group>\n          <Form.Group controlId=\"nameOfServer\">\n            <Form.Label>Nom du serveur/serveuse: </Form.Label>\n            <select onChange={this._handleServer} id=\"nameOfServer\" className=\"form-control\">\n              <option value='CHRISTELLE' selected>CHRISTELLE</option>\n              <option value='EXAUCE'>EXAUCE</option>\n              <option value='SANDRA'>SANDRA</option>\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddSession;","import React from 'react';\nimport { Container, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport SessionsInProgressList from '../Components/SessionsInProgressList';\nimport PopupAddSession from '../Components/PopupAddSession';\n\nclass SessionsInProgress extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      addMode: false,\n    };\n    document.title = \"Le Consulat - Sessions\";\n  }\n\n  _addSession = () => {\n    this.setState({ addMode: true });\n  };\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Sessions en cours</h1>\n          <Button variant='success' onClick={this._addSession}><i class=\"fas fa-plus-circle\"></i> Commencer une nouvelle session</Button>\n          <br /><br />\n          <SessionsInProgressList />\n        </Container>\n        {this.state.addMode ? <PopupAddSession callback={this._onClose} /> : null}\n      </>\n    );\n  }\n}\n\nexport default SessionsInProgress;","import React from 'react';\nimport { Spinner, Card, Button } from \"react-bootstrap\";\nimport { getNotPaid } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport _ from 'underscore';\nimport { getOneClient } from '../Services/clients';\nimport moment from 'moment';\n\nclass SessionsNotPaidList extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      sessions: [],\n      isLoading: true,\n      error: false,\n    };\n  }\n\n  async componentDidMount() {\n    var until= []\n    await getNotPaid(Cookies.get('token'))\n      .then(async data => {\n        if (data.find) {\n          this.setState({ sessions: data.result, isLoading: false, error: false });\n        } else {\n          this.setState({ sessions: [], isLoading: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ sessions: [], isLoading: false, error: true });\n      });\n  }\n\n  _displayCards = () => {\n    if (this.state.sessions.length < 1) {\n      return <em>Aucune session trouve</em>;\n    } else {\n      let arrayElement = [];\n      for (let index in this.state.sessions) {\n        let now = moment.unix(parseInt(this.state.sessions[index].timestamp));\n        arrayElement.push(\n          <Card className=\"col-12 col-lg-3\">\n            <Card.Body>\n              <Card.Title>{this.state.sessions[index].nameOfClient}</Card.Title>\n              <Card.Text>\n                Utilisateur: {this.state.sessions[index].nameOfUser}<br />\n                Date: {now.format('DD/MM/yyyy [] HH:mm')}<br />\n                Total sans rduction: {this.state.sessions[index].total}$<br />\n                Reduction: {this.state.sessions[index].reduction}$<br />\n                Total: {this.state.sessions[index].total - this.state.sessions[index].reduction}$<br />\n              </Card.Text>\n              <Button variant=\"primary\" onClick={() => { window.location.href = `/application/sessions/get/${this.state.sessions[index].idSession}`; }}>Voir plus <i class=\"fas fa-arrow-right\"></i></Button>\n            </Card.Body>\n          </Card>\n        );\n      }\n      return arrayElement;\n    }\n  };\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n      );\n    } else if (this.state.error) {\n      return <em>Nous sommes dsol mais une erreur a eu lieu, ressayez ou contactez-nous</em>;\n    } else {\n      return this._displayCards();\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {this._display()}\n      </>\n    );\n  }\n}\n\nexport default SessionsNotPaidList;","import React from 'react';\nimport { Container, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport SessionsNotPaidList from '../Components/SessionsNotPaidList';\n\nclass SessionsNotPaid extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = \"Le Consulat - Sessions\";\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Sessions non pay</h1>\n          <SessionsNotPaidList />\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default SessionsNotPaid;","import React from 'react';\nimport _ from 'lodash';\n\nconst Recipe = (props) => {\n  if (props.show) {\n    return (\n      <h4>Recette des ventes: {_.isNull(props.recipe) ? '0$' : `${props.recipe}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Recipe;","import React from 'react';\nimport _ from 'lodash';\n\nconst Recipe = (props) => {\n  if (props.show) {\n    return (\n      <h4>Recette total: {_.isNull(props.recipe) ? '0$' : `${props.recipe}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Recipe;","import React from 'react';\nimport _ from 'lodash';\n\nconst Recipe = (props) => {\n  if (props.show) {\n    return (\n      <h4>Dpenses: {_.isNull(props.recipe) ? '0$' : `${props.recipe}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Recipe;","import React from 'react';\nimport MaterialTable from \"material-table\";\n\nconst TableProductsSell = (props) => {\n  const columns = [\n    {\n      title: \"Nom\",\n      field: \"nameOfProduct\",\n    },\n    {\n      title: \"Quantit\",\n      field: \"quantity\",\n    },\n    {\n      title: \"Prix\",\n      field: \"price\",\n    },\n    {\n      title: \"Total\",\n      field: \"total\",\n    },\n  ];\n  if (props.show) {\n    return (\n      <MaterialTable\n        title='Produit vendus'\n        data={props.data}\n        columns={columns}\n        options={{\n          search: true,\n          paging: false,\n          filtering: true,\n          exportButton: true,\n        }}\n        isLoading={false}\n      />\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default TableProductsSell;","import React from 'react';\nimport MaterialTable from \"material-table\";\n\nconst TableClientsReport = (props) => {\n  const columns = [\n    {\n      title: \"Client\",\n      field: \"nameOfClient\",\n    },\n    {\n      title: \"Total sans rduction\",\n      field: \"totalWithoutReduction\",\n    },\n    {\n      title: \"Reduction\",\n      field: \"reduction\",\n    },\n    {\n      title: \"Total\",\n      field: \"total\",\n    },\n    {\n      title: \"Facture\",\n      field: \"facture\",\n    },\n  ];\n  if (props.show) {\n    return (\n      <MaterialTable\n        title='Clients prsents'\n        data={props.data}\n        columns={columns}\n        options={{\n          search: true,\n          paging: false,\n          filtering: true,\n          exportButton: true,\n        }}\n        isLoading={false}\n      />\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default TableClientsReport;","import React from 'react';\nimport MaterialTable from \"material-table\";\n\nconst TableExpensivesTransactions = (props) => {\n  const columns = [\n    {\n      title: \"Categorie\",\n      field: \"nameOfCategory\",\n    },\n    {\n      title: \"Montant\",\n      field: \"outlet\",\n    },\n    {\n      title: \"Libell\",\n      field: \"description\",\n    },\n  ];\n  if (props.show) {\n    return (\n      <MaterialTable\n        title='Transactions de dpense'\n        data={props.data}\n        columns={columns}\n        options={{\n          search: true,\n          paging: false,\n          filtering: true,\n          exportButton: true,\n        }}\n        isLoading={false}\n      />\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default TableExpensivesTransactions;","import React from 'react';\nimport { Container, Spinner, Accordion, Card, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport DatePicker from \"react-datepicker\"; \nimport _ from 'lodash';\nimport moment from 'moment';\nimport { getReport } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport Recipe from '../Components/Recipe';\nimport AllRecipe from '../Components/AllRecipe';\nimport Expenses from '../Components/Expenses';\nimport TableProductsSell from '../Components/TableProductsSell';\nimport TableClientsReport from '../Components/TableClientsReport';\nimport TableExpensivesTransactions from '../Components/TableExpensivesTransactions';\n\nclass SessionsReport extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = \"Le Consulat - Rapport\";\n    this.state = {\n      info: [],\n      date: null,\n      timestamp: null,\n      isLoading: true,\n      error: false,\n    }\n  }\n\n  _didMount = () => {\n    getReport(Cookies.get('token'), this.state.timestamp)\n      .then(data => {\n\t\t\t\tif (data.find) {\n\t\t\t\t\tlet until = [];\n\t\t\t\t\tlet until2 = [];\n\t\t\t\t\tfor (let index in data.productsSell) {\n\t\t\t\t\t\tuntil.push({\n\t\t\t\t\t\t\t...data.productsSell[index],\n\t\t\t\t\t\t\ttotal: `${data.productsSell[index].price * data.productsSell[index].quantity}$`,\n\t\t\t\t\t\t\tprice: `${data.productsSell[index].price}$`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tfor (let index in data.sessions) {\n\t\t\t\t\t\tuntil2.push({\n\t\t\t\t\t\t\t...data.sessions[index],\n\t\t\t\t\t\t\ttotal: `${data.sessions[index].total - data.sessions[index].reduction}$`,\n\t\t\t\t\t\t\treduction: `${data.sessions[index].reduction}$`,\n\t\t\t\t\t\t\tfacture: !_.isNull(data.sessions[index].invoiceUrl) ? <a href={data.sessions[index].invoiceUrl} target=\"_blank\">Voir <i className=\"fas fa-external-link-alt\"></i></a> : 'Aucune facture disponible',\n\t\t\t\t\t\t\ttotalWithoutReduction: `${data.sessions[index].total}$`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ error: false, isLoading: false, info: { ...data, productsSell: until, sessions: until2, } });\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ error: true });\n\t\t\t\t}\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      })\n  };\n\n  _handleDate = (date) => {\n  \tconst now = moment(date);\n    this.setState({ date: date, timestamp: now.unix() }, this._didMount);\n  }\n\n  _displaySpinner = () => {\n\t\treturn this.state.isLoading ? <div style={{ textAlign: 'center' }}><Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner></div> : null;\n  }\n\n  render() {\n\t\tif (this.state.error) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<h1>Rapport d'un jour</h1>\n\t\t\t\t\t\tSlectionnez un jour: <DatePicker\n\t\t\t\t\t\t\tselected={this.state.date}\n\t\t\t\t\t\t\tdateFormat='dd/MM/yyyy'\n\t\t\t\t\t\t\tonChange={this._handleDate}\n\t\t\t\t\t\t\twithPortal\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<hr style={{ backgroundColor: 'black', height: 1.5, width: '85%' }} />\n\t\t\t\t\t\tUne erreur eu lieu, ressayez ou contactez-nous\n\t\t\t\t\t</Container>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<h1>Rapport d'un jour</h1>\n\t\t\t\t\t\tSlectionnez un jour: <DatePicker\n\t\t\t\t\t\t\tselected={this.state.date}\n\t\t\t\t\t\t\tdateFormat='dd/MM/yyyy'\n\t\t\t\t\t\t\tonChange={this._handleDate}\n\t\t\t\t\t\t\twithPortal\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<hr style={{ backgroundColor: 'black', height: 1.5, width: '85%' }} />\n\t\t\t\t\t\t{this._displaySpinner()}\n\t\t\t\t\t\t<Recipe show={!this.state.isLoading} recipe={this.state.info.recipe} />\n\t\t\t\t\t\t<AllRecipe show={!this.state.isLoading} recipe={this.state.info.allRecipe} />\n\t\t\t\t\t\t<Expenses show={!this.state.isLoading} recipe={this.state.info.expenses} />\n\t\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Produits vendus</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t<TableProductsSell show={!this.state.isLoading} data={this.state.info.productsSell} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Sessions</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<TableClientsReport show={!this.state.isLoading} data={this.state.info.sessions} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Transactions de dpense</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"2\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"2\">\n\t\t\t\t\t\t\t\t\t<TableExpensivesTransactions show={!this.state.isLoading} data={this.state.info.expensesTransactions} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Container>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n  }\n}\n\nexport default SessionsReport;","import React from 'react';\nimport { Container, Spinner, Accordion, Card, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport DatePicker from \"react-datepicker\"; \nimport _ from 'lodash';\nimport moment from 'moment';\nimport { getReportPeriod } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport Recipe from '../Components/Recipe';\nimport AllRecipe from '../Components/AllRecipe';\nimport Expenses from '../Components/Expenses';\nimport TableProductsSell from '../Components/TableProductsSell';\nimport TableClientsReport from '../Components/TableClientsReport';\nimport TableExpensivesTransactions from '../Components/TableExpensivesTransactions';\n\nclass SessionsReportPeriod extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = \"Le Consulat - Rapport\";\n    this.state = {\n      info: [],\n      end: null,\n      begin: null,\n      isLoading: true,\n      error: false,\n    }\n    this.beginInTimestamp= null;\n    this.endInTimestamp= null;\n  }\n\n  _didMount = () => {\n    getReportPeriod(Cookies.get('token'), this.beginInTimestamp, this.endInTimestamp)\n      .then(data => {\n\t\t\t\tif (data.find) {\n\t\t\t\t\tlet until = [];\n\t\t\t\t\tlet until2 = [];\n\t\t\t\t\tfor (let index in data.productsSell) {\n\t\t\t\t\t\tuntil.push({\n\t\t\t\t\t\t\t...data.productsSell[index],\n\t\t\t\t\t\t\ttotal: `${data.productsSell[index].price * data.productsSell[index].quantity}$`,\n\t\t\t\t\t\t\tprice: `${data.productsSell[index].price}$`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tfor (let index in data.sessions) {\n\t\t\t\t\t\tuntil2.push({\n\t\t\t\t\t\t\t...data.sessions[index],\n\t\t\t\t\t\t\ttotal: `${data.sessions[index].total - data.sessions[index].reduction}$`,\n\t\t\t\t\t\t\treduction: `${data.sessions[index].reduction}$`,\n\t\t\t\t\t\t\tfacture: !_.isNull(data.sessions[index].invoiceUrl) ? <a href={data.sessions[index].invoiceUrl} target=\"_blank\">Voir <i className=\"fas fa-external-link-alt\"></i></a> : 'Aucune facture disponible',\n\t\t\t\t\t\t\ttotalWithoutReduction: `${data.sessions[index].total}$`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ error: false, isLoading: false, info: { ...data, productsSell: until, sessions: until2, } });\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ error: true });\n\t\t\t\t}\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      })\n  };\n\n  _handleBegin = (date) => {\n    this.setState({ isLoading: true, begin: date }, () => {\n      const now = moment(date);\n      this.beginInTimestamp= now.unix();\n      if (!_.isNull(this.state.end)) {\n        this._didMount();\n      }\n    })\n  }\n\n  _handleEnd = (date) => {\n    this.setState({ isLoading: true, end: date }, () => {\n      const now = moment(date);\n      this.endInTimestamp= now.unix();\n      if (!_.isNull(this.state.begin)) {\n        this._didMount();\n      }\n    });\n  }\n\n  _displaySpinner = () => {\n\t\treturn this.state.isLoading ? <div style={{ textAlign: 'center' }}><Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner></div> : null;\n  }\n\n  render() {\n\t\tif (this.state.error) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<h1>Rapport d'une priode</h1>\n\t\t\t\t\t\tSlectionnez une priode: du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n            {' '}au{' '}\n            <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n\t\t\t\t\t\t<hr style={{ backgroundColor: 'black', height: 1.5, width: '85%' }} />\n\t\t\t\t\t\tUne erreur eu lieu, ressayez ou contactez-nous\n\t\t\t\t\t</Container>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<h1>Rapport d'une priode</h1>\n\t\t\t\t\t\tSlectionnez une priode: du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n            {' '}au{' '}\n            <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n\t\t\t\t\t\t<hr style={{ backgroundColor: 'black', height: 1.5, width: '85%' }} />\n\t\t\t\t\t\t{this._displaySpinner()}\n\t\t\t\t\t\t<Recipe show={!this.state.isLoading} recipe={this.state.info.recipe} />\n\t\t\t\t\t\t<AllRecipe show={!this.state.isLoading} recipe={this.state.info.allRecipe} />\n\t\t\t\t\t\t<Expenses show={!this.state.isLoading} recipe={this.state.info.expenses} />\n\t\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Produits vendus</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t<TableProductsSell show={!this.state.isLoading} data={this.state.info.productsSell} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Sessions</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<TableClientsReport show={!this.state.isLoading} data={this.state.info.sessions} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Transactions de dpense</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"2\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"2\">\n\t\t\t\t\t\t\t\t\t<TableExpensivesTransactions show={!this.state.isLoading} data={this.state.info.expensesTransactions} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Container>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n  }\n}\n\nexport default SessionsReportPeriod;","import url from './url';\n\nexport function getAllCategories(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/money-transactions/category`, init)\n    .then(res => res.json());\n}\n\nexport function addCategory(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/money-transactions/category`, init)\n    .then(res => res.json());\n}\n\nexport function updateCategory(toSend, idCategory, token) {\n  const init = {\n    method: \"PUT\",\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      \"Content-Type\": \"application/json; charset=UTF-8\"\n    })\n  };\n\n  return fetch(`${url}/money-transactions/category/${idCategory}`, init)\n    .then(res => res.json());\n} \n\nexport function addTransaction(toSend, token, type) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  if (type === 'enter') {\n    return fetch(`${url}/money-transactions/enter`, init)\n      .then(res => res.json());\n  } else if (type === 'outlet') {\n    return fetch(`${url}/money-transactions/outlet`, init)\n      .then(res => res.json());\n  }\n}\n\nexport function getTransactions(token, begin, end) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/money-transactions/transactions/begin/${begin}/end/${end}`, init)\n    .then(res => res.json());\n}\n\nexport function getMPCategoriesEnter(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/money-transactions/category/most-popular/enter`, init)\n    .then(res => res.json());\n}\n\nexport function getMPCategoriesOutlet(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/money-transactions/category/most-popular/outlet`, init)\n    .then(res => res.json());\n}","import React from 'react';\nimport { getAllCategories } from '../Services/guichet';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport Select from 'react-select';\nimport _ from 'lodash';\n\nclass CategoriesList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categories: [], \n      categoriesToShow: [], \n      isLoading: true,\n    };\n  }\n\n  async componentDidMount() {\n    let until = [];\n    await getAllCategories(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          for (let index in data.result) {\n            until.push({ value: data.result[index].idCategory, label: data.result[index].name, type: data.result[index].type });\n          }\n          this.setState({ isLoading: false, categories: until }, () => {\n            const until = _.filter(this.state.categories, (o) =>  o.type === this.props.type);\n            this.setState({ categoriesToShow: until });\n          });\n        } else {\n          alert('Une erreur eu lieu, ressayez ou contactez-nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur eu lieu, ressayez ou contactez-nous');\n      });\n  }\n\n  _handle = (event) => {\n    this.props.onChange(event.value);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.type !== prevProps.type) {\n      const until = _.filter(this.state.categories, (o) =>  o.type === this.props.type);\n      this.setState({ categoriesToShow: until });\n    }\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n    } else {\n      if (this.state.categories.length < 1) {\n        alert(\"Vous n'avez aucune catgorie commencez par en ajouter un\");\n        window.location.reload();\n      } else {\n        return this.props.default ? <Select defaultValue={this.props.default} options={this.state.categoriesToShow} onChange={this._handle}  /> : <Select options={this.state.categoriesToShow} onChange={this._handle} />;\n      }\n    }\n  }\n}\n\nexport default CategoriesList;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport CategoriesList from './CategoriesList';\nimport { addTransaction } from '../Services/guichet';\n\nclass PopupAddMoneyTransactions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idCategory: '',\n      type: 'enter',\n      amount: 1,\n      description: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeMoney: false,\n      productNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdCategory = (newProduct) => {\n    this.setState({ idCategory: newProduct });\n  }\n\n  _handleAmount = (event) => {\n    this.setState({ amount: event.target.value });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _handleDescription = (event) => {\n    this.setState({ description: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.description.length >= 2 && this.state.description.length <= 90 && _.isString(this.state.description)) && _.isNumber(Number(this.state.amount)) && _.isNumber(this.state.idCategory) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = { \n      amount: Number(this.state.amount),\n      description: this.state.description,\n      idCategory: this.state.idCategory,\n    };\n\n    addTransaction(toSend, Cookies.get('token'), this.state.type)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeMoney: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeMoney: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeMoney: false, error: false });\n        } else if (res.negativeMoney) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeMoney: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeMoney: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeMoney: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Transaction ajout avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.negativeMoney) {\n      return <Alert variant=\"warning\">Le montant sera ngatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une entre</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Catgorie: </Form.Label>\n            <CategoriesList onChange={this._handleIdCategory} type={this.state.type} /> \n          </Form.Group>\n          <Form.Group controlId=\"amount\">\n            <Form.Label>Montant: </Form.Label>\n            <Form.Control\n              onChange={this._handleAmount}\n              value={this.state.amount}\n              type=\"number\"\n              placeholder=\"Le montant...\"\n              aria-label=\"amount\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select className=\"form-control\" onChange={this._handleType}>\n              <option value=\"enter\" selected>Entre</option>\n              <option value=\"outlet\">Sortie</option>\n            </select>\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Label>Libell: </Form.Label>\n            <Form.Control\n              onChange={this._handleDescription}\n              value={this.state.description}\n              type=\"text\"\n              placeholder=\"Libell de la transaction...\"\n              aria-label=\"description\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddMoneyTransactions;","import React from 'react';\nimport { Button, Container, Spinner } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport moment from 'moment';\nimport PopupAddMoneyTransactions from '../Components/PopupAddMoneyTransactions';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport DatePicker from \"react-datepicker\"; \nimport { getTransactions } from '../Services/guichet';\nimport Cookies from 'js-cookie';\nimport _ from 'lodash';\nimport MaterialTable from 'material-table';\n\nclass GuichetTransactions extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Transactions';\n\n    this.state = {\n      addMode: false,\n      isLoading: true,\n      data: null,\n      error: false,\n      end: null,\n      begin: null,\n    }\n    this.beginInTimestamp= null;\n    this.endInTimestamp= null;\n\n    this.columns = [\n      {\n        title: \"Catgorie\",\n        field: \"nameOfCategory\",\n      },\n      {\n        title: \"Entre\",\n        field: \"enter\",\n      },\n      {\n        title: \"Sortie\",\n        field: \"outlet\",\n      },\n      {\n        title: \"Argent aprs\",\n        field: \"amountAfter\",\n      },\n      {\n        title: \"Date\",\n        field: \"date2\",\n      },\n      {\n        title: \"Libell\",\n        field: \"description\",\n      },\n    ]\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true });\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n\n  _didMount = () => {\n    getTransactions(Cookies.get('token'), this.beginInTimestamp, this.endInTimestamp)\n      .then((res) => {\n        if (res.find) {\n          let until = [];\n          for (let index in res.result.transaction) {\n            let now = moment.unix(parseInt(res.result.transaction[index].timestamp));\n            until.push({ ...res.result.transaction[index], date2: now.format('DD/MM/yyyy [] HH:mm'), });\n          }\n          this.setState({ error: false, isLoading: false, data: {...res.result, transaction: until} });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      });\n  }\n\n  _handleBegin = (date) => {\n    this.setState({ isLoading: true, begin: date }, () => {\n      const now = moment(date);\n      this.beginInTimestamp= now.unix();\n      if (!_.isNull(this.state.end)) {\n        this._didMount();\n      }\n    })\n  }\n\n  _handleEnd = (date) => {\n    this.setState({ isLoading: true, end: date }, () => {\n      const now = moment(date);\n      this.endInTimestamp= now.unix();\n      if (!_.isNull(this.state.begin)) {\n        this._didMount();\n      }\n    });\n  }\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n      );\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu veuillez ressayez plus tard</em>\n    } else {\n      return (\n        <>\n          Montant au dbut: {this.state.data.begin.length > 0 ? this.state.data.begin[0].amountAfter : 0}$<br />\n          Montant  la fin: {this.state.data.end.length > 0 ? this.state.data.end[0].amountAfter : 0}$<br /><br />\n          \n          Total entre: {this.state.data.sumEnter.length > 0 ? this.state.data.sumEnter[0].sumEnter : 0}$<br />\n          Total sortie: {this.state.data.sumOutlet.length > 0 ? this.state.data.sumOutlet[0].sumOutlet : 0}$<br />\n          <br />\n          <MaterialTable\n            title='Transactions montaire'\n            data={this.state.data.transaction}\n            columns={this.columns}\n            options={{\n              search: true,\n              paging: true,\n              filtering: true,\n              exportButton: true,\n            }}\n            isLoading={this.state.isLoading}\n          />\n        </>\n      );\n    }\n  }\n\n  render() {\n    console.log(this.state);\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Transaction montaire</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter une transaction</Button> <br /><br />\n          Les transactions  du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n          {' '}au{' '}\n          <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n          {this._display()}\n          {this.state.addMode ? <PopupAddMoneyTransactions callback={this._onClose} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default GuichetTransactions;","import React from 'react';\nimport Cookies from 'js-cookie';\nimport MaterialTable from \"material-table\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport { getAllCategories } from '../Services/guichet';\n\nclass Tablecategories extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      categories: [],\n      isLoading: true,\n      error: false,\n    };\n\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Type\",\n        field: \"type2\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getAllCategories(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          let until= [];\n          for (let index in data.result) {\n            until.push({ ...data.result[index], type2: this._adapt(data.result[index].type) });\n          }\n          this.setState({ categories: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('idUser');\n          Cookies.remove('token');\n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, error: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: false });\n      });\n  }\n\n  _adapt = (toAdapt) => {\n    return toAdapt === 'enter' ? \"Entre\" : \"Sortie\";\n  }\n\n  _handleUpdate = (event, rowData) => {\n    let capture;\n    for (let index in this.state.categories) {\n      if (this.state.categories[index].idCategory === rowData.idCategory) {\n        capture= this.state.categories[index];\n      }\n    }\n    this.props.onUpdate(capture);\n  }\n\n  render() {\n    if (this.state.error) {\n      return <h2>Une erreur a eu leiu veuillez ressayer</h2>\n    } else {\n      return (\n        <MaterialTable\n          title='Liste des categories'\n          data={this.state.categories}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: false,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n          actions={[\n            {\n              icon: () => <EditIcon htmlColor='#007bff' />,\n              tooltip: \"Modifier\",\n              onClick: this._handleUpdate,\n            },\n          ]}\n        />\n      );\n    }\n  }\n}\n\nexport default Tablecategories;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { addCategory } from '../Services/guichet';\n\nclass PopupAddClient extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: '',\n      type: 'enter',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.type.length >= 2 && this.state.type.length <= 70 && _.isString(this.state.type) && (this.state.type === 'enter' || this.state.type === 'outlet')) && (_.isString(this.state.name) && this.state.name.length >= 2 && this.state.name.length <= 70 )) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      type: this.state.type,\n    };\n\n    addCategory(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Catgorie ajout avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une catgorie</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom de la catgorie...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select onChange={this._handleType} className=\"form-control\">\n              <option value=\"enter\" selected>Entre</option>\n              <option value=\"outlet\">Sortie</option>\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddClient;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { updateCategory } from '../Services/guichet';\n\nclass PopupEditCategories extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: this.props.data.name,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _displayButton = () => {\n    if (_.isString(this.state.name) && this.state.name.length >= 2 && this.state.name.length <= 70 ) {\n      return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n    } else {\n      return <Button variant=\"success\" disabled>Confirmer</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n    };\n\n    console.log(toSend);\n\n    updateCategory(toSend, this.props.data.idCategory, Cookies.get('token'))\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Catgorie mdoifie avec succs</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, ressayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modifier une catgorie</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom de la catgorie...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditCategories;","import React from 'react';\nimport { getMPCategoriesEnter } from '../Services/guichet';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass PieMPCEnter extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      data: [],\n      error: false,\n    }\n  }\n\n  componentDidMount() {\n    const color = [\n      \"#838B8B\",\n      \"#668B8B\",\n      \"#2F4F4F\",\n    ]\n    getMPCategoriesEnter(Cookies.get('token'))\n      .then(res => {\n        if (res.find) {\n          const until = [];\n          for (let index in res.result) {\n            until.push({ title: res.result[index].nameOfCategory, value: res.result[index].value_occurrence, color: color[index] });\n          }\n          this.setState({ error: false, isLoading: false, data: until });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      })\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) { \n      return <em>Une erreur a eu lieu resayez ou contactez-nous</em>\n    } else {\n      return (\n        <PieChart\n          data={this.state.data}\n          labelStyle={{\n            fill: '#fff',\n            opacity: 0.75,\n            pointerEvents: 'none',\n            fontSize: \"25%\",\n          }}\n          labelPosition={50}\n          label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n        />\n      );\n    }\n  }\n}\n\nexport default PieMPCEnter;","import React from 'react';\nimport { getMPCategoriesOutlet } from '../Services/guichet';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass PieMPCOutlet extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      data: [],\n      error: false,\n    }\n  }\n\n  componentDidMount() {\n    const color = [\n      \"#838B8B\",\n      \"#668B8B\",\n      \"#2F4F4F\",\n    ]\n    getMPCategoriesOutlet(Cookies.get('token'))\n      .then(res => {\n        if (res.find) {\n          const until = [];\n          for (let index in res.result) {\n            until.push({ title: res.result[index].nameOfCategory, value: res.result[index].value_occurrence, color: color[index] });\n          }\n          this.setState({ error: false, isLoading: false, data: until });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      })\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu resayez ou contactez-nous</em>\n    } else {\n      return (\n        <PieChart\n          data={this.state.data}\n          labelStyle={{\n            fill: '#fff',\n            opacity: 0.75,\n            pointerEvents: 'none',\n            fontSize: \"25%\",\n          }}\n          labelPosition={50}\n          label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n        />\n      );\n    }\n  }\n}\n\nexport default PieMPCOutlet;","import React from 'react';\nimport { Button, Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport TableCategories from '../Components/TableCategories';\nimport PopupAddCategories from '../Components/PopupAddCategories';\nimport PopupEditCategories from '../Components/PopupEditCategories';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport PieMPCEnter from '../Components/PieMPCEnter';\nimport PieMPCOutlet from '../Components/PieMPCOutlet';\n\nclass GuichetCategories extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Catgories';\n\n    this.state = {\n      addMode: false,\n      editMode: false,\n    }\n    this.infoEdit = null;\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true, editMode: false });\n  }\n\n  _onUpdate = (info) => {\n    this.infoEdit = info;\n    this.setState({ addMode: false, editMode: true })\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Catgories</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter une catgorie</Button>\n          <br /><br />\n          <TableCategories onUpdate={this._onUpdate} />\n          <br /><br />\n          <h2>Catgories d'entre les plus frquentes</h2>\n          <div style={{ width: '60vh' }}>\n            <PieMPCEnter />\n          </div>\n          <h2>Catgories de sorties les plus frquentes</h2>\n          <div style={{ width: '60vh', alignItems: 'center' }}>\n            <PieMPCOutlet />\n          </div>\n          {this.state.addMode ? <PopupAddCategories callback={this._onClose} /> : null}\n          {this.state.editMode ? <PopupEditCategories callback={this._onClose} data={this.infoEdit} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default GuichetCategories;","import { Container } from 'react-bootstrap';\n\nconst NotFound = () => {\n  document.title = \"Le Consulat - Page Introuvable\";\n  return (\n    <Container>\n      <h1>Page introuvable</h1>\n    </Container>\n  );\n};\n\nexport default NotFound;","import 'bootstrap/dist/css/bootstrap.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\n\nimport Login from './Pages/Login';\nimport Home from './Pages/Home';\nimport Users from './Pages/Users';\nimport Clients from './Pages/Clients';\nimport Products from './Pages/Products';\nimport Stocks from './Pages/Stocks';\nimport TransactionDetail from './Pages/TransactionDetail';\nimport TransactionWholeSale from './Pages/TransactionWholeSale';\nimport TransactionManager from './Pages/TransactionManager';\nimport GetOneSession from './Pages/GetOneSession';\nimport SessionsInProgress from './Pages/SessionsInProgress';\nimport SessionsNotPaid from './Pages/SessionsNotPaid';\nimport SessionsReport from './Pages/SessionsReport';\nimport SessionsReportPeriod from './Pages/SessionsReportPeriod';\nimport GuichetTransactions from './Pages/GuichetTransactions';\nimport GuichetCategories from './Pages/GuichetCategories';\nimport NotFound from './Pages/NotFound';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path='/application' component={Login} />\n        <Route exact path='/application/login' component={Login} />\n        <Route exact path='/application/home' component={Home} />\n        <Route exact path='/application/users' component={Users} />\n        <Route exact path='/application/clients' component={Clients} />\n        <Route exact path='/application/products' component={Products} />\n        <Route exact path='/application/stocks' component={Stocks} />\n        <Route exact path='/application/transactions/detail' component={TransactionDetail} />\n        <Route exact path='/application/transactions/wholesale' component={TransactionWholeSale} />\n        <Route exact path='/application/transactions/manager' component={TransactionManager} />\n        <Route exact path='/application/sessions/get/:idSession' component={GetOneSession} />\n        <Route exact path='/application/sessions/inProgress' component={SessionsInProgress} />\n        <Route exact path='/application/sessions/notPaid' component={SessionsNotPaid} />\n        <Route exact path='/application/sessions/report' component={SessionsReport} />\n        <Route exact path='/application/sessions/report/period' component={SessionsReportPeriod} />\n        <Route exact path='/application/guichet/transactions' component={GuichetTransactions} />\n        <Route exact path='/application/guichet/categories' component={GuichetCategories} />\n        \n        <Route component={NotFound} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}