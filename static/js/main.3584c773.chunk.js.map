{"version":3,"sources":["Components/Logo.jsx","Components/PasswordInput.jsx","Services/url.js","Services/users.js","Pages/Login.jsx","Pages/Home.jsx","Components/Deconnect.jsx","Components/AdminNavBar.jsx","Components/VerifyStatus.jsx","Components/MediumNavBar.jsx","Components/ManagerNavBar.jsx","Components/NavBar.jsx","Components/TableUsers.jsx","Components/PopupAddUser.jsx","Components/PopupEditUser.jsx","Helpers/verifyIsAdmin.js","Pages/Users.jsx","Services/clients.js","Components/TableClients.jsx","Components/PopupAddClient.jsx","Components/PopupEditClient.jsx","Pages/Clients.jsx","Services/products.js","Components/TableProducts.jsx","Components/PopupAddProducts.jsx","Components/PopupEditProducts.jsx","Components/PieMPTypes.jsx","Components/PiesMPProducts.jsx","Pages/Products.jsx","Pages/Stocks.jsx","Services/transactions.js","Components/ProductsList.jsx","Components/PopupAddTransaction.jsx","Pages/TransactionDetail.jsx","Pages/TransactionWholeSale.jsx","Helpers/verifyIsManager.js","Components/PopupAddTransactionManager.jsx","Pages/TransactionManager.jsx","Services/sessions.js","Components/PopupAddSessionItem.jsx","Components/PopupEditSessionItem.jsx","Components/PopupAddAccompaniment.jsx","Components/PopupViewAccompaniment.jsx","Components/PopupAddReduction.jsx","Components/ClientsList.jsx","Components/PopupEditSession.jsx","Components/MethodsList.jsx","Components/PopupPaySession.jsx","Pages/GetOneSession.jsx","Services/url.socket.js","Components/SessionsInProgressList.jsx","Components/PopupAddSession.jsx","Pages/SessionsInProgress.jsx","Components/DebtList.jsx","Pages/Debt.jsx","Components/Recipe.jsx","Components/AllRecipe.jsx","Components/Expenses.jsx","Components/TableProductsSell.jsx","Components/TableClientsReport.jsx","Components/TableExpensivesTransactions.jsx","Components/TableWaiter.jsx","Components/Debt.jsx","Components/PayedDebt.jsx","Components/Cash.jsx","Components/Cb.jsx","Components/Mpesa.jsx","Pages/SessionsReport.jsx","Pages/SessionsReportPeriod.jsx","Services/guichet.js","Components/CategoriesList.jsx","Components/PopupAddMoneyTransactions.jsx","Pages/GuichetTransactions.jsx","Components/TableCategories.jsx","Components/PopupAddCategories.jsx","Components/PopupEditCategories.jsx","Components/PieMPCEnter.jsx","Components/PieMPCOutlet.jsx","Pages/GuichetCategories.jsx","Pages/NotFound.jsx","Pages/PrintAll.jsx","Pages/PrintDrinks.jsx","Pages/PrintSpirits.jsx","Pages/PrintSmokes.jsx","Pages/PrintDishes.jsx","Pages/VouchersPrintWorks.jsx","Pages/SessionsPrintWorks.jsx","App.js","reportWebVitals.js","index.js"],"names":["Logo","className","Image","src","style","width","marginTop","PasswordInput","props","_displayEye","state","isVisible","class","_displayType","_handleEye","setState","_displayContraint","contraint","forUpdate","Form","Group","controlId","InputGroup","Control","type","this","placeholder","aria-label","aria-describedby","btnId","onChange","value","Append","Button","variant","aria-hidden","onClick","React","Component","defautProps","url","getUserInfo","idUser","token","init","method","headers","Headers","fetch","then","res","json","Login","_handlePseudo","event","pseudo","target","_handlePassword","password","_displayButton","trim","length","id","_onClick","disabled","preventDefault","toSend","toManyRequest","body","JSON","stringify","login","data","alert","minute","Cookies","set","expires","window","location","href","email","catch","error","document","title","get","Container","role","Label","Alert","show","Home","isLoading","find","result","level","remove","invalidToken","userNotFound","Spinner","animation","Deconnect","Nav","Link","AdminNavBar","userInfo","Navbar","bg","expand","Brand","alt","height","fontSize","fontWeight","Toggle","aria-controls","Collapse","activeKey","pathname","NavDropdown","Item","name","displayPost","VerifyStatus","newCommand","nbre","io","transports","on","response","display","flexDirection","position","top","left","color","MediumNavBar","ManagerNavBar","NavBar","dataUser","defaultProps","redirect","TableUsers","_adapt","toAdapt","_handleDelete","rowData","confirm","deleteUser","delete","reload","cannotDeleteAdmin","_handleUpdate","capture","index","users","onUpdate","columns","field","getAllUser","until","push","level2","options","search","paging","filtering","exportButton","actions","icon","htmlColor","tooltip","PopupAddUser","_handleClose","callback","_handleName","_handleLevel","parseInt","schema","passwordValidator","is","min","has","uppercase","lowercase","digits","validate","_","isString","addUser","create","success","invalidForm","existPseudo","setTimeout","_displayAlert","Modal","onHide","backdrop","ddccc","keyboard","Header","closeButton","Title","Body","selected","Footer","updateUser","update","changeLastAdmin","cantChangeLevelOfLastAdmin","_displayOption","verifyIsAdmin","user","Users","_addUser","addMode","editMode","_onUpdate","info","infoEdit","_onClose","PopupEditUser","getAllClient","TableClients","clients","idClient","deleteClient","PopupAddClient","_handlePhoneNumber","phoneNumber","_handleEmail","_handleBirthday","birthday","addClient","existName","PopupEditClient","updateClient","Clients","getAllProducts","getOneProduct","idProduct","TableProducts","products","idProducts","deleteProducts","price","inStock","PopupAddProducts","_handlePrice","_handleType","_handleUnit","unit","_handleInStock","isNumber","Number","addProducts","PopupEditProducts","_handleBuyPrice","buyPrice","updateProducts","PieMPTypes","getMostPopularTypes","console","log","nameOfType","value_occurrence","labelStyle","fill","opacity","pointerEvents","labelPosition","label","dataEntry","Math","round","percentage","PiesMPProducts","getMostPopularProducts","untilDrinks","untilSpirits","untilDishes","untilCigarettes","drinks","nameOfProduct","spirits","dishes","cigarettes","err","alignItems","Products","Stocks","toDisplay","filter","o","Cookie","getAllTransactions","addTransaction","ProductsList","_handle","default","defaultValue","PopupAddTransaction","_handleIdProduct","newProduct","productInfo","_handleQuantity","quantity","_handleDescription","description","productNotFound","negativeStock","_displayBuyPrice","TransactionDetail","_handleBegin","date","now","moment","begin","beginInTimestamp","unix","transaction","timestamp","endInTimestamp","transactionToFilter","_handleEnd","end","_display","_addTransaction","date2","format","stock","stockAfter","enter","outlet","dateFormat","withPortal","TransactionWholeSale","_didMount","getWholeSale","solde","totalEnter","totalOutlet","isNull","verifyIsManager","PopupAddTransactionManager","TransactionPeriod","getInProgress","getMethods","getNotPaid","getOneSession","idSession","getItemOfOneSession","getAccompOfItem","idSessionsItem","PopupAddSessionItem","addSessionItem","PopupEditSessionItem","idSessionItem","updateOneSessionItem","PopupAddAccompaniment","addAccompaniment","PopupViewAccompaniment","accompaniments","arrayElement","a","PopupAddReduction","_handleReduction","reduction","addReduction","ClientsList","PopupEditSession","_handleIdClient","newClient","_handleServer","server","editSession","nameOfServer","clientNotFound","MethodsList","idMethod","PopupPaySession","_handlePM","pm","_handleAmountPaid","amountPaid","paymentMethod","changeData","editMoneyOfSession","wasOver","paySession","finishAndPaySession","total","GetOneSession","_updateItem","editInfo","_addAccompaniment","accompInfo","accompMode","_viewAccompaniment","accompViewInfo","accompViewMode","_deleteItem","res1","deleteItem","_displayItem","sessionItem","sessionInfo","ListGroup","marginBottom","_addItem","reductionMode","editSessionMode","payMode","editSumMode","_finish","finishSession","_finishAndPay","_pay","_addReduction","_reductionToZero","reductionToZero","_editSession","_deleteSession","deleteOneSession","_editSum","beenPaid","_displayButton2","_displayIframe","invoiceUrl","replace","match","params","reconnection","reconnectionDelay","res2","nameOfClient","nameOfUser","SessionsInProgressList","_displayCards","sessions","Card","Text","PopupAddSession","startSession","SessionsInProgress","_addSession","socket","DebtList","SessionsNotPaid","Recipe","recipe","TableProductsSell","TableClientsReport","TableExpensivesTransactions","TableWaiter","Debt","debt","PayedDebt","Cash","cash","Cb","cb","Mpesa","mpesa","SessionsReport","getReport","until2","productsSell","facture","session","totalWithoutReduction","_handleDate","_displaySpinner","textAlign","backgroundColor","sumPayedDebt","Expenses","expenses","toFixed","Accordion","justifyContent","as","eventKey","expensesTransactions","SessionsReportPeriod","getReportPeriod","AllRecipe","allRecipe","getAllCategories","CategoriesList","categories","categoriesToShow","idCategory","prevProps","PopupAddMoneyTransactions","_handleIdCategory","_handleAmount","amount","negativeMoney","GuichetTransactions","getTransactions","amountAfter","sumEnter","sumOutlet","Tablecategories","type2","addCategory","PopupEditCategories","updateCategory","PieMPCEnter","getMPCategoriesEnter","nameOfCategory","PieMPCOutlet","getMPCategoriesOutlet","GuichetCategories","TableCategories","PopupAddCategories","NotFound","PrintAll","_renderRow","arrayEl","lastType","colSpan","print","orderBy","border","PrintDrinks","PrintSpirits","PrintSmokes","PrintDishes","VouchersPrintWorks","_handleWaiter","waiter","getVouchersPrintWorks","data2Put","vouchers","link","voucherUrl","SessionsPrintWorks","getSessionsPrintWorks","App","open","exact","path","component","TransactionManager","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3584c773.chunk.js","sourcesContent":["import { Image } from 'react-bootstrap';\n\nconst Logo = () => (\n  <div className=\"text-center\">\n    <Image src='http://le-consulat-drc.com/images/logo' style={{ width: '30%', marginTop: '2%' }} />\n  </div>\n);\n\nexport default Logo;","import React from 'react';\n\nimport { Form, Button, InputGroup } from 'react-bootstrap';\n\nexport default class PasswordInput extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    };\n  };\n\n  _displayEye = () => {\n    return this.state.isVisible ? <i class=\"fas fa-eye-slash\"></i> : <i class=\"fas fa-eye\"></i>;\n  };\n\n  _displayType = () => {\n    return this.state.isVisible ? 'text' : 'password';\n  };\n\n  _handleEye = () => {\n    this.setState({ isVisible: !this.state.isVisible });\n  };\n\n  _displayContraint = () => {\n    return this.props.contraint ?\n      'Doit contenir des majuscules, contentir des minuscules, avoir au moins 8 caractères et avoir au moins 2 chiffres'\n      :\n      this.props.forUpdate ? \"Laissez vide si vous ne voulez pas le changer\" : \"Le mot de passe...\"\n  }\n\n  render() {\n    return (\n      <Form.Group controlId=\"formBasicPassword\">\n        <InputGroup className=\"mb-3\">\n          <Form.Control\n            type={this._displayType()}\n            placeholder={this._displayContraint()}\n            aria-label=\"Mot de passe\"\n            aria-describedby={this.props.btnId}\n            onChange={this.props.onChange}\n            value= {this.props.value}\n          />\n          <InputGroup.Append>\n            <Button variant=\"secondary\" aria-hidden=\"true\" onClick={this._handleEye}>{this._displayEye()}</Button>\n          </InputGroup.Append>\n        </InputGroup>\n      </Form.Group>\n    );\n  }\n}\n\nPasswordInput.defautProps = {\n  contraint: false\n};","const url = '/api';\n// const url = 'https://le-consulat-drc.com/api';\n// const url = 'http://localhost:4200/api';\n// const url = \"http://172.20.10.4:4200/api\";\n\nexport default url;\n","import url from './url';\n\nexport function login(toSend) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: {\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    },\n  };\n  return fetch(`${url}/users/login`, init)\n    .then(res => res.json());\n}\n\nexport function getUserInfo(idUser, token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/users/${idUser}`, init)\n    .then(res => res.json());\n}\n\nexport function getAllUser(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/users`, init)\n    .then(res => res.json());\n}\n\nexport function addUser(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/users`, init)\n    .then(res => res.json());\n}\n\nexport function deleteUser(token, idUser) {\n  const init = {\n    method: \"DELETE\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n    })\n  };\n\n  return fetch(`${url}/users/${idUser}`, init)\n    .then(res => res.json());\n} \n\nexport function updateUser(token, idUser, toSend) {\n  const init = {\n    method: \"PUT\",\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      \"Content-Type\": \"application/json; charset=UTF-8\"\n    })\n  };\n\n  return fetch(`${url}/users/${idUser}`, init)\n    .then(res => res.json());\n} ","import { Component } from 'react';\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\nimport Logo from '../Components/Logo';\nimport PasswordInput from '../Components/PasswordInput';\nimport { login } from '../Services/users';\nimport Cookies from 'js-cookie';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Connexion';\n    this.state = {\n      pseudo: '',\n      password: '',\n      alert: '',\n      toManyRequest: false,\n    };\n  }\n\n  componentDidMount() {\n    if (Cookies.get('idUser') || Cookies.get('token')) {\n      window.location.href = '/application/home';\n    }\n  };\n\n  _handlePseudo = (event) => {\n    this.setState({ pseudo: event.target.value });\n  }\n\n  _handlePassword = (event) => {\n    this.setState({ password: event.target.value });\n  }\n\n  _displayButton = () => {\n    return this.state.pseudo.trim().length > 0 && this.state.password.trim().length > 0 ?\n      <Button variant=\"success\" id=\"btnSubmit\" type=\"submit\" onClick={this._onClick}>Se connecter</Button>\n      :\n      <Button variant=\"success\" id=\"btnSubmit\" type=\"submit\" disabled onClick={this._onClick}>Se connecter</Button>\n  };\n\n  _onClick = (event) => {\n    event.preventDefault();\n    const toSend = {\n      pseudo: this.state.pseudo,\n      password: this.state.password,\n    };\n\n    if (!this.state.toManyRequest) {\n      login(toSend)\n        .then(data => {\n          if (data.toManyRequest === true) {\n            this.setState({ alert: `Vous avez fait trop de tentative, attendez ${data.minute} minutes`, toManyRequest: true });\n          } else if (data.idUser && data.token) {\n            Cookies.set('idUser', data.idUser, { expires: 1 });\n            Cookies.set('token', data.token, { expires: 1 });\n            window.location.href = '/application/home';\n          } else if (data.email && !data.password) {\n            this.setState({ alert: 'Votre mot de passe est incorrect!', toManyRequest: false });\n          } else if (!data.email) {\n            this.setState({ alert: 'Votre mot de passe et votre addresse email sont incorrect!', toManyRequest: false });\n          }\n        })\n        .catch(error => {\n          this.setState({ alert: 'Une erreur inconnu a eu lieu!' });\n        });\n    }\n  }\n\n  render() {\n    return (\n      <Container role=\"main\">\n        <Logo />\n        <h1>Connectez-vous!</h1>\n        <Form>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Pseudo: </Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Votre pseudo...\"\n              aria-label=\"Pseudo\"\n              aria-describedby=\"btnSubmit\"\n              onChange={this._handlePseudo}\n              value={this.state.pseudo}\n            />\n          </Form.Group>\n\n          Votre mot de passe:\n          <PasswordInput btnId=\"btnSubmit\" value={this.state.password} onChange={this._handlePassword} />\n          <Alert variant=\"danger\" show={this.state.alert.length > 0}>\n            {this.state.alert}\n          </Alert>\n          {this._displayButton()}\n        </Form>\n      </Container>\n    );\n  };\n}\n\nexport default Login;","import { Component } from 'react';\nimport { getUserInfo } from '../Services/users';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      error: false,\n    };\n  }\n\n  componentDidMount() {\n    if (!Cookies.get(\"idUser\") || !Cookies.get(\"token\")) {\n      window.location.href = \"/application\";\n    } else {\n      getUserInfo(Cookies.get(\"idUser\"), Cookies.get(\"token\"))\n        .then(data => {\n          if (data.find) {\n            this.setState({ isLoading: false });\n            switch (data.result.level) {\n              case 3:\n                window.location.href=\"/application/sessions/inProgress\";\n                break;\n              case 2:\n                window.location.href=\"/application/stocks\";\n                break;\n              case 1:\n                window.location.href=\"/application/stocks\";\n                break;\n              default: \n                Cookies.remove('idUser');\n                Cookies.remove('token');\n                window.location.href = '/application/';\n                break;\n            }\n          } else if (data.invalidToken || data.userNotFound) {\n            Cookies.remove('idUser');\n            Cookies.remove('token');\n            window.location.href = '/application/';\n          } else {\n            this.setState({ isLoading: false, error: true });\n          }\n        })\n        .catch(() => {\n          this.setState({ isLoading: false, error: true });\n        });\n    }\n  }\n\n  render() {\n    return this.state.isLoading ? <Spinner animation = 'border' role = 'status'><span className='sr-only'>Loading...</span></Spinner>  : null;\n  }\n}\n\nexport default Home;","import React from 'react';\nimport { Nav } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\nclass Deconnect extends React.Component {\n  _onClick = () => {\n    Cookies.remove('token');\n    Cookies.remove('idUser');\n\n    window.location.href = '/application/';\n  }\n\n  render() {\n    return (\n      <Nav.Link onClick={this._onClick}>Déconnexion</Nav.Link>\n    );\n  }\n}\n\nexport default Deconnect;","import React from 'react';\nimport { Navbar, Nav, NavDropdown, Image, Row, Col} from 'react-bootstrap';\nimport Deconnect from './Deconnect';\n\nconst AdminNavBar = ({ userInfo }) => {\n  const displayPost = () => {\n    switch (userInfo.level) {\n      case 3:\n        return \"Caissier / Caissière\";\n      case 2:\n        return \"Manager\";\n      case 1:\n        return \"Administrateur\";\n      default:\n        return \"Employé\";\n    }\n  };\n  return (\n    <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\">\n      <Navbar.Brand href=\"#home\">\n        <img\n          alt=\"\"\n          src='http://le-consulat-drc.com/images/logo'\n          width=\"50\"\n          height=\"50\"\n          className=\"d-inline-block align-top\"\n        />{' '}\n        <span style={{ fontSize: 30, fontWeight: \"bold\" }}>Le Consulat</span>\n      </Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\" activeKey={window.location.pathname}>\n          <Nav.Link href=\"/application/users\">Utilisateurs</Nav.Link>\n          <NavDropdown title=\"Clients\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/clients\">Liste</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/clients/debt\">Dettes</NavDropdown.Item>\n          </NavDropdown>\n          <Nav.Link href=\"/application/products\">Produits</Nav.Link>\n          <Nav.Link href=\"/application/stocks\">Stocks</Nav.Link>\n          <NavDropdown title=\"Transactions\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/transactions/detail\">En détails</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/transactions/wholesale\">En gros</NavDropdown.Item>\n          </NavDropdown>\n          <NavDropdown title=\"Caisse\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/guichet/transactions\">Transactions</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/guichet/categories\">Catégories</NavDropdown.Item>\n          </NavDropdown>\n          <NavDropdown title=\"Sessions\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/sessions/inProgress\">En cours</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/debt\">Dettes</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report\">Rapport d'un jour</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report/period\">Rapport d'une période</NavDropdown.Item>\n          </NavDropdown>\n          <NavDropdown title=\"Service d'impression\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/print-service/voucher\">Bons</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/print-service/sessions\">Sessions</NavDropdown.Item>\n          </NavDropdown>\n          <Deconnect />\n        </Nav>\n        <div className=\"bg-white\">\n          <strong>Nom:</strong> {userInfo.name}<br />\n          <strong>Poste:</strong> {displayPost()}\n        </div>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default AdminNavBar;","import React from \"react\";\nimport { io } from \"socket.io-client\";\nimport { getCommandsNotDone } from \"../Services/tef\";\n\nexport default class VerifyStatus extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      newCommand: false,\n    };\n    this.nbre = 0;\n  }\n\n  componentDidMount() {\n    const socket = io(\"https://api.techeatfast.com\", {\n      transports: [\"websocket\"],\n    });\n    socket.on(`2`, (response) => {\n      this.setState({ newCommand: true });\n    });\n  }\n\n  render() {\n    if (this.state.newCommand) {\n      return (\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n          }}\n        >\n          <div className=\"blink\"></div>\n          <div className=\"blink2\">\n            <h1 style={{ color: \"white\" }}>Nouvelle commande</h1>\n            <a\n              onClick={() => {\n                this.setState({ newCommand: false });\n              }}\n              className=\"btn btn-danger btn-lg\"\n              role=\"button\"\n              href=\"https://resto.techeatfast.com/commands/live\"\n              target=\"_blank\"\n            >\n              Allez voir\n            </a>\n          </div>\n        </div>\n      );\n    } else {\n      return <span></span>;\n    }\n  }\n}\n","import React from 'react';\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\nimport Deconnect from './Deconnect';\nimport VerifyStatus from './VerifyStatus';\n\nconst MediumNavBar = ({ userInfo }) => {\n  const displayPost = () => {\n    switch (userInfo.level) {\n      case 3:\n        return \"Caissier / Caissière\";\n      case 2:\n        return \"Manager\";\n      case 1:\n        return \"Administrateur\";\n      default:\n        return \"Employé\";\n    }\n  };\n  return (\n    <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\">\n      <Navbar.Brand href=\"#home\">\n        <img\n          alt=\"\"\n          src='http://le-consulat-drc.com/images/logo'\n          width=\"50\"\n          height=\"50\"\n          className=\"d-inline-block align-top\"\n        />{' '}\n        <span style={{ fontSize: 30, fontWeight: \"bold\" }}>Le Consulat</span>\n      </Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\" activeKey={window.location.pathname}>\n          <NavDropdown title=\"Sessions\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/sessions/inProgress\">En cours</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/debt\">Dettes</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report\">Rapport d'un jour</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report/period\">Rapport d'une période</NavDropdown.Item>\n          </NavDropdown>\n          <NavDropdown title=\"Clients\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/clients\">Liste</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/clients/debt\">Dettes</NavDropdown.Item>\n          </NavDropdown>\n          <Nav.Link href=\"/application/stocks\">Stocks</Nav.Link>\n          <NavDropdown title=\"Service d'impression\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/print-service/voucher\">Bons</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/print-service/sessions\">Sessions</NavDropdown.Item>\n          </NavDropdown>\n          <Deconnect />\n        </Nav>\n        <div className=\"bg-white\">\n          <strong>Nom:</strong> {userInfo.name}<br />\n          <strong>Poste:</strong> {displayPost()}\n        </div>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default MediumNavBar;","import React from 'react';\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\nimport Deconnect from './Deconnect';\n\nconst ManagerNavBar = ({ userInfo }) => {\n  const displayPost = () => {\n    switch (userInfo.level) {\n      case 3:\n        return \"Caissier / Caissière\";\n      case 2:\n        return \"Manager\";\n      case 1:\n        return \"Administrateur\";\n      default:\n        return \"Employé\";\n    }\n  };\n  return (\n    <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\">\n      <Navbar.Brand href=\"#home\">\n        <img\n          alt=\"\"\n          src='http://le-consulat-drc.com/images/logo'\n          width=\"50\"\n          height=\"50\"\n          className=\"d-inline-block align-top\"\n        />{' '}\n        <span style={{ fontSize: 30, fontWeight: \"bold\" }}>Le Consulat</span>\n      </Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\" activeKey={window.location.pathname}>\n          <Nav.Link href=\"/application/stocks\">Stocks</Nav.Link>\n          <Nav.Link href=\"/application/transactions/manager\">Transactions</Nav.Link>\n          <NavDropdown title=\"Clients\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/clients\">Liste</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/debt\">Dettes</NavDropdown.Item>\n          </NavDropdown>\n          <NavDropdown title=\"Sessions\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/sessions/inProgress\">En cours</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/debt\">Dettes</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report\">Rapport d'un jour</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report/period\">Rapport d'une période</NavDropdown.Item>\n          </NavDropdown>\n          <Deconnect />\n        </Nav>\n        <div className=\"bg-white\">\n          <strong>Nom:</strong> {userInfo.name}<br />\n          <strong>Poste:</strong> {displayPost()}\n        </div>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default ManagerNavBar;","import React from 'react';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { getUserInfo } from '../Services/users';\nimport AdminNavBar from './AdminNavBar';\nimport MediumNavBar from './MediumNavBar';\nimport ManagerNavBar from './ManagerNavBar';\n\nclass NavBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataUser: null,\n      isLoading: true,\n    };\n\n    if (!Cookies.get(\"idUser\") || !Cookies.get(\"token\")) {\n      window.location.href = \"/application/\";\n    }\n  }\n\n  componentDidMount() {\n    getUserInfo(Cookies.get(\"idUser\"), Cookies.get(\"token\"))\n      .then((data) => {\n        if (data.find) {\n          this.setState({ dataUser: data.result, isLoading: false });\n        } else {\n          window.alert(\"Une erreur inconnue a eu lieu\");\n        }\n      })\n      .catch(() => {\n        window.alert(\"Une erreur inconnue a eu lieu\");\n      });\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation='border' role='status'>\n          <span className='sr-only'>Loading...</span>\n        </Spinner>\n      );\n    } else {\n      if (this.state.dataUser.level === 1) {\n        return <AdminNavBar userInfo={this.state.dataUser} />;\n      } else if (this.state.dataUser.level === 2) {\n        return <ManagerNavBar userInfo={this.state.dataUser} />;\n      } else if (this.state.dataUser.level === 3) {\n        return <MediumNavBar userInfo={this.state.dataUser} />;\n      }\n    }\n  }\n}\n\nNavBar.defaultProps = {\n  redirect: false\n};\n\nexport default NavBar;","import React from 'react';\nimport { getAllUser, deleteUser } from '../Services/users';\nimport Cookies from 'js-cookie';\nimport MaterialTable from \"material-table\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\n\nclass TableUsers extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      users: [],\n      isLoading: true,\n      error: false,\n    };\n\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Pseudo\",\n        field: \"pseudo\",\n      },\n      {\n        title: \"Rôle\",\n        field: \"level2\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getAllUser(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          let until = [];\n          for (let index in data.result) {\n            until.push({ ...data.result[index], level2: this._adapt(data.result[index].level) })\n          }\n          this.setState({ users: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('idUser');\n          Cookies.remove('token');\n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, error: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: false });\n      });\n  }\n\n  _adapt = (toAdapt) => {\n    switch (toAdapt) {\n      case 3:\n        return \"Caissier / Caissière\";\n      case 2:\n        return \"Manager\";\n      case 1:\n        return \"Administrateur\";\n    }\n  }\n\n  _handleDelete = (event, rowData) => {\n    if (window.confirm('Êtes vous sûre de vouloir supprimer cette utilisateur')) {\n      deleteUser(Cookies.get('token'), rowData.idUser)\n        .then(res => {\n          if (res.delete) {\n            window.location.reload();\n          } else if (res.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else if (res.cannotDeleteAdmin) { \n            alert('Vous ne pouvez pas supprimer un administrateur')\n          } else {\n            alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n          }\n        })\n        .catch(() => {\n          alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n        });\n    }\n  }\n\n  _handleUpdate = (event, rowData) => {\n    let capture;\n    for (let index in this.state.users) {\n      if (this.state.users[index].idUser === rowData.idUser) {\n        capture= this.state.users[index];\n      }\n    }\n    this.props.onUpdate(capture);\n  }\n\n  render() {\n    if (this.state.error) {\n      return <h2>Une erreur a eu leiu veuillez réessayer</h2>\n    } else {\n      return (\n        <MaterialTable\n          title='Liste des utilisateur'\n          data={this.state.users}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: false,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n          actions={[\n            {\n              icon: () => <EditIcon htmlColor='#007bff' />,\n              tooltip: \"Modifier\",\n              onClick: this._handleUpdate,\n            },\n            {\n              icon: () => <DeleteIcon htmlColor='#dc3545' />,\n              tooltip: \"Supprimer l'utilisateur\",\n              onClick: this._handleDelete,\n            },\n          ]}\n        />\n      );\n    }\n  }\n}\n\nexport default TableUsers;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport PasswordInput from './PasswordInput';\nimport passwordValidator from 'password-validator';\nimport _ from 'underscore';\nimport { addUser } from '../Services/users';\nimport Cookies from 'js-cookie';\n\nclass PopupAddUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: '',\n      pseudo: '',\n      password: '',\n      level: 1,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existPseudo: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePseudo = (event) => {\n    this.setState({ pseudo: event.target.value });\n  }\n\n  _handlePassword = (event) => {\n    this.setState({ password: event.target.value });\n  }\n  \n  _handleLevel = (event) => {\n    this.setState({ level: parseInt(event.target.value) });\n  }\n\n  _displayButton = () => {\n    const schema = new passwordValidator();// On crée une nouvelle instance de l'objet\n    schema// On crée un nouveau schéma\n      .is().min(8)                                    // Minimum length 8\n      .has().uppercase()                              // Must have uppercase letters\n      .has().lowercase()                              // Must have lowercase letters\n      .has().digits(2)                                // Must have at least 2 digits\n    \n    if (schema.validate(this.state.password) && (this.state.name.length >= 2 && this.state.name.length < 30 && _.isString(this.state.name)) && (this.state.pseudo.length >= 2 && this.state.pseudo.length < 30 && _.isString(this.state.pseudo)) && (this.state.level >= 1 && this.state.level <= 3) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      pseudo: this.state.pseudo,\n      password: this.state.password,\n      level: this.state.level,\n    };\n\n    addUser(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existPseudo: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existPseudo: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existPseudo) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existPseudo: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existPseudo: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existPseudo: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Utilisateur ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existPseudo) {\n      return <Alert variant=\"warning\">Un utilisateur possède le même pseudo</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"ddccc\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un client</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du client...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"phoneNumbereeeddd\">\n            <Form.Label>Pseudo: </Form.Label>\n            <Form.Control\n              onChange={this._handlePseudo}\n              value={this.state.pseudo}\n              type=\"text\"\n              placeholder=\"Le pseudo de l'utilisateur...\"\n              aria-label=\"Pseudo\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"password\">\n            <Form.Label>Mot de passe: </Form.Label>\n            <PasswordInput onChange={this._handlePassword} value={this.state.password} />\n          </Form.Group>\n          <Form.Group controlId=\"level\">\n            <Form.Label>Rôle: </Form.Label>\n            <select onChange={this._handleLevel} className='form-control'>\n              <option value={1} selected>Administrateur</option>\n              <option value={2}>Manager</option>\n              <option value={3}>Caissier/ière</option>\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddUser;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport PasswordInput from './PasswordInput';\nimport passwordValidator from 'password-validator';\nimport _ from 'underscore';\nimport { updateUser } from '../Services/users';\nimport Cookies from 'js-cookie';\n\nclass PopupAddUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: this.props.data.name,\n      pseudo: this.props.data.pseudo,\n      password: '',\n      level: this.props.data.level,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existPseudo: false,\n      changeLastAdmin: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePseudo = (event) => {\n    this.setState({ pseudo: event.target.value });\n  }\n\n  _handlePassword = (event) => {\n    this.setState({ password: event.target.value });\n  }\n  \n  _handleLevel = (event) => {\n    this.setState({ level: parseInt(event.target.value) });\n  }\n\n  _displayButton = () => {\n    const schema = new passwordValidator();// On crée une nouvelle instance de l'objet\n    schema// On crée un nouveau schéma\n      .is().min(8)                                    // Minimum length 8\n      .has().uppercase()                              // Must have uppercase letters\n      .has().lowercase()                              // Must have lowercase letters\n      .has().digits(2)                                // Must have at least 2 digits\n    \n    if (this.state.password.trim().length > 1) {\n      if (schema.validate(this.state.password) && (this.state.name.length >= 2 && this.state.name.length < 30 && _.isString(this.state.name)) && (this.state.pseudo.length >= 2 && this.state.pseudo.length < 30 && _.isString(this.state.pseudo)) && (this.state.level >= 1 && this.state.level <= 3) && !this.state.isLoading) {\n        return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n      } else {\n        return <Button variant=\"success\" disabled>Confirmer</Button>\n      }\n    } else {\n      if ((this.state.name.length >= 2 && this.state.name.length < 30 && _.isString(this.state.name)) && (this.state.pseudo.length >= 2 && this.state.pseudo.length < 30 && _.isString(this.state.pseudo)) && (this.state.level >= 1 && this.state.level <= 2) && !this.state.isLoading) {\n        return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n      } else {\n        return <Button variant=\"success\" disabled>Confirmer</Button>\n      }\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = this.state.password.trim().length > 1 ? {\n      name: this.state.name,\n      pseudo: this.state.pseudo,\n      password: this.state.password,\n      level: this.state.level,\n    } : {\n      name: this.state.name,\n      pseudo: this.state.pseudo,\n      level: this.state.level,\n    };\n\n    updateUser(Cookies.get('token'), this.props.data.idUser, toSend)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, changeLastAdmin: false, existPseudo: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, changeLastAdmin: false, existPseudo: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existPseudo) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, changeLastAdmin: false, existPseudo: true, error: false });\n        } else if (res.cantChangeLevelOfLastAdmin) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, changeLastAdmin: true, existPseudo: false, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, changeLastAdmin: false, existPseudo: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, changeLastAdmin: false, existPseudo: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Utilisateur modifié avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.changeLastAdmin) {\n      return <Alert variant=\"warning\">Vous ne pouvez pas changer le rôle du dernier Admin</Alert>;\n    } else if (this.state.existPseudo) {\n      return <Alert variant=\"warning\">Un utilisateur possède le même pseudo</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayOption = () => {\n    if (this.state.level === 1) {\n      return (\n        <>\n          <option value={1} selected>Administrateur</option>\n          <option value={2}>Manager</option>\n          <option value={3}>Caissier/ière</option>\n        </>\n      )\n    } else if (this.state.level === 2) {\n      return (\n        <>\n          <option value={1}>Administrateur</option>\n          <option value={2} selected>Manager</option>\n          <option value={3}>Caissier/ière</option>\n        </>\n      )\n    } else if (this.state.level === 3) {\n      return (\n        <>\n          <option value={1}>Administrateur</option>\n          <option value={2}>Manager</option>\n          <option value={3} selected>Caissier/ière</option>\n        </>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modifier un utilisateur</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom de l'utilisateur...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"pseudo\">\n            <Form.Label>Pseudo: </Form.Label>\n            <Form.Control\n              onChange={this._handlePseudo}\n              value={this.state.pseudo}\n              type=\"text\"\n              placeholder=\"Le pseudo de l'utilisateur...\"\n              aria-label=\"Pseudo\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"password\">\n            <Form.Label>Mot de passe (Laissez vide pour ne pas changer): </Form.Label>\n            <PasswordInput onChange={this._handlePassword} value={this.state.password} />\n          </Form.Group>\n          <Form.Group controlId=\"level\">\n            <Form.Label>Rôle: </Form.Label>\n            <select onChange={this._handleLevel} className='form-control'>\n              {this._displayOption()}\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddUser;","import Cookies from 'js-cookie';\nimport { getUserInfo } from '../Services/users';\n\nconst verifyIsAdmin = (callback) => {\n  getUserInfo(Cookies.get('idUser'), Cookies.get('token'))\n    .then(user => {\n      if (user.find) {\n        if (user.result.level !== 1) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          if (callback) {\n            callback(user.result);\n          }\n        }\n      } else {\n        alert('Une erreur a eu lieu');\n        window.location.href = '/application/';\n      }\n    })\n    .catch(() => {\n      alert('Une erreur a eu lieu');\n      window.location.href = '/application/';\n    });\n};\n\nexport default verifyIsAdmin;","import React from 'react';\nimport { Button, Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport TableUsers from '../Components/TableUsers';\nimport PopupAddUser from '../Components/PopupAddUser';\nimport PopupEditUser from '../Components/PopupEditUser';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\n\nclass Users extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Utilisateurs';\n\n    this.state = {\n      addMode: false,\n      editMode: false,\n    }\n    this.infoEdit = null;\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true, editMode: false });\n  }\n\n  _onUpdate = (info) => {\n    this.infoEdit = info;\n    this.setState({ addMode: false, editMode: true })\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Utilisateurs</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter un utilisateur</Button>\n          <br /><br />\n          <TableUsers onUpdate={this._onUpdate} />\n          {this.state.addMode ? <PopupAddUser callback={this._onClose} /> : null}\n          {this.state.editMode ? <PopupEditUser callback={this._onClose} data={this.infoEdit} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default Users;","import url from './url';\n\nexport function getAllClient(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/clients`, init)\n    .then(res => res.json());\n}\n\nexport function getOneClient(token, idClient) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/clients/${idClient}`, init)\n    .then(res => res.json());\n}\n\nexport function addClient(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/clients`, init)\n    .then(res => res.json());\n}\n\nexport function updateClient(token, idClient, toSend) {\n  const init = {\n    method: \"PUT\",\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      \"Content-Type\": \"application/json; charset=UTF-8\"\n    })\n  };\n\n  return fetch(`${url}/clients/${idClient}`, init)\n    .then(res => res.json());\n} \n\nexport function deleteClient(token, idClient) {\n  const init = {\n    method: \"DELETE\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n    })\n  };\n\n  return fetch(`${url}/clients/${idClient}`, init)\n    .then(res => res.json());\n} ","import React from 'react';\nimport Cookies from 'js-cookie';\nimport MaterialTable from \"material-table\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { getAllClient, deleteClient } from '../Services/clients';\n\nclass TableClients extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      clients: [],\n      isLoading: true,\n      error: false,\n    };\n\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Numéro de téléphone\",\n        field: \"phoneNumber\",\n      },\n      {\n        title: \"Adresse email\",\n        field: \"email\",\n      },\n      {\n        title: \"Anniversaire\",\n        field: \"birthday\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getAllClient(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          let until = [];\n          for (let index in data.result) {\n            until.push({ ...data.result[index] })\n          }\n          this.setState({ clients: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('idUser');\n          Cookies.remove('token');\n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, error: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: false });\n      });\n  }\n\n  _handleUpdate = (event, rowData) => {\n    let capture;\n    for (let index in this.state.clients) {\n      if (this.state.clients[index].idClient === rowData.idClient) {\n        capture= this.state.clients[index];\n      }\n    }\n    this.props.onUpdate(capture);\n  }\n\n  _handleDelete = (event, rowData) => {\n    if (window.confirm('Êtes vous sûre de vouloir supprimer ce client?')) {\n      deleteClient(Cookies.get('token'), rowData.idClient)\n        .then(res => {\n          if (res.delete) {\n            window.location.reload();\n          } else if (res.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n          }\n        })\n        .catch(() => {\n          alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n        });\n    }\n  }\n\n  render() {\n    if (this.state.error) {\n      return <h2>Une erreur a eu leiu veuillez réessayer</h2>\n    } else {\n      return (\n        <MaterialTable\n          title='Liste des clients'\n          data={this.state.clients}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: false,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n          actions={[\n            {\n              icon: () => <EditIcon htmlColor='#007bff' />,\n              tooltip: \"Modifier\",\n              onClick: this._handleUpdate,\n            },\n            {\n              icon: () => <DeleteIcon htmlColor='#dc3545' />,\n              tooltip: \"Supprimer le client\",\n              onClick: this._handleDelete,\n            },\n          ]}\n        />\n      );\n    }\n  }\n}\n\nexport default TableClients;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { addClient } from '../Services/clients';\n\nclass PopupAddClient extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: '',\n      phoneNumber: '',\n      email: '',\n      birthday: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existName: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePhoneNumber = (event) => {\n    this.setState({ phoneNumber: event.target.value });\n  }\n\n  _handleEmail = (event) => {\n    this.setState({ email: event.target.value });\n  }\n  \n  _handleBirthday = (event) => {\n    this.setState({ birthday: event.target.value });\n  }\n\n  _displayButton = () => {\n    if (this.state.name.length >= 2 && this.state.name.length <= 50 && _.isString(this.state.name) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      phoneNumber: this.state.phoneNumber,\n      email: this.state.email,\n      birthday: this.state.birthday,\n    };\n\n    addClient(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existName) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Client ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existName) {\n      return <Alert variant=\"warning\">Un client possède déjà le même nom</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un client</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du client...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"phoneNumber\">\n            <Form.Label>Numéro de téléphone: </Form.Label>\n            <Form.Control\n              onChange={this._handlePhoneNumber}\n              value={this.state.phoneNumber}\n              type=\"text\"\n              placeholder=\"Le numéro du client...\"\n              aria-label=\"phoneNumber\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"email\">\n            <Form.Label>Adresse email: </Form.Label>\n            <Form.Control\n              onChange={this._handleEmail}\n              value={this.state.email}\n              type=\"text\"\n              placeholder=\"L'email du client...\"\n              aria-label=\"email\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"birthday\">\n            <Form.Label>Date de naissance: </Form.Label>\n            <Form.Control\n              onChange={this._handleBirthday}\n              value={this.state.birthday}\n              type=\"text\"\n              placeholder=\"La date de naissance du client...\"\n              aria-label=\"naissance\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddClient;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { updateClient } from '../Services/clients';\n\nclass PopupEditClient extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: this.props.data.name,\n      phoneNumber: this.props.data.phoneNumber,\n      email: this.props.data.email,\n      birthday: this.props.data.birthday,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existName: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePhoneNumber = (event) => {\n    this.setState({ phoneNumber: event.target.value });\n  }\n\n  _handleEmail = (event) => {\n    this.setState({ email: event.target.value });\n  }\n  \n  _handleBirthday = (event) => {\n    this.setState({ birthday: event.target.value });\n  }\n\n  _displayButton = () => {\n    if (this.state.name.length >= 2 && this.state.name.length <= 50 && _.isString(this.state.name) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n    } else {\n      return <Button variant=\"success\" disabled>Confirmer</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      phoneNumber: this.state.phoneNumber,\n      email: this.state.email,\n      birthday: this.state.birthday,\n    };\n\n    updateClient(Cookies.get('token'), this.props.data.idClient, toSend)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existName) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Client modifié avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existName) {\n      return <Alert variant=\"warning\">Un client possède déjà le même nom</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modifier un client</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du client...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"phoneNumber\">\n            <Form.Label>Numéro de téléphone: </Form.Label>\n            <Form.Control\n              onChange={this._handlePhoneNumber}\n              value={this.state.phoneNumber}\n              type=\"text\"\n              placeholder=\"Le numéro du client...\"\n              aria-label=\"phoneNumber\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"email\">\n            <Form.Label>Adresse email: </Form.Label>\n            <Form.Control\n              onChange={this._handleEmail}\n              value={this.state.email}\n              type=\"text\"\n              placeholder=\"L'email du client...\"\n              aria-label=\"email\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"birthday\">\n            <Form.Label>Date de naissance: </Form.Label>\n            <Form.Control\n              onChange={this._handleBirthday}\n              value={this.state.birthday}\n              type=\"text\"\n              placeholder=\"La date de naissance du client...\"\n              aria-label=\"naissance\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditClient;","import React from 'react';\nimport { Button, Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport TableClients from '../Components/TableClients';\nimport PopupAddClient from '../Components/PopupAddClient';\nimport PopupEditClient from '../Components/PopupEditClient';\n\nclass Clients extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Clients';\n\n    this.state = {\n      addMode: false,\n      editMode: false,\n    }\n    this.infoEdit = null;\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true, editMode: false });\n  }\n\n  _onUpdate = (info) => {\n    this.infoEdit = info;\n    this.setState({ addMode: false, editMode: true })\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Clients</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter un client</Button>\n          <br /><br />\n          <TableClients onUpdate={this._onUpdate} />\n          {this.state.addMode ? <PopupAddClient callback={this._onClose} /> : null}\n          {this.state.editMode ? <PopupEditClient callback={this._onClose} data={this.infoEdit} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default Clients;","import url from './url';\n\nexport function getAllProducts(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/products`, init)\n    .then(res => res.json());\n}\n\nexport function getOneProduct(token, idProduct) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/products/${idProduct}`, init)\n    .then(res => res.json());\n}\n\nexport function getMostPopularTypes(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/products/special/type/most-popular-type`, init)\n    .then(res => res.json());\n}\n\nexport function getMostPopularProducts(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/products/special/most-popular`, init)\n    .then(res => res.json());\n}\n\nexport function addProducts(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/products`, init)\n    .then(res => res.json());\n}\n\nexport function updateProducts(token, idProducts, toSend) {\n  const init = {\n    method: \"PUT\",\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      \"Content-Type\": \"application/json; charset=UTF-8\"\n    })\n  };\n\n  return fetch(`${url}/products/${idProducts}`, init)\n    .then(res => res.json());\n} \n\nexport function deleteProducts(token, idProducts) {\n  const init = {\n    method: \"DELETE\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n    })\n  };\n\n  return fetch(`${url}/products/${idProducts}`, init)\n    .then(res => res.json());\n} ","import React from 'react';\nimport Cookies from 'js-cookie';\nimport MaterialTable from \"material-table\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { deleteProducts, getAllProducts } from '../Services/products';\n\nclass TableProducts extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      products: [],\n      isLoading: true,\n      error: false,\n    };\n\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Type\",\n        field: \"type\",\n      },\n      {\n        title: \"Prix\",\n        field: \"price\",\n      },\n      {\n        title: \"Prix d'achat\",\n        field: \"buyPrice\",\n      },\n      {\n        title: \"Stock\",\n        field: \"inStock\",\n      },\n      {\n        title: \"Unité\",\n        field: \"unit\",\n      },\n      {\n        title: \"Valeur\",\n        field: \"value\",\n      },\n    ];\n  }\n\n  async componentDidMount() {\n    var until = [];\n    await getAllProducts(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          for (let index in data.result) {\n            until.push({ ...data.result[index], value: `${data.result[index].price * data.result[index].inStock}$`, price: `${data.result[index].price}$` });\n          }\n          this.setState({ products: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('idUser');\n          Cookies.remove('token');\n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, error: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: false });\n      });\n  }\n\n  _adapt = (info) => {\n    return info === 1 ? 'Oui' : 'Non';\n  }\n\n  _handleUpdate = (event, rowData) => {\n    let capture;\n    for (let index in this.state.products) {\n      if (this.state.products[index].idProduct === rowData.idProduct) {\n        capture= this.state.products[index];\n      }\n    }\n    this.props.onUpdate(capture);\n  }\n\n  _handleDelete = (event, rowData) => {\n    if (window.confirm('Êtes vous sûre de vouloir supprimer ce produit?')) {\n      deleteProducts(Cookies.get('token'), rowData.idProduct)\n        .then(res => {\n          if (res.delete) {\n            window.location.reload();\n          } else if (res.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n          }\n        })\n        .catch(() => {\n          alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n        });\n    }\n  }\n\n  render() {\n    if (this.state.error) {\n      return <h2>Une erreur a eu leiu veuillez réessayer</h2>\n    } else {\n      return (\n        <MaterialTable\n          title='Liste des produits'\n          data={this.state.products}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: false,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n          actions={[\n            {\n              icon: () => <EditIcon htmlColor='#007bff' />,\n              tooltip: \"Modifier\",\n              onClick: this._handleUpdate,\n            },\n            {\n              icon: () => <DeleteIcon htmlColor='#dc3545' />,\n              tooltip: \"Supprimer le produit\",\n              onClick: this._handleDelete,\n            },\n          ]}\n        />\n      );\n    }\n  }\n}\n\nexport default TableProducts;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { addProducts } from '../Services/products';\n\nclass PopupAddProducts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: '',\n      price: '',\n      type: 'Boissons',\n      unit: '',\n      inStock: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existName: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePrice = (event) => {\n    this.setState({ price: event.target.value });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _handleUnit = (event) => {\n    this.setState({ unit: event.target.value });\n  }\n\n  _handleInStock = (event) => {\n    this.setState({ inStock: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.name.length >= 2 && this.state.name.length <= 70) && (this.state.type === 'Spiritueux' || this.state.type === 'Boissons' || this.state.type === 'Plâts' || this.state.type === 'Cigarettes') && (_.isNumber(Number(this.state.price))) && (_.isNumber(Number(this.state.inStock))) && (this.state.unit.length >= 2 && this.state.unit.length <= 70) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      price: Number(this.state.price),\n      type: this.state.type,\n      unit: this.state.unit,\n      inStock: Number(this.state.inStock),\n    };\n\n    addProducts(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 250);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existName) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Produit ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existName) {\n      return <Alert variant=\"warning\">Un produit possède déjà le même nom</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un produit</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du produit...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select id='type' className='form-control' onChange={this._handleType}>\n              <option value='Spiritueux'>Spiritueux</option>\n              <option value='Cigarettes'>Cigarettes</option>\n              <option value='Boissons' selected>Boissons</option>\n              <option value='Plâts'>Plâts</option>\n            </select>\n          </Form.Group>\n          <Form.Group controlId=\"price\">\n            <Form.Label>Prix (en $): </Form.Label>\n            <Form.Control\n              onChange={this._handlePrice}\n              value={this.state.price}\n              type=\"number\"\n              placeholder=\"Le prix du produit...\"\n              aria-label=\"price\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"inStock\">\n            <Form.Label>Stock actuel: </Form.Label>\n            <Form.Control\n              onChange={this._handleInStock}\n              value={this.state.inStock}\n              type=\"number\"\n              placeholder=\"Le nombre de produit en stock...\"\n              aria-label=\"inStock\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"unit\">\n            <Form.Label>Unité (Portions, Bouteille, Assiette): </Form.Label>\n            <Form.Control\n              onChange={this._handleUnit}\n              value={this.state.unit}\n              type=\"text\"\n              placeholder=\"L'unité du produit...\"\n              aria-label=\"unit\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddProducts;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { updateProducts } from '../Services/products';\n\nclass PopupEditProducts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: this.props.data.name,\n      price: parseInt(this.props.data.price),\n      type: this.props.data.type,\n      unit: this.props.data.unit,\n      buyPrice: this.props.data.buyPrice,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existName: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePrice = (event) => {\n    this.setState({ price: event.target.value });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _handleUnit = (event) => {\n    this.setState({ unit: event.target.value });\n  }\n\n  _handleBuyPrice  = (event) => {\n    this.setState({ buyPrice: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.name.length >= 2 && this.state.name.length <= 70) && (this.state.type === 'Spiritueux' || this.state.type === 'Boissons' || this.state.type === 'Plâts' || this.state.type === 'Cigarettes') && (_.isNumber(Number(this.state.price))) && (_.isNumber(Number(this.state.inStock))) && (this.state.unit.length >= 2 && this.state.unit.length <= 70) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n    } else {\n      return <Button variant=\"success\" disabled>Confirmer</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      price: Number(this.state.price),\n      type: this.state.type,\n      unit: this.state.unit,\n      buyPrice: this.state.buyPrice,\n    };\n\n    updateProducts(Cookies.get('token'), this.props.data.idProduct, toSend)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existName) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Produit modifié avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existName) {\n      return <Alert variant=\"warning\">Un produit possède déjà le même nom</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayOption = () => {\n    if (this.state.type === 'Spiritueux') {\n      return (\n        <>\n          <option value='Spiritueux' selected>Spiritueux</option>\n          <option value='Cigarettes'>Cigarettes</option>\n          <option value='Boissons'>Boissons</option>\n          <option value='Plâts'>Plâts</option>\n        </>\n      );\n    } else if (this.state.type === 'Boissons') {\n      return (\n        <>\n          <option value='Spiritueux'>Spiritueux</option>\n          <option value='Cigarettes'>Cigarettes</option>\n          <option value='Boissons' selected>Boissons</option>\n          <option value='Plâts'>Plâts</option>\n        </>\n      );\n    } else if (this.state.type === 'Plâts') {\n      return (\n        <>\n          <option value='Spiritueux'>Spiritueux</option>\n          <option value='Cigarettes'>Cigarettes</option>\n          <option value='Boissons'>Boissons</option>\n          <option value='Plâts' selected>Plâts</option>\n        </>\n      );\n    } else if (this.state.type === 'Cigarettes') {\n\n      return (\n        <>\n          <option value='Spiritueux'>Spiritueux</option>\n          <option value='Cigarettes' selected>Cigarettes</option>\n          <option value='Boissons'>Boissons</option>\n          <option value='Plâts'>Plâts</option>\n        </>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modifier un produit</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du produit...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select id='type' className='form-control' onChange={this._handleType}>\n              {this._displayOption()}\n            </select>\n          </Form.Group>\n          <Form.Group controlId=\"price\">\n            <Form.Label>Prix (en $): </Form.Label>\n            <Form.Control\n              onChange={this._handlePrice}\n              value={this.state.price}\n              type=\"number\"\n              placeholder=\"Le prix du produit...\"\n              aria-label=\"price\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"unit\">\n            <Form.Label>Unité (Portions, Bouteille, Assiette): </Form.Label>\n            <Form.Control\n              onChange={this._handleUnit}\n              value={this.state.unit}\n              type=\"text\"\n              placeholder=\"L'unité du produit...\"\n              aria-label=\"unit\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"buyPrice\">\n            <Form.Label>Prix d'achat commun (en $): </Form.Label>\n            <Form.Control\n              onChange={this._handleBuyPrice}\n              value={this.state.buyPrice}\n              type=\"number\"\n              placeholder=\"Le prix d'achat du produit...\"\n              aria-label=\"buyPrice\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditProducts;","import React from 'react';\nimport { getMostPopularTypes } from '../Services/products';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass PieMPTypes extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      data: [],\n      error: false,\n    }\n  }\n\n  componentDidMount() {\n    const color = [\n      \"#838B8B\",\n      \"#668B8B\",\n      \"#2F4F4F\",\n      \"#528B8B\",\n    ]\n    getMostPopularTypes(Cookies.get('token'))\n      .then(res => {\n        console.log('====================================');\n        console.log(res);\n        console.log('====================================');\n        if (res.find) {\n          const until = [];\n          for (let index in res.result) {\n            until.push({ title: res.result[index].nameOfType, value: res.result[index].value_occurrence, color: color[index] });\n          }\n          this.setState({ error: false, isLoading: false, data: until });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      })\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) { \n      return <em>Une erreur a eu lieu réesayez ou contactez-nous</em>\n    } else {\n      return (\n        <PieChart\n          data={this.state.data}\n          labelStyle={{\n            fill: '#fff',\n            opacity: 0.75,\n            pointerEvents: 'none',\n            fontSize: \"25%\",\n          }}\n          labelPosition={50}\n          label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n        />\n      );\n    }\n  }\n}\n\nexport default PieMPTypes;","import React from 'react';\nimport { getMostPopularProducts } from '../Services/products';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass PiesMPProducts extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      data: null,\n      error: false,\n    }\n  }\n\n  componentDidMount() {\n    const color = [\n      \"#838B8B\",\n      \"#668B8B\",\n      \"#2F4F4F\",\n      \"#528B8B\",\n    ]\n    getMostPopularProducts(Cookies.get('token'))\n      .then(res => {\n        if (res.find) {\n          const untilDrinks = [];\n          const untilSpirits = [];\n          const untilDishes = [];\n          const untilCigarettes = [];\n\n          for (let index in res.result.drinks) {\n            untilDrinks.push({ title: res.result.drinks[index].nameOfProduct, value: res.result.drinks[index].value_occurrence, color: color[index] });\n          }\n          for (let index in res.result.spirits) {\n            untilSpirits.push({ title: res.result.spirits[index].nameOfProduct, value: res.result.spirits[index].value_occurrence, color: color[index] });\n          }\n          for (let index in res.result.dishes) {\n            untilDishes.push({ title: res.result.dishes[index].nameOfProduct, value: res.result.dishes[index].value_occurrence, color: color[index] });\n          }\n          for (let index in res.result.cigarettes) {\n            untilCigarettes.push({ title: res.result.cigarettes[index].nameOfProduct, value: res.result.cigarettes[index].value_occurrence, color: color[index] });\n          }\n\n          this.setState({ error: false, isLoading: false, data: { drinks: untilDrinks, spirits: untilSpirits, dishes: untilDishes, cigarettes: untilCigarettes, } });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch((err) => {\n        console.log('====================================');\n        console.log(err);\n        console.log('====================================');\n        this.setState({ error: true, isLoading: false });\n      })\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu réesayez ou contactez-nous</em>\n    } else {\n      return (\n        <div>\n          <h3>Boissons: </h3>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieChart\n              data={this.state.data.drinks}\n              labelStyle={{\n                fill: '#fff',\n                opacity: 0.75,\n                pointerEvents: 'none',\n                fontSize: \"25%\",\n              }}\n              labelPosition={50}\n              label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n            />\n          </div>\n          <h3>Spiritueux: </h3>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieChart\n              data={this.state.data.spirits}\n              labelStyle={{\n                fill: '#fff',\n                opacity: 0.75,\n                pointerEvents: 'none',\n                fontSize: \"25%\",\n              }}\n              labelPosition={50}\n              label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n            />\n          </div>\n          <h3>Plâts: </h3>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieChart\n              data={this.state.data.dishes}\n              labelStyle={{\n                fill: '#fff',\n                opacity: 0.75,\n                pointerEvents: 'none',\n                fontSize: \"25%\",\n              }}\n              labelPosition={50}\n              label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n            />\n          </div>\n          <h3>Cigarettes: </h3>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieChart\n              data={this.state.data.cigarettes}\n              labelStyle={{\n                fill: '#fff',\n                opacity: 0.75,\n                pointerEvents: 'none',\n                fontSize: \"25%\",\n              }}\n              labelPosition={50}\n              label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n            />\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default PiesMPProducts;","import React from 'react';\nimport { Button, Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport TableProducts from '../Components/TableProducts';\nimport PopupAddProducts from '../Components/PopupAddProducts';\nimport PopupEditProducts from '../Components/PopupEditProducts';\nimport PieMPTypes from '../Components/PieMPTypes';\nimport PiesMPProducts from '../Components/PiesMPProducts';\n\nclass Products extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Produits';\n\n    this.state = {\n      addMode: false,\n      editMode: false,\n    }\n    this.infoEdit = null;\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true, editMode: false });\n  }\n\n  _onUpdate = (info) => {\n    this.infoEdit = info;\n    this.setState({ addMode: false, editMode: true })\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Produits</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter un produit</Button>\n          <br /><br />\n          <TableProducts onUpdate={this._onUpdate} />\n          {this.state.addMode ? <PopupAddProducts callback={this._onClose} /> : null}\n          {this.state.editMode ? <PopupEditProducts callback={this._onClose} data={this.infoEdit} /> : null}\n          <br />\n          <h2>Types de produit les plus vendues: </h2>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieMPTypes />\n          </div>\n          <h2>Les produits les plus vendues par type: </h2>\n          <PiesMPProducts />\n          <br /><br />\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default Products;","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport { getAllProducts } from '../Services/products';\nimport MaterialTable from \"material-table\";\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\n\nclass Stocks extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Stocks';\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      type: \"all\",\n    };\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Stock\",\n        field: \"inStock\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getAllProducts(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          this.setState({ info: data.result, toDisplay: data.result, isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _handleType= (event) => {\n    this.setState({ type: event.target.value }, () => {\n      this.state.type = event.target.value;\n      if (this.state.type === \"all\") {\n        this.setState({ toDisplay: this.state.info });\n      } else {\n        const until = _.filter(this.state.info, (o) => (o.type === this.state.type));\n        this.setState({ toDisplay: until });\n      }\n    });\n  }\n\n  _displayType = () => {\n    return (\n      <>\n        Type:{' '}\n        <select onChange={this._handleType}>\n          <option value=\"all\" selected>Tout</option>\n          <option value=\"Boissons\">Boissons</option>\n          <option value=\"Plâts\">Plâts</option>\n          <option value=\"Spiritueux\">Spiritueux</option>\n          <option value=\"Cigarettes\">Cigarettes</option>\n        </select>\n      </>\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Stocks</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Stocks</h1>\n            {this._displayType()}<br /><br />\n            <a href={`/application/print/${this.state.type}`} target=\"_blank\" className=\"btn btn-primary\">Imprimer</a><br /><br />\n            <MaterialTable\n              title='Stocks'\n              data={this.state.toDisplay}\n              columns={this.columns}\n              options={{\n                search: true,\n                paging: false,\n                filtering: true,\n                exportButton: true,\n              }}\n              isLoading={this.state.isLoading}\n            />\n          </Container>\n        </>\n      );\n    }\n  }\n}\n\nexport default Stocks;\n","import url from './url';\n\nexport function getAllTransactions(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/transactions`, init)\n    .then(res => res.json());\n}\n\nexport function addTransaction(toSend, token, type, idProduct) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  if (type === 'enter') {\n    return fetch(`${url}/transactions/${idProduct}/enter`, init)\n      .then(res => res.json());\n  } else if (type === 'outlet') {\n    return fetch(`${url}/transactions/${idProduct}/outlet`, init)\n      .then(res => res.json());\n  }\n}\n\nexport function getOfOneDay(token, idProduct, begin) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/transactions/${idProduct}/day/${begin}`, init)\n    .then(res => res.json());\n}\n\nexport function getWholeSale(token, begin, end) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/transactions/report/${begin}/${end}`, init)\n    .then(res => res.json());\n}","import React from 'react';\nimport { getAllProducts } from '../Services/products';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport Select from 'react-select';\n\nclass ProductsList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: null, \n      isLoading: true,\n    };\n  }\n\n  async componentDidMount() {\n    let until = [];\n    await getAllProducts(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          for (let index in data.result) {\n            until.push({ value: data.result[index], label: data.result[index].name });\n          }\n          this.setState({ isLoading: false, products: until }, this.props.default ? () => { } : () => {\n            this.props.onChange(this.state.products[0].value.idProduct, this.state.products[0].value);\n          });\n        } else {\n          alert('Une erreur eu lieu, réessayez ou contactez-nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur eu lieu, réessayez ou contactez-nous');\n      });\n  }\n\n  _handle = (event) => {\n    this.props.onChange(event.value.idProduct, event.value);\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n    } else {\n      if (this.state.products.length < 1) {\n        alert(\"Vous n'avez aucun produit commencez par en ajouter un\");\n        window.location.reload();\n      } else {\n        return this.props.default ? <Select defaultValue={this.props.default} options={this.state.products} onChange={this._handle}  /> : <Select options={this.state.products} onChange={this._handle} />;\n      }\n    }\n  }\n}\n\nexport default ProductsList;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport ProductsList from './ProductsList';\nimport { addTransaction } from '../Services/transactions';\n\nclass PopupAddTransaction extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: '',\n      type: 'enter',\n      quantity: 1,\n      buyPrice: '',\n      description: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      productNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct,  productInfo) => {\n    console.log('====================================');\n    console.log(productInfo.buyPrice);\n    console.log('====================================');\n    this.setState({ idProduct: newProduct, buyPrice: productInfo.buyPrice });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _handleQuantity = (event) => {\n    this.setState({ quantity: event.target.value });\n  }\n\n  _handleBuyPrice = (event) => {\n    this.setState({ buyPrice: event.target.value });\n  }\n\n  _handleDescription = (event) => {\n    this.setState({ description: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.description.length >= 2 && this.state.description.length <= 90 && _.isString(this.state.description)) && _.isNumber(Number(this.state.quantity)) && !this.state.isLoading) {\n      if (this.state.type === 'enter' && this.state.buyPrice <= 0) {\n        return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n      } else {\n        return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n      }\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = this.state.type === 'enter' ? { \n      quantity: Number(this.state.quantity),\n      buyPrice: Number(this.state.buyPrice),\n      description: this.state.description,\n    } : { \n      quantity: Number(this.state.quantity),\n      description: this.state.description,\n    };\n\n    addTransaction(toSend, Cookies.get('token'), this.state.type, this.state.idProduct)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Transaction ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit que vous avez choisi n'existe pas, essayez de recharger la page, ou contactez-nous</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayBuyPrice = () => {\n    if (this.state.type === 'enter') {\n      return (\n        <Form.Group controlId=\"buyPrice\">\n          <Form.Label>Prix d'achat (en $): </Form.Label>\n          <Form.Control\n            onChange={this._handleBuyPrice}\n            value={this.state.buyPrice}\n            type=\"text\"\n            placeholder=\"Le prix d'achat du produit...\"\n            aria-label=\"buyPrice\"\n            aria-describedby=\"btnSubmit\"\n          />\n        </Form.Group>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une transaction</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} /> \n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select id='type' className='form-control' onChange={this._handleType}>\n              <option value='enter' selected>Entrée</option>\n              <option value='outlet'>Sortie</option>\n            </select>\n          </Form.Group>\n          {this._displayBuyPrice()}\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantité: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantité...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Label>Libellé: </Form.Label>\n            <Form.Control\n              onChange={this._handleDescription}\n              value={this.state.description}\n              type=\"text\"\n              placeholder=\"Libellé de la transaction...\"\n              aria-label=\"description\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddTransaction;","import React from 'react';\nimport moment from 'moment';\nimport { Container, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport DatePicker from \"react-datepicker\"; \nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { getAllTransactions } from '../Services/transactions';\nimport Cookies from 'js-cookie';\nimport _ from \"lodash\";\nimport MaterialTable from \"material-table\";\nimport PopupAddTransaction from '../Components/PopupAddTransaction';\n\nclass TransactionDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      begin: null,\n      beginInTimestamp: null,\n      end: null,\n      endInTimestamp: null,\n\n      addMode: false,\n\n      transaction: [],\n      transactionToFilter: [],\n      isLoading: true,\n      error: false,\n    };\n    document.title = \"Consulat - Transactions\";\n    this.columns = [\n      {\n        title: \"Produit\",\n        field: \"nameOfProduct\",\n      },\n      {\n        title: \"Utilisateur\",\n        field: \"nameOfUser\",\n      },\n      {\n        title: \"Stock\",\n        field: \"stock\",\n      },\n      {\n        title: \"Entrée\",\n        field: \"enter\",\n      },\n      {\n        title: \"Sortie\",\n        field: \"outlet\",\n      },\n      {\n        title: \"Solde\",\n        field: \"stockAfter\",\n      },\n      {\n        title: \"Libellé\",\n        field: \"description\",\n      },\n      {\n        title: \"Date\",\n        field: \"date2\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    verifyIsAdmin(() => {\n      getAllTransactions(Cookies.get('token'))\n        .then(data => {\n          if (data.find) {\n            let until = [];\n            for (let index in data.result) {\n              let now = moment.unix(parseInt(data.result[index].timestamp));\n              until.push({ ...data.result[index], date2: now.format('DD/MM/yyyy [à] HH:mm'), stock: data.result[index].stockAfter - data.result[index].enter + data.result[index].outlet });\n            }\n            this.setState({ transaction: until, isLoading: false, error: false });\n          } else if (data.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            this.setState({ transaction: [], isLoading: false, error: true });\n          }\n        })\n        .catch(() => {\n          this.setState({ transaction: [], isLoading: false, error: true });\n        });\n    });\n  }\n\n  _handleBegin = (date) => {\n    const now = moment(date);\n    this.setState({ begin: date, beginInTimestamp: now.unix() }, () => {\n      const until = _.filter(this.state.transaction, (o) =>  o.timestamp >= this.state.beginInTimestamp && o.timestamp <= this.state.endInTimestamp);\n      this.setState({ transactionToFilter: until });\n    });\n  }\n\n  _handleEnd = (date) => {\n    const now = moment(date);\n    this.setState({ end: date, endInTimestamp: now.unix() }, () => {\n      const until = _.filter(this.state.transaction, (o) =>  (o.timestamp >= this.state.beginInTimestamp) && (o.timestamp <= this.state.endInTimestamp));\n      this.setState({ transactionToFilter: until });\n    });\n  }\n\n  _display = () => {\n    if (this.state.error) {\n      return 'Une erreur a eu lieu, réessayez ou contactez-nous';\n    } else {\n      return (\n        <MaterialTable\n          title='Transaction'\n          data={this.state.transactionToFilter}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: true,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n        />\n      );\n    }\n  }\n\n  _addTransaction = () => {\n    this.setState({ addMode: true });\n  };\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Transactions</h1>\n          <Button variant='success' onClick={this._addTransaction}><i class=\"fas fa-plus-circle\"></i> Ajouter une transaction</Button> <br /><br />\n          Les transactions  du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n          {' '}au{' '}\n          <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n          {this._display()}\n        </Container>\n        {this.state.addMode ? <PopupAddTransaction callback={this._onClose} /> : null}\n      </>\n    );\n  }\n}\n\nexport default TransactionDetail;","import React from 'react';\nimport { Button, Container, Spinner } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport moment from 'moment';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport DatePicker from \"react-datepicker\"; \nimport Cookies from 'js-cookie';\nimport _ from 'lodash';\nimport MaterialTable from 'material-table';\nimport PopupAddTransaction from '../Components/PopupAddTransaction';\nimport { getWholeSale } from '../Services/transactions';\n\nclass TransactionWholeSale extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Transactions';\n\n    this.state = {\n      addMode: false,\n      isLoading: true,\n      data: null,\n      error: false,\n      end: null,\n      begin: null,\n    }\n    this.beginInTimestamp= null;\n    this.endInTimestamp= null;\n\n    this.columns = [\n      {\n        title: \"Produit\",\n        field: \"nameOfProduct\",\n      },\n      {\n        title: \"Stock\",\n        field: \"stock\",\n      },\n      {\n        title: \"Entrée\",\n        field: \"totalEnter\",\n      },\n      {\n        title: \"Sortie\",\n        field: \"totalOutlet\",\n      },\n      {\n        title: \"Solde\",\n        field: \"solde\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true });\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n\n  _didMount = () => {\n    getWholeSale(Cookies.get('token'), this.beginInTimestamp, this.endInTimestamp)\n      .then((res) => {\n        if (res.find) {\n          let until = [];\n          for (let index in res.result) {\n            until.push({ \n              ...res.result[index], \n              solde: Number(res.result[index].stock) + Number(res.result[index].totalEnter) - Number(res.result[index].totalOutlet)  \n            });\n          }\n          this.setState({ error: false, isLoading: false, data: until });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      });\n  }\n\n  _handleBegin = (date) => {\n    this.setState({ isLoading: true, begin: date }, () => {\n      const now = moment(date);\n      this.beginInTimestamp= now.unix();\n      if (!_.isNull(this.state.end)) {\n        this._didMount();\n      }\n    })\n  }\n\n  _handleEnd = (date) => {\n    this.setState({ isLoading: true, end: date }, () => {\n      const now = moment(date);\n      this.endInTimestamp= now.unix();\n      if (!_.isNull(this.state.begin)) {\n        this._didMount();\n      }\n    });\n  }\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n      );\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu veuillez réessayez plus tard</em>\n    } else {\n      return (\n        <>\n          <MaterialTable\n            title='Transactions'\n            data={this.state.data}\n            columns={this.columns}\n            options={{\n              search: true,\n              paging: true,\n              filtering: true,\n              exportButton: true,\n            }}\n            isLoading={this.state.isLoading}\n          />\n        </>\n      );\n    }\n  }\n\n  render() {\n    console.log(this.state);\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Transactions</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter une transaction</Button> <br /><br />\n          Les transactions  du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n          {' '}au{' '}\n          <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br /><br />\n          {this._display()}\n          {this.state.addMode ? <PopupAddTransaction callback={this._onClose} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default TransactionWholeSale;","import Cookies from 'js-cookie';\nimport { getUserInfo } from '../Services/users';\n\nconst verifyIsManager = (callback) => {\n  getUserInfo(Cookies.get('idUser'), Cookies.get('token'))\n    .then(user => {\n      if (user.find) {\n        if (user.result.level === 1 || user.result.level === 2) {\n          if (callback) {\n            callback(user.result);\n          }\n        } else {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n      \n          window.location.href = '/application/';\n        }\n      } else {\n        alert('Une erreur a eu lieu');\n        window.location.href = '/application/';\n      }\n    })\n    .catch(() => {\n      alert('Une erreur a eu lieu');\n      window.location.href = '/application/';\n    });\n};\n\nexport default verifyIsManager;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport ProductsList from './ProductsList';\nimport { addTransaction } from '../Services/transactions';\n\nclass PopupAddTransactionManager extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: '',\n      type: 'enter',\n      quantity: 1,\n      buyPrice: '',\n      description: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      productNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct,  productInfo) => {\n    console.log('====================================');\n    console.log(productInfo.buyPrice);\n    console.log('====================================');\n    this.setState({ idProduct: newProduct, buyPrice: productInfo.buyPrice });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _handleQuantity = (event) => {\n    this.setState({ quantity: event.target.value });\n  }\n\n  _handleBuyPrice = (event) => {\n    this.setState({ buyPrice: event.target.value });\n  }\n\n  _handleDescription = (event) => {\n    this.setState({ description: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.description.length >= 2 && this.state.description.length <= 90 && _.isString(this.state.description)) && _.isNumber(Number(this.state.quantity)) && !this.state.isLoading) {\n      if (this.state.type === 'enter' && this.state.buyPrice <= 0) {\n        return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n      } else {\n        return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n      }\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = this.state.type === 'enter' ? { \n      quantity: Number(this.state.quantity),\n      buyPrice: Number(this.state.buyPrice),\n      description: this.state.description,\n    } : { \n      quantity: Number(this.state.quantity),\n      description: this.state.description,\n    };\n\n    addTransaction(toSend, Cookies.get('token'), this.state.type, this.state.idProduct)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Transaction ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit que vous avez choisi n'existe pas, essayez de recharger la page, ou contactez-nous</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayBuyPrice = () => {\n    if (this.state.type === 'enter') {\n      return (\n        <Form.Group controlId=\"buyPrice\">\n          <Form.Label>Prix d'achat (en $): </Form.Label>\n          <Form.Control\n            onChange={this._handleBuyPrice}\n            value={this.state.buyPrice}\n            type=\"text\"\n            placeholder=\"Le prix d'achat du produit...\"\n            aria-label=\"buyPrice\"\n            aria-describedby=\"btnSubmit\"\n          />\n        </Form.Group>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une transaction</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} /> \n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select id='type' className='form-control' onChange={this._handleType}>\n              <option value='enter' selected>Entrée</option>\n            </select>\n          </Form.Group>\n          {this._displayBuyPrice()}\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantité: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantité...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Label>Libellé: </Form.Label>\n            <Form.Control\n              onChange={this._handleDescription}\n              value={this.state.description}\n              type=\"text\"\n              placeholder=\"Libellé de la transaction...\"\n              aria-label=\"description\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddTransactionManager;","import React from 'react';\nimport moment from 'moment';\nimport { Container, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport verifyIsManager from '../Helpers/verifyIsManager';\nimport DatePicker from \"react-datepicker\"; \nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { getAllTransactions } from '../Services/transactions';\nimport Cookies from 'js-cookie';\nimport _ from \"lodash\";\nimport MaterialTable from \"material-table\";\nimport PopupAddTransactionManager from '../Components/PopupAddTransactionManager';\n\nclass TransactionPeriod extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      begin: null,\n      beginInTimestamp: null,\n      end: null,\n      endInTimestamp: null,\n\n      addMode: false,\n\n      transaction: [],\n      transactionToFilter: [],\n      isLoading: true,\n      error: false,\n    };\n    document.title = \"Consulat - Transactions\";\n    this.columns = [\n      {\n        title: \"Produit\",\n        field: \"nameOfProduct\",\n      },\n      {\n        title: \"Utilisateur\",\n        field: \"nameOfUser\",\n      },\n      {\n        title: \"Stock\",\n        field: \"stock\",\n      },\n      {\n        title: \"Entrée\",\n        field: \"enter\",\n      },\n      {\n        title: \"Sortie\",\n        field: \"outlet\",\n      },\n      {\n        title: \"Solde\",\n        field: \"stockAfter\",\n      },\n      {\n        title: \"Libellé\",\n        field: \"description\",\n      },\n      {\n        title: \"Date\",\n        field: \"date2\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    verifyIsManager(() => {\n      getAllTransactions(Cookies.get('token'))\n        .then(data => {\n          if (data.find) {\n            let until = [];\n            for (let index in data.result) {\n              let now = moment.unix(parseInt(data.result[index].timestamp));\n              until.push({ ...data.result[index], date2: now.format('DD/MM/yyyy [à] HH:mm'), stock: data.result[index].stockAfter - data.result[index].enter + data.result[index].outlet });\n            }\n            this.setState({ transaction: until, isLoading: false, error: false });\n          } else if (data.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            this.setState({ transaction: [], isLoading: false, error: true });\n          }\n        })\n        .catch(() => {\n          this.setState({ transaction: [], isLoading: false, error: true });\n        });\n    });\n  }\n\n  _handleBegin = (date) => {\n    const now = moment(date);\n    this.setState({ begin: date, beginInTimestamp: now.unix() }, () => {\n      const until = _.filter(this.state.transaction, (o) =>  o.timestamp >= this.state.beginInTimestamp && o.timestamp <= this.state.endInTimestamp);\n      this.setState({ transactionToFilter: until });\n    });\n  }\n\n  _handleEnd = (date) => {\n    const now = moment(date);\n    this.setState({ end: date, endInTimestamp: now.unix() }, () => {\n      const until = _.filter(this.state.transaction, (o) =>  (o.timestamp >= this.state.beginInTimestamp) && (o.timestamp <= this.state.endInTimestamp));\n      this.setState({ transactionToFilter: until });\n    });\n  }\n\n  _display = () => {\n    if (this.state.error) {\n      return 'Une erreur a eu lieu, réessayez ou contactez-nous';\n    } else {\n      return (\n        <MaterialTable\n          title='Transaction'\n          data={this.state.transactionToFilter}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: true,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n        />\n      );\n    }\n  }\n\n  _addTransaction = () => {\n    this.setState({ addMode: true });\n  };\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Transactions</h1>\n          <Button variant='success' onClick={this._addTransaction}><i class=\"fas fa-plus-circle\"></i> Ajouter une entrée</Button> <br /><br />\n          Les transactions  du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n          {' '}au{' '}\n          <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n          {this._display()}\n        </Container>\n        {this.state.addMode ? <PopupAddTransactionManager callback={this._onClose} /> : null}\n      </>\n    );\n  }\n}\n\nexport default TransactionPeriod;","import url from './url';\n\nexport function getInProgress(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/get/notFinished`, init)\n    .then(res => res.json());\n}\n\nexport function getMethods(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/special/methods`, init)\n    .then(res => res.json());\n}\n\nexport function getNotPaid(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/get/debt`, init)\n    .then(res => res.json());\n}\n\nexport function getReport(token, timestamp) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/get/report/${timestamp}`, init)\n    .then(res => res.json());\n}\n\nexport function getReportPeriod(token, begin, end) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/get/report/${begin}/${end}`, init)\n    .then(res => res.json());\n}\n\nexport function startSession(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions`, init)\n    .then(res => res.json());\n}\n\nexport function editSession(toSend, token, idSession) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}`, init)\n    .then(res => res.json());\n}\n\nexport function editMoneyOfSession(toSend, token, idSession) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/editPayment/`, init)\n    .then(res => res.json());\n}\n\nexport function addSessionItem(toSend, token, idSession) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/addItem`, init)\n    .then(res => res.json());\n}\n\nexport function addAccompaniment(toSend, token, idSession, idSessionItem) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/item/${idSessionItem}/addAccompaniment`, init)\n    .then(res => res.json());\n}\n\nexport function updateOneSessionItem(toSend, token, idSession, idSessionItem) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/item/${idSessionItem}`, init)\n    .then(res => res.json());\n}\n\nexport function getOneSession(idSession, token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/${idSession}`, init)\n    .then(res => res.json());\n}\n\nexport function getItemOfOneSession(idSession, token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/${idSession}/items`, init)\n    .then(res => res.json());\n}\n\nexport function getAccompOfItem(idSession, token, idSessionsItem) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/${idSession}/items/${idSessionsItem}/accompaniment`, init)\n    .then(res => res.json());\n}\n\nexport function deleteItem(token, idSession, idSessionsItem) {\n  const init = {\n    method: \"DELETE\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n    })\n  };\n\n  return fetch(`${url}/sessions/${idSession}/items/${idSessionsItem}`, init)\n    .then(res1 => res1.json());\n} \n\nexport function finishSession(token, idSession) {\n  const init = {\n    method: 'PUT',\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/finish`, init)\n    .then(res => res.json());\n}\n\nexport function finishAndPaySession(token, idSession, toSend) {\n  const init = {\n    method: 'PUT',\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    }),\n    body: JSON.stringify(toSend),\n  };\n  return fetch(`${url}/sessions/${idSession}/finishAndPay`, init)\n    .then(res => res.json());\n}\n\nexport function paySession(token, idSession, toSend) {\n  const init = {\n    method: 'PUT',\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    }),\n    body: JSON.stringify(toSend),\n  };\n  return fetch(`${url}/sessions/${idSession}/pay`, init)\n    .then(res => res.json());\n}\n\nexport function addReduction(toSend, token, idSession) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/reduction`, init)\n    .then(res => res.json());\n}\n\nexport function reductionToZero(token, idSession) {\n  const init = {\n    method: 'PUT',\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/reductionToZero`, init)\n    .then(res => res.json());\n}\n\nexport function deleteOneSession(token, idSession) {\n  const init = {\n    method: \"DELETE\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n    })\n  };\n\n  return fetch(`${url}/sessions/${idSession}`, init)\n    .then(res1 => res1.json());\n} \n\nexport function getSessionsPrintWorks(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/special/sessions-prints-works`, init)\n    .then(res => res.json());\n}\n\nexport function getVouchersPrintWorks(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/special/vouchers-prints-works`, init)\n    .then(res => res.json());\n}","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport { addSessionItem } from '../Services/sessions';\nimport ProductsList from './ProductsList';\n\nclass PopupAddSessionItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: '',\n      quantity: 1,\n\n      isLoading: false,\n      negativeStock: false,\n      success: false,\n      invalidForm: false,\n      productNotFound: false,\n      error: false,\n    }\n    this.idSession = this.props.idSession;\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct) => {\n    this.setState({ idProduct: newProduct });\n  }\n\n  _handleQuantity = ({ target }) => {\n    this.setState({ quantity: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = {\n      idProduct: this.state.idProduct,\n      quantity: Number(this.state.quantity),\n    };\n\n    addSessionItem(toSend, Cookies.get('token'), this.idSession)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Élément ajoutée avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit choisit n'a pas été trouvé</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    return !this.state.isLoading ? <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button> : <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un article a une session</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"product\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} />\n          </Form.Group>\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantité: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantité...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n        {this._displayButton()}\n        <Button variant=\"danger\" onClick={this._handleClose}>\n          Fermer\n        </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddSessionItem;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport { updateOneSessionItem } from '../Services/sessions';\nimport ProductsList from './ProductsList';\n\nclass PopupEditSessionItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: this.props.data.idProduct,\n      quantity: this.props.data.quantity,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      productNotFound: false,\n      error: false,\n    }\n    this.idSession = this.props.data.idSession;\n    this.idSessionItem = this.props.data.idSessionsItem;\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct) => {\n    this.setState({ idProduct: newProduct });\n  }\n\n  _handleQuantity = ({ target }) => {\n    this.setState({ quantity: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = {\n      idProduct: this.state.idProduct,\n      quantity: Number(this.state.quantity),\n    };\n\n    updateOneSessionItem(toSend, Cookies.get('token'), this.idSession, this.idSessionItem)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Élément modifié avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit choisit n'a pas été trouvé</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    return !this.state.isLoading ? <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button> : <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un article a une session</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"product\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} default={this.state.idProduct} />\n          </Form.Group>\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantité: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantité...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n        {this._displayButton()}\n        <Button variant=\"danger\" onClick={this._handleClose}>\n          Fermer\n        </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditSessionItem;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport { addAccompaniment } from '../Services/sessions';\nimport ProductsList from './ProductsList';\n\nclass PopupAddAccompaniment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: '',\n      quantity: 1,\n\n      isLoading: false,\n      negativeStock: false,\n      success: false,\n      invalidForm: false,\n      productNotFound: false,\n      error: false,\n    }\n    this.idSession = this.props.data.idSession;\n    this.idSessionItem = this.props.data.idSessionsItem;\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct) => {\n    this.setState({ idProduct: newProduct });\n  }\n\n  _handleQuantity = ({ target }) => {\n    this.setState({ quantity: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = {\n      idProduct: this.state.idProduct,\n      quantity: Number(this.state.quantity),\n    };\n\n    addAccompaniment(toSend, Cookies.get('token'), this.idSession, this.idSessionItem)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Accompagnement ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit choisit n'a pas été trouvé</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    return !this.state.isLoading ? <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button> : <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un Accompagnement a un article</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"product\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} />\n          </Form.Group>\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantité: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantité...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n        {this._displayButton()}\n        <Button variant=\"danger\" onClick={this._handleClose}>\n          Fermer\n        </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddAccompaniment;","import React from 'react';\nimport { Button, Modal, Spinner } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport { getAccompOfItem } from '../Services/sessions';\nimport { getOneProduct } from '../Services/products';\n\nclass PopupViewAccompaniment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      accompaniments: [],\n\n      isLoading: false,\n      error: false,\n    }\n    this.idSessionItem = this.props.data.idSessionsItem;\n    this.idSession = this.props.data.idSession;\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  async componentDidMount() {\n    var until = [];\n    getAccompOfItem(this.idSession, Cookies.get('token'), this.idSessionItem)\n      .then(async data => {\n        if (data.find) {\n          for (let index in data.result) {\n            await getOneProduct(Cookies.get('token'), data.result[index].idProduct)\n              .then(res => {\n                if (res.find) {\n                  until.push({ ...data.result[index], productInfo: res.result });\n                } else {\n                  this.setState({ error: true, isLoading: false });\n                }\n              })\n              .catch(() => {\n                this.setState({ error: true, isLoading: false });\n              });\n          }\n          this.setState({ accompaniments: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      });\n  }\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu, réessayez ou contactez-nous</em>;\n    } else {\n      if (this.state.accompaniments.length < 1) {\n        return <em>Aucun accompagnement</em>;\n      } else {\n        let arrayElement = [];\n        for (let index in this.state.accompaniments) {\n          arrayElement.push(\n            <li>\n              <b>Nom</b>: {this.state.accompaniments[index].productInfo.name}<br />\n              <b>Quantité</b>: {this.state.accompaniments[index].quantity}<br />\n            </li>\n          );\n        }\n        return (<ol>{arrayElement} </ol>);\n      }\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Accompagnement</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          {this._display()}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupViewAccompaniment;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport _ from 'underscore';\nimport { addReduction } from '../Services/sessions';\n\nclass PopupAddReduction extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      reduction: this.props.default,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleReduction = (event) => {\n    this.setState({ reduction: event.target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = {\n      reduction: Number(this.state.reduction)\n    }\n\n    addReduction(toSend, Cookies.get('token'), this.props.idSession)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Réduction ajoutée avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    if (_.isNumber(Number(this.state.reduction)) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une réduction</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"reduction\">\n            <Form.Label>Montant: </Form.Label>\n            <Form.Control\n              onChange={this._handleReduction}\n              value={this.state.reduction}\n              type=\"number\"\n              placeholder=\"Le montant de la réduction...\"\n              aria-label=\"reduction\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddReduction;","import React from 'react';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { getAllClient } from '../Services/clients';\nimport Select from 'react-select';\n\nclass ClientsList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      clients: null, \n      isLoading: true,\n    };\n  }\n\n  async componentDidMount() {\n    let until = [];\n    await getAllClient(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          until.push({ value: 'Inconnu', label: \"Client inconnu\" });\n          for (let index in data.result) {\n            until.push({ value: data.result[index].idClient, label: data.result[index].name });\n          }\n          until.push()\n          this.setState({ isLoading: false, clients: until });\n        } else {\n          alert('Une erreur eu lieu, réessayez ou contactez-nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur eu lieu, réessayez ou contactez-nous');\n      });\n  }\n\n  _handle = (event) => {\n    this.props.onChange(event)\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n    } else {\n      if (this.state.clients.length < 1) {\n        alert(\"Vous n'avez aucun produit commencez par en ajouter un\");\n        window.location.reload();\n      } else {\n        return this.props.default ? <Select defaultValue={this.props.default} options={this.state.clients} onChange={this._handle}  /> : <Select options={this.state.clients} onChange={this._handle} />;\n      }\n    }\n  }\n}\n\nexport default ClientsList;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport ClientsList from './ClientsList';\nimport { editSession } from '../Services/sessions';\n\nclass PopupEditSession extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idClient: this.props.data.idClient,\n      server: 'CHRISTELLE',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      clientNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdClient = (newClient) => {\n    this.setState({ idClient: newClient.value });\n  }\n\n  _handleServer = ({ target }) => {\n    this.setState({ server: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = this.state.idClient === 'Inconnu' ? {\n      nameOfServer: this.state.server,\n    } : {\n      idClient: this.state.idClient,\n      nameOfServer: this.state.server,\n    };\n\n    editSession(toSend, Cookies.get('token'), this.props.data.idSession)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, clientNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, clientNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.clientNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Session modifiée avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.clientNotFound) {\n      return <Alert variant=\"warning\">Le client choisit n'a pas été trouvé</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    if (this.state.server.length > 0 && this.state.server.length <= 75 && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>;\n    } else {\n      return <Button variant=\"success\" disabled>Confirmer</Button>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modfier une session</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Client: </Form.Label>\n            <ClientsList onChange={this._handleIdClient} default={this.props.data.idClient} />\n          </Form.Group>\n          <Form.Group controlId=\"nameOfServer\">\n            <Form.Label>Nom du serveur/serveuse: </Form.Label>\n            <select onChange={this._handleServer} id=\"nameOfServer\" className=\"form-control\">\n              <option value='CHRISTELLE' selected>CHRISTELLE</option>\n              <option value='NDAYA CHRISTELLE'>NDAYA CHRISTELLE</option>\n              <option value='EXAUCÉE'>EXAUCÉE</option>\n              <option value='SANDRA'>SANDRA</option>\n              <option value='FANNY'>FANNY</option>\n              <option value='PATIENT'>PATIENT</option>\n              <option value='GRACIA'>GRACIA</option>\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditSession;","import React from 'react';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport Select from 'react-select';\nimport { getMethods } from '../Services/sessions';\n\nclass MethodsList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: null, \n      isLoading: true,\n    };\n  }\n\n  async componentDidMount() {\n    let until = [];\n    await getMethods(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          for (let index in data.result) {\n            until.push({ value: data.result[index], label: data.result[index].name });\n          }\n          this.setState({ isLoading: false, products: until });\n        } else {\n          alert('Une erreur eu lieu, réessayez ou contactez-nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur eu lieu, réessayez ou contactez-nous');\n      });\n  }\n\n  _handle = (event) => {\n    console.log(event);\n    this.props.onChange(event.value.idMethod, event.value);\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n    } else {\n      if (this.state.products.length < 1) {\n        alert(\"Vous n'avez aucun produit commencez par en ajouter un\");\n        window.location.reload();\n      } else {\n        return this.props.default ? <Select defaultValue={this.props.default} options={this.state.products} onChange={this._handle}  /> : <Select options={this.state.products} onChange={this._handle} />;\n      }\n    }\n  }\n}\n\nexport default MethodsList;","import React from \"react\";\nimport { Button, Modal, Form, Alert } from \"react-bootstrap\";\nimport Cookies from \"js-cookie\";\nimport { paySession, finishAndPaySession, editMoneyOfSession } from \"../Services/sessions\";\nimport MethodsList from \"./MethodsList\";\n\nclass PopupPaySession extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      pm: this.props.changeData ? this.props.data.idMethod : null,\n      amountPaid: this.props.changeData\n        ? this.props.data.amountPaid\n        : this.props.data.total - this.props.data.reduction,\n\n      isLoading: false,\n      invalidForm: false,\n      error: false,\n    };\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  };\n\n  _handlePM = (id, method) => {\n    this.setState({ pm: id });\n  };\n\n  _handleAmountPaid = (event) => {\n    this.setState({ amountPaid: event.target.value });\n  };\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      paymentMethod: Number(this.state.pm),\n      amountPaid: Number(this.state.amountPaid),\n    };\n\n    if (this.props.changeData) {\n      editMoneyOfSession( toSend, Cookies.get(\"token\"), this.props.data.idSession)\n        .then((res) => {\n          if (res.update) {\n            window.location.reload();\n          } else if (res.invalidToken) {\n            Cookies.remove(\"token\");\n            Cookies.remove(\"idUser\");\n\n            window.location.href = \"/application/\";\n          } else {\n            alert(\n              \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n            );\n          }\n        })\n        .catch(() => {\n          alert(\n            \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n          );\n        });\n    } else {\n      if (!this.props.data.wasOver) {\n        finishAndPaySession(\n          Cookies.get(\"token\"),\n          this.props.data.idSession,\n          toSend\n        )\n          .then((res) => {\n            if (res.update) {\n              window.location.reload();\n            } else if (res.invalidToken) {\n              Cookies.remove(\"token\");\n              Cookies.remove(\"idUser\");\n\n              window.location.href = \"/application/\";\n            } else {\n              alert(\n                \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n              );\n            }\n          })\n          .catch(() => {\n            alert(\n              \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n            );\n          });\n      } else {\n        paySession(Cookies.get(\"token\"), this.props.data.idSession, toSend)\n          .then((res) => {\n            if (res.update) {\n              window.location.reload();\n            } else if (res.invalidToken) {\n              Cookies.remove(\"token\");\n              Cookies.remove(\"idUser\");\n\n              window.location.href = \"/application/\";\n            } else {\n              alert(\n                \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n              );\n            }\n          })\n          .catch(() => {\n            alert(\n              \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n            );\n          });\n      }\n    }\n  };\n\n  _displayAlert = () => {\n    if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.error) {\n      return (\n        <Alert variant=\"danger\">\n          Une erreur a eu lieu, réessayer ou contactez-nous\n        </Alert>\n      );\n    }\n  };\n\n  _displayButton = () => {\n    if (\n      this.state.pm !== null &&\n      this.state.amountPaid <= this.props.data.total - this.props.data.reduction\n    ) {\n      return (\n        <Button variant=\"success\" onClick={this._onClick}>\n          Confimer\n        </Button>\n      );\n    } else {\n      return (\n        <Button variant=\"success\" disabled>\n          Confirmer\n        </Button>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Payer une session</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Label>\n            Montant payé (en $) (dans le cas d'un crédit, entrer le montant du\n            crédit déjà payer):{\" \"}\n          </Form.Label>\n          <Form.Control\n            onChange={this._handleAmountPaid}\n            value={this.state.amountPaid}\n            type=\"number\"\n            placeholder=\"Le montant payé par le client...\"\n            aria-describedby=\"btnSubmit\"\n          />\n          <br />\n          <MethodsList onChange={this._handlePM} />\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nexport default PopupPaySession;\n","import React from \"react\";\nimport { Button, Container, ListGroup, Spinner } from \"react-bootstrap\";\nimport NavBar from \"../Components/NavBar\";\nimport {\n  getOneSession,\n  getItemOfOneSession,\n  deleteItem,\n  finishSession,\n  finishAndPaySession,\n  paySession,\n  reductionToZero,\n  deleteOneSession,\n} from \"../Services/sessions\";\nimport Cookies from \"js-cookie\";\nimport _ from \"lodash\";\nimport { getOneClient } from \"../Services/clients\";\nimport moment from \"moment\";\nimport PopupAddSessionItem from \"../Components/PopupAddSessionItem\";\nimport PopupEditSessionItem from \"../Components/PopupEditSessionItem\";\nimport PopupAddAccompaniment from \"../Components/PopupAddAccompaniment\";\nimport PopupViewAccompaniment from \"../Components/PopupViewAccompaniment\";\nimport PopupAddReduction from \"../Components/PopupAddReduction\";\nimport PopupEditSession from \"../Components/PopupEditSession\";\nimport VerifyStatus from \"../Components/VerifyStatus\";\nimport PopupPaySession from \"../Components/PopupPaySession\";\nimport { io } from \"socket.io-client\";\nimport url from \"../Services/url.socket\";\n\nclass GetOneSession extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sessionInfo: {},\n      sessionItem: [],\n\n      isLoading: true,\n      addMode: false,\n      editMode: false,\n      editSessionMode: false,\n      editSumMode: false,\n      accompMode: false,\n      accompViewMode: false,\n      reductionMode: false,\n      payMode: false,\n      error: false,\n    };\n\n    this.idSession = this.props.match.params.idSession;\n    document.title = \"Le Consulat - Sessions\";\n  }\n\n  async componentDidMount() {\n    const socket = io(url, {\n      transports: [\"websocket\"],\n      reconnection: true,\n      reconnectionDelay: 60000,\n    });\n    socket.on(\n      \"edit-session\",\n      async (response) => {\n        this.setState({ isLoading: true, }, window.location.reload(false))\n      }\n    );\n    await getOneSession(this.idSession, Cookies.get(\"token\"))\n      .then(async (data) => {\n        if (data.find) {\n          await getItemOfOneSession(this.idSession, Cookies.get(\"token\"))\n            .then((res2) => {\n              if (res2.find) {\n                this.setState({\n                  isLoading: false,\n                  error: false,\n                  sessionInfo: data.result[0],\n                  sessionItem: res2.result,\n                });\n              } else {\n                this.setState({\n                  isLoading: false,\n                  error: true,\n                  sessionInfo: [],\n                  sessionItem: {},\n                });\n              }\n            })\n            .catch(() => {\n              this.setState({\n                isLoading: false,\n                error: true,\n                sessionInfo: [],\n                sessionItem: {},\n              });\n            });\n        } else {\n          this.setState({\n            isLoading: false,\n            error: true,\n            sessionInfo: [],\n            sessionItem: {},\n          });\n        }\n      })\n      .catch(() => {\n        this.setState({\n          isLoading: false,\n          error: true,\n          sessionInfo: [],\n          sessionItem: {},\n        });\n      });\n  }\n\n  _updateItem = (info) => {\n    this.editInfo = info;\n    this.setState({ editMode: true });\n  };\n\n  _addAccompaniment = (info) => {\n    this.accompInfo = info;\n    this.setState({ accompMode: true });\n  };\n\n  _viewAccompaniment = (info) => {\n    this.accompViewInfo = info;\n    this.setState({ accompViewMode: true });\n  };\n\n  _deleteItem = (info) => {\n    console.log(\"====================================\");\n    console.log(info);\n    console.log(\"====================================\");\n    if (window.confirm(\"Êtes vous sûre de vouloir supprimer cet élément?\")) {\n      deleteItem(Cookies.get(\"token\"), info.idSession, info.idSessionsItem)\n        .then((res) => {\n          console.log(\"====================================\");\n          console.log(res);\n          console.log(\"====================================\");\n          if (res.delete) {\n            window.location.reload();\n          } else if (res.invalidToken) {\n            Cookies.remove(\"token\");\n            Cookies.remove(\"idUser\");\n\n            window.location.href = \"/application/\";\n          } else {\n            alert(\n              \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n            );\n          }\n        })\n        .catch(() => {\n          alert(\n            \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n          );\n        });\n    }\n  };\n\n  _displayItem = () => {\n    if (this.state.sessionItem.length < 1) {\n      return <em>Aucun élément</em>;\n    } else {\n      let arrayElement = [];\n      if (this.state.sessionInfo.wasOver === 1) {\n        for (let index in this.state.sessionItem) {\n          arrayElement.push(\n            <ListGroup.Item style={{ fontSize: 13.5 }}>\n              <h4 style={{ marginBottom: -1 }}>\n                {this.state.sessionItem[index].nameOfProduct}\n              </h4>\n              Quantité: {this.state.sessionItem[index].quantity}\n              <br />\n              Prix: {this.state.sessionItem[index].price}$<br />\n              Total:{\" \"}\n              {this.state.sessionItem[index].quantity *\n                this.state.sessionItem[index].price}\n              $<br />\n              <a\n                href=\"#\"\n                onClick={() => {\n                  this._addAccompaniment(this.state.sessionItem[index]);\n                }}\n              >\n                Ajouter un accompagnement\n              </a>\n              <br />\n              <a\n                href=\"#\"\n                onClick={() => {\n                  this._viewAccompaniment(this.state.sessionItem[index]);\n                }}\n              >\n                Voir les accompagnements\n              </a>\n            </ListGroup.Item>\n          );\n        }\n      } else {\n        for (let index in this.state.sessionItem) {\n          arrayElement.push(\n            <ListGroup.Item style={{ fontSize: 13.5 }}>\n              <h4 style={{ marginBottom: -1 }}>\n                {this.state.sessionItem[index].nameOfProduct}{\" \"}\n                <a\n                  style={{ fontSize: 18 }}\n                  href=\"#\"\n                  onClick={() => {\n                    this._updateItem(this.state.sessionItem[index]);\n                  }}\n                >\n                  Modifier\n                </a>{\" \"}\n                <a\n                  style={{ fontSize: 18 }}\n                  onClick={() => {\n                    this._deleteItem(this.state.sessionItem[index]);\n                  }}\n                  href=\"#\"\n                >\n                  Supprimer\n                </a>\n              </h4>\n              Quantité: {this.state.sessionItem[index].quantity}\n              <br />\n              Prix: {this.state.sessionItem[index].price}$<br />\n              Total:{\" \"}\n              {this.state.sessionItem[index].quantity *\n                this.state.sessionItem[index].price}\n              $<br />\n              <a\n                href=\"#\"\n                onClick={() => {\n                  this._addAccompaniment(this.state.sessionItem[index]);\n                }}\n              >\n                Ajouter un accompagnement\n              </a>\n              <br />\n              <a\n                href=\"#\"\n                onClick={() => {\n                  this._viewAccompaniment(this.state.sessionItem[index]);\n                }}\n              >\n                Voir les accompagnements\n              </a>\n            </ListGroup.Item>\n          );\n        }\n      }\n      return arrayElement;\n    }\n  };\n\n  _addItem = () => {\n    this.setState({ addMode: true });\n  };\n\n  _onClose = () => {\n    this.setState({\n      addMode: false,\n      editMode: false,\n      accompMode: false,\n      accompViewMode: false,\n      reductionMode: false,\n      editSessionMode: false,\n      payMode: false,\n      editSumMode: false,\n    });\n  };\n\n  _finish = () => {\n    finishSession(Cookies.get(\"token\"), this.idSession)\n      .then((res) => {\n        if (res.update) {\n          window.location.reload();\n        } else if (res.invalidToken) {\n          Cookies.remove(\"token\");\n          Cookies.remove(\"idUser\");\n\n          window.location.href = \"/application/\";\n        } else {\n          alert(\n            \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n          );\n        }\n      })\n      .catch(() => {\n        alert(\n          \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n        );\n      });\n  };\n\n  _finishAndPay = () => {\n    this.setState({ payMode: true });\n    // finishAndPaySession(Cookies.get('token'), this.idSession)\n    //   .then(res => {\n    //     if (res.update) {\n    //       window.location.reload();\n    //     } else if (res.invalidToken) {\n    //       Cookies.remove('token');\n    //       Cookies.remove('idUser');\n\n    //       window.location.href = '/application/';\n    //     } else {\n    //       alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n    //     }\n    //   })\n    //   .catch(() => {\n    //     alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n    //   });\n  };\n\n  _pay = () => {\n    this.setState({ payMode: true });\n    // paySession(Cookies.get('token'), this.idSession)\n    //   .then(res => {\n    //     if (res.update) {\n    //       window.location.reload();\n    //     } else if (res.invalidToken) {\n    //       Cookies.remove('token');\n    //       Cookies.remove('idUser');\n\n    //       window.location.href = '/application/';\n    //     } else {\n    //       alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n    //     }\n    //   })\n    //   .catch(() => {\n    //     alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n    //   });\n  };\n\n  _addReduction = () => {\n    this.setState({ reductionMode: true });\n  };\n\n  _reductionToZero = () => {\n    reductionToZero(Cookies.get(\"token\"), this.idSession)\n      .then((res) => {\n        if (res.update) {\n          window.location.reload();\n        } else if (res.invalidToken) {\n          Cookies.remove(\"token\");\n          Cookies.remove(\"idUser\");\n\n          window.location.href = \"/application/\";\n        } else {\n          alert(\n            \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n          );\n        }\n      })\n      .catch(() => {\n        alert(\n          \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n        );\n      });\n  };\n\n  _editSession = () => {\n    this.setState({ editSessionMode: true });\n  };\n\n  _deleteSession = () => {\n    deleteOneSession(Cookies.get(\"token\"), this.idSession)\n      .then((res) => {\n        if (res.delete) {\n          window.location.href = \"/application/sessions/inProgress\";\n        } else if (res.invalidToken) {\n          Cookies.remove(\"token\");\n          Cookies.remove(\"idUser\");\n\n          window.location.href = \"/application/\";\n        } else {\n          alert(\n            \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n          );\n        }\n      })\n      .catch(() => {\n        alert(\n          \"Une erreur a eu lieu lors de l'opération, réessayez ou contactez nous\"\n        );\n      });\n  };\n\n  _editSum = () => {\n    this.setState({ editSumMode: true });\n  };\n\n  _displayButton = () => {\n    if (\n      this.state.sessionInfo.wasOver === 1 &&\n      this.state.sessionInfo.beenPaid\n    ) {\n      return (\n        <Button variant=\"info\" onClick={this._editSum}>\n          Modifier la somme payée\n        </Button>\n      );\n    } else if (this.state.sessionInfo.wasOver === 1) {\n      return (\n        <Button variant=\"warning\" onClick={this._pay}>\n          Payée\n        </Button>\n      );\n    } else {\n      return (\n        <>\n          <Button variant=\"danger\" onClick={this._finish}>\n            Terminée\n          </Button>{\" \"}\n          <Button variant=\"warning\" onClick={this._finishAndPay}>\n            Terminée et payée\n          </Button>{\" \"}\n          <Button variant=\"secondary\" onClick={this._editSession}>\n            Modifier\n          </Button>{\" \"}\n          <Button variant=\"primary\" onClick={this._addReduction}>\n            {this.state.sessionInfo.reduction >= 0\n              ? \"Ajouter une réduction\"\n              : \"Modifier la réduction\"}\n          </Button>{\" \"}\n          {this.state.sessionInfo.reduction > 0 ? (\n            <Button variant=\"info\" onClick={this._reductionToZero}>\n              Remettre la réduction à 0\n            </Button>\n          ) : null}\n        </>\n      );\n    }\n  };\n\n  _displayButton2 = () => {\n    if (this.state.sessionInfo.wasOver === 1) {\n      return null;\n    } else {\n      return (\n        <Button variant=\"success\" onClick={this._addItem}>\n          <i class=\"fas fa-plus-circle\"></i> Ajouter un élément\n        </Button>\n      );\n    }\n  };\n\n  _displayIframe = () => {\n    if (this.state.sessionInfo.wasOver === 1) {\n      // return <object data={this.state.sessionInfo.invoiceUrl.replace('http', 'https')} type=\"application/pdf\" width=\"50%\" height=\"500px\"><embed src={this.state.sessionInfo.invoiceUrl.replace('http', 'https')} type=\"application/pdf\" /></object>\n      return (\n        <a\n          href={this.state.sessionInfo.invoiceUrl.replace(\"http\", \"https\")}\n          target=\"_blank\"\n        >\n          Voir la facture\n        </a>\n      );\n    }\n  };\n\n  render() {\n    if (this.state.isLoading) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Session</h1>\n            <Spinner animation=\"border\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </Spinner>\n          </Container>\n        </>\n      );\n    } else if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Session</h1>\n            <em>Une erreur a eu lieu, réessayez ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      const sessionInfo = this.state.sessionInfo;\n      let now = moment.unix(parseInt(sessionInfo.timestamp));\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Session</h1>\n            {this._displayIframe()}\n            <br />\n            {this._displayButton()}\n            {Cookies.get(\"idUser\") == \"1\" || Cookies.get(\"idUser\") == \"2\" ? (\n              <Button variant=\"danger\" onClick={this._deleteSession}>\n                Supprimer la session\n              </Button>\n            ) : null}\n            <h2>Information sur la session</h2>\n            <table>\n              <tr>\n                <td>\n                  <b>Clients: </b>\n                </td>\n                <td>{sessionInfo.nameOfClient}</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Serveur/Serveuse: </b>\n                </td>\n                <td>{sessionInfo.nameOfServer}</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Utilisateur: </b>\n                </td>\n                <td>{sessionInfo.nameOfUser}</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Date: </b>\n                </td>\n                <td>{now.format(\"DD/MM/yyyy [à] HH:mm\")}</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Total sans réduction: </b>\n                </td>\n                <td>{sessionInfo.total}$</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Réduction: </b>\n                </td>\n                <td>{sessionInfo.reduction}$</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Total: </b>\n                </td>\n                <td>{sessionInfo.total - sessionInfo.reduction}$</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Payé: </b>\n                </td>\n                <td>{sessionInfo.amountPaid}$</td>\n              </tr>\n              <tr>\n                <td>\n                  <b>Reste à payé: </b>\n                </td>\n                <td>\n                  {sessionInfo.total -\n                    sessionInfo.reduction -\n                    sessionInfo.amountPaid}\n                  $\n                </td>\n              </tr>\n            </table>\n            <br />\n            <h2>Élement de la session</h2>\n            <ListGroup style={{ width: \"25rem\" }}>\n              {this._displayButton2()}\n              {this._displayItem()}\n            </ListGroup>\n            {this.state.addMode ? (\n              <PopupAddSessionItem\n                idSession={this.idSession}\n                callback={this._onClose}\n              />\n            ) : null}\n            {this.state.editMode ? (\n              <PopupEditSessionItem\n                data={this.editInfo}\n                callback={this._onClose}\n              />\n            ) : null}\n            {this.state.accompMode ? (\n              <PopupAddAccompaniment\n                data={this.accompInfo}\n                callback={this._onClose}\n              />\n            ) : null}\n            {this.state.accompViewMode ? (\n              <PopupViewAccompaniment\n                data={this.accompViewInfo}\n                callback={this._onClose}\n              />\n            ) : null}\n            {this.state.reductionMode ? (\n              <PopupAddReduction\n                idSession={this.state.sessionInfo.idSession}\n                default={this.state.sessionInfo.reduction}\n                callback={this._onClose}\n              />\n            ) : null}\n            {this.state.editSessionMode ? (\n              <PopupEditSession\n                data={this.state.sessionInfo}\n                callback={this._onClose}\n              />\n            ) : null}\n            {this.state.payMode ? (\n              <PopupPaySession\n                changeData={false}\n                data={this.state.sessionInfo}\n                callback={this._onClose}\n              />\n            ) : null}\n            {this.state.editSumMode ? (\n              <PopupPaySession\n                changeData={true}\n                data={this.state.sessionInfo}\n                callback={this._onClose}\n              />\n            ) : null}\n            <VerifyStatus />\n          </Container>\n        </>\n      );\n    }\n  }\n}\n\nexport default GetOneSession;\n","const url = '/';\n// const url = 'http://le-consulat-drc.com';\n// const url = 'http://localhost:4200';\n// const url = \"http://172.20.10.4:4200\";\n\nexport default url;\n","import React from 'react';\nimport { Spinner, Card, Button } from \"react-bootstrap\";\nimport { getInProgress } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport _ from 'lodash';\nimport { getOneClient } from '../Services/clients';\nimport moment from 'moment';\n\nclass SessionsInProgressList extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      sessions: [],\n      isLoading: true,\n      error: false,\n    };\n  }\n\n  async componentDidMount() {\n    var until= []\n    await getInProgress(Cookies.get('token'))\n      .then(async data => {\n        if (data.find) {\n          this.setState({ sessions: data.result, isLoading: false, error: false });\n        } else {\n          this.setState({ sessions: [], isLoading: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ sessions: [], isLoading: false, error: true });\n      });\n  }\n\n  _displayCards = () => {\n    if (this.state.sessions.length < 1) {\n      return <em>Aucune session en cours</em>;\n    } else {\n      let arrayElement = [];\n      for (let index in this.state.sessions) {\n        let now = moment.unix(parseInt(this.state.sessions[index].timestamp));\n        arrayElement.push(\n          <Card className=\"col-12 col-lg-3\">\n            <Card.Body>\n              <Card.Title>{this.state.sessions[index].nameOfClient}</Card.Title>\n              <Card.Text>\n                Utilisateur: {this.state.sessions[index].nameOfUser}<br />\n                  Date: {now.format('DD/MM/yyyy [à] HH:mm')}<br />\n                  Total sans réduction: {this.state.sessions[index].total}$<br />\n                  Reduction: {this.state.sessions[index].reduction}$<br />\n                  Total: {this.state.sessions[index].total - this.state.sessions[index].reduction}$<br />\n              </Card.Text>\n              <Button variant=\"primary\" onClick={() => { window.location.href = `/application/sessions/get/${this.state.sessions[index].idSession}`; }}>Voir plus <i class=\"fas fa-arrow-right\"></i></Button>\n            </Card.Body>\n          </Card>\n        );\n      }\n      return arrayElement;\n    }\n  };\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n      );\n    } else if (this.state.error) {\n      return <em>Nous sommes désolé mais une erreur a eu lieu, réessayez ou contactez-nous</em>;\n    } else {\n      return <div className='row'>\n        {this._displayCards()}\n      </div>;\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {this._display()}\n      </>\n    );\n  }\n}\n\nexport default SessionsInProgressList;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport ClientsList from './ClientsList';\nimport { startSession } from '../Services/sessions';\n\nclass PopupAddSession extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idClient: '',\n      server: 'CHRISTELLE',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      clientNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdClient = (newClient) => {\n    this.setState({ idClient: newClient.value });\n  }\n\n  _handleServer = ({ target }) => {\n    this.setState({ server: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = this.state.idClient === 'Inconnu' ? {\n      nameOfServer: this.state.server,\n    } : {\n      idClient: this.state.idClient,\n      nameOfServer: this.state.server,\n    };\n\n    startSession(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, clientNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, clientNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.clientNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Session commencée avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.clientNotFound) {\n      return <Alert variant=\"warning\">Le client choisit n'a pas été trouvé</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    if (this.state.server.length > 0 && this.state.server.length <= 75 && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Commencer une session</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Client: </Form.Label>\n            <ClientsList onChange={this._handleIdClient} />\n          </Form.Group>\n          <Form.Group controlId=\"nameOfServer\">\n            <Form.Label>Nom du serveur/serveuse: </Form.Label>\n            <select onChange={this._handleServer} id=\"nameOfServer\" className=\"form-control\">\n              <option value='CHRISTELLE' selected>CHRISTELLE</option>\n              <option value='NDAYA CHRISTELLE'>NDAYA CHRISTELLE</option>\n              <option value='EXAUCÉE'>EXAUCÉE</option>\n              <option value='SANDRA'>SANDRA</option>\n              <option value='FANNY'>FANNY</option>\n              <option value='PATIENT'>PATIENT</option>\n              <option value='GRACIA'>GRACIA</option>\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddSession;","import React from 'react';\nimport { Container, Button, Spinner } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport SessionsInProgressList from '../Components/SessionsInProgressList';\nimport PopupAddSession from '../Components/PopupAddSession';\nimport url from \"../Services/url.socket\";\nimport { io } from \"socket.io-client\";\n\nclass SessionsInProgress extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      addMode: false,\n      isLoading: false,\n    };\n    document.title = \"Le Consulat - Sessions\";\n  }\n\n  componentDidMount() {\n    const socket = io(url, {\n      reconnection: true,\n      reconnectionDelay: 60000,\n    });\n    socket.on(\n      \"new-session\",\n      async (response) => {\n        console.log('Hey');\n        this.setState({ isLoading: true, }, window.location.reload(false))\n      }\n    );\n    socket.on(\n      \"edit-session\",\n      async (response) => {\n        this.setState({ isLoading: true, }, window.location.reload(false))\n      }\n    );\n  }\n\n  _addSession = () => {\n    this.setState({ addMode: true });\n  };\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n  render() {\n    if (this.state.isLoading) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Sessions en cours</h1>\n            <Spinner animation=\"border\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </Spinner>\n          </Container>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Sessions en cours</h1>\n            <Button variant='success' onClick={this._addSession}><i class=\"fas fa-plus-circle\"></i> Commencer une nouvelle session</Button>\n            <br /><br />\n            <SessionsInProgressList />\n          </Container>\n          {this.state.addMode ? <PopupAddSession callback={this._onClose} /> : null}\n        </>\n      );\n    }\n  }\n}\n\nexport default SessionsInProgress;","import React from 'react';\nimport { Spinner, Card, Button } from \"react-bootstrap\";\nimport { getNotPaid } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport _ from 'underscore';\nimport { getOneClient } from '../Services/clients';\nimport moment from 'moment';\n\nclass DebtList extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      sessions: [],\n      isLoading: true,\n      error: false,\n    };\n  }\n\n  async componentDidMount() {\n    var until= []\n    await getNotPaid(Cookies.get('token'))\n      .then(async data => {\n        if (data.find) {\n          this.setState({ sessions: data.result, isLoading: false, error: false });\n        } else {\n          this.setState({ sessions: [], isLoading: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ sessions: [], isLoading: false, error: true });\n      });\n  }\n\n  _displayCards = () => {\n    if (this.state.sessions.length < 1) {\n      return <em>Aucune session trouvée</em>;\n    } else {\n      let arrayElement = [];\n      for (let index in this.state.sessions) {\n        let now = moment.unix(parseInt(this.state.sessions[index].timestamp));\n        arrayElement.push(\n          <Card className=\"col-12 col-lg-3\">\n            <Card.Body>\n              <Card.Title>{this.state.sessions[index].nameOfClient}</Card.Title>\n              <Card.Text>\n                Dette: {(this.state.sessions[index].total - this.state.sessions[index].reduction) - this.state.sessions[index].amountPaid}$<br />\n                Utilisateur: {this.state.sessions[index].nameOfUser}<br />\n                Date: {now.format('DD/MM/yyyy [à] HH:mm')}<br />\n                Total sans réduction: {this.state.sessions[index].total}$<br />\n                Reduction: {this.state.sessions[index].reduction}$<br />\n                Total: {this.state.sessions[index].total - this.state.sessions[index].reduction}$<br />\n              </Card.Text>\n              <Button variant=\"primary\" onClick={() => { window.location.href = `/application/sessions/get/${this.state.sessions[index].idSession}`; }}>Voir plus <i class=\"fas fa-arrow-right\"></i></Button>\n            </Card.Body>\n          </Card>\n        );\n      }\n      return arrayElement;\n    }\n  };\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n      );\n    } else if (this.state.error) {\n      return <em>Nous sommes désolé mais une erreur a eu lieu, réessayez ou contactez-nous</em>;\n    } else {\n      return this._displayCards();\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {this._display()}\n      </>\n    );\n  }\n}\n\nexport default DebtList;","import React from 'react';\nimport { Container, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport DebtList from '../Components/DebtList';\n\nclass SessionsNotPaid extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = \"Le Consulat - Sessions\";\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Dettes</h1>\n          <DebtList />\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default SessionsNotPaid;","import React from 'react';\nimport _ from 'lodash';\n\nconst Recipe = (props) => {\n  if (props.show) {\n    return (\n      <h4>Recette des ventes: {_.isNull(props.recipe) ? '0$' : `${props.recipe}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Recipe;","import React from 'react';\nimport _ from 'lodash';\n\nconst Recipe = (props) => {\n  if (props.show) {\n    return (\n      <h4>Recette total: {_.isNull(props.recipe) ? '0$' : `${props.recipe}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Recipe;","import React from 'react';\nimport _ from 'lodash';\n\nconst Recipe = (props) => {\n  if (props.show) {\n    return (\n      <h4>Dépenses: {_.isNull(props.recipe) ? '0$' : `${props.recipe}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Recipe;","import React from 'react';\nimport MaterialTable from \"material-table\";\n\nconst TableProductsSell = (props) => {\n  const columns = [\n    {\n      title: \"Nom\",\n      field: \"nameOfProduct\",\n    },\n    {\n      title: \"Quantité\",\n      field: \"quantity\",\n    },\n    {\n      title: \"Prix\",\n      field: \"price\",\n    },\n    {\n      title: \"Total\",\n      field: \"total\",\n    },\n  ];\n  if (props.show) {\n    return (\n      <MaterialTable\n        title='Produit vendus'\n        data={props.data}\n        columns={columns}\n        options={{\n          search: true,\n          paging: false,\n          filtering: true,\n          exportButton: true,\n        }}\n        isLoading={false}\n      />\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default TableProductsSell;","import React from 'react';\nimport MaterialTable from \"material-table\";\n\nconst TableClientsReport = (props) => {\n  const columns = [\n    {\n      title: \"Client\",\n      field: \"nameOfClient\",\n    },\n    {\n      title: \"Total sans réduction\",\n      field: \"totalWithoutReduction\",\n    },\n    {\n      title: \"Reduction\",\n      field: \"reduction\",\n    },\n    {\n      title: \"Total\",\n      field: \"total\",\n    },\n    {\n      title: \"Facture\",\n      field: \"facture\",\n    },\n  ];\n  if (props.show) {\n    return (\n      <MaterialTable\n        title='Clients présents'\n        data={props.data}\n        columns={columns}\n        options={{\n          search: true,\n          paging: false,\n          filtering: true,\n          exportButton: true,\n        }}\n        isLoading={false}\n      />\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default TableClientsReport;","import React from 'react';\nimport MaterialTable from \"material-table\";\n\nconst TableExpensivesTransactions = (props) => {\n  const columns = [\n    {\n      title: \"Categorie\",\n      field: \"nameOfCategory\",\n    },\n    {\n      title: \"Montant\",\n      field: \"outlet\",\n    },\n    {\n      title: \"Libellé\",\n      field: \"description\",\n    },\n  ];\n  if (props.show) {\n    return (\n      <MaterialTable\n        title='Transactions de dépense'\n        data={props.data}\n        columns={columns}\n        options={{\n          search: true,\n          paging: false,\n          filtering: true,\n          exportButton: true,\n        }}\n        isLoading={false}\n      />\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default TableExpensivesTransactions;","import React from 'react';\nimport MaterialTable from \"material-table\";\n\nconst TableWaiter = (props) => {\n  const columns = [\n    {\n      title: \"Serveur\",\n      field: \"name\",\n    },\n    {\n      title: \"Total monétaire (en $)\",\n      field: \"money\",\n    },\n    {\n      title: \"Total (en nombre)\",\n      field: \"nbrOfSession\",\n    },\n  ];\n  if (props.show) {\n    return (\n      <MaterialTable\n        title='Service serveur(euses)'\n        data={props.data}\n        columns={columns}\n        options={{\n          search: true,\n          paging: false,\n          filtering: true,\n          exportButton: true,\n        }}\n        isLoading={false}\n      />\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default TableWaiter;","import React from 'react';\nimport _ from 'lodash';\n\nconst Debt = (props) => {\n  if (props.show) {\n    return (\n      <h4>Dettes du jour: {_.isNull(props.debt) ? '0$' : `${props.debt}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Debt;","import React from 'react';\nimport _ from 'lodash';\n\nconst PayedDebt = (props) => {\n  if (props.show) {\n    return (\n      <h4>Dettes payées: {_.isNull(props.debt) ? '0$' : `${props.debt}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default PayedDebt;","import React from 'react';\nimport _ from 'lodash';\n\nconst Cash = (props) => {\n  if (props.show) {\n    return (\n      <h4>Payé cash: {_.isNull(props.cash) ? '0$' : `${props.cash}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Cash;","import React from 'react';\nimport _ from 'lodash';\n\nconst Cb = (props) => {\n  if (props.show) {\n    return (\n      <h4>Payé par carte bancaire: {_.isNull(props.cb) ? '0$' : `${props.cb}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Cb;","import React from 'react';\nimport _ from 'lodash';\n\nconst Mpesa = (props) => {\n  if (props.show) {\n    return (\n      <h4>Payé par mpesa: {_.isNull(props.mpesa) ? '0$' : `${props.mpesa}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Mpesa;","import React from 'react';\nimport { Container, Spinner, Accordion, Card, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport DatePicker from \"react-datepicker\"; \nimport _ from 'lodash';\nimport moment from 'moment';\nimport { getReport } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport Recipe from '../Components/Recipe';\nimport AllRecipe from '../Components/AllRecipe';\nimport Expenses from '../Components/Expenses';\nimport TableProductsSell from '../Components/TableProductsSell';\nimport TableClientsReport from '../Components/TableClientsReport';\nimport TableExpensivesTransactions from '../Components/TableExpensivesTransactions';\nimport TableWaiter from '../Components/TableWaiter';\nimport Debt from '../Components/Debt';\nimport PayedDebt from '../Components/PayedDebt';\nimport Cash from '../Components/Cash';\nimport Cb from '../Components/Cb';\nimport Mpesa from '../Components/Mpesa';\n\nclass SessionsReport extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = \"Le Consulat - Rapport\";\n    this.state = {\n      info: [],\n      date: null,\n      timestamp: null,\n      isLoading: true,\n      error: false,\n    }\n  }\n\n  _didMount = () => {\n    getReport(Cookies.get('token'), this.state.timestamp)\n      .then(data => {\n\t\t\t\tif (data.find) {\n\t\t\t\t\tlet until = [];\n\t\t\t\t\tlet until2 = [];\n\t\t\t\t\tfor (let index in data.productsSell) {\n\t\t\t\t\t\tuntil.push({\n\t\t\t\t\t\t\t...data.productsSell[index],\n\t\t\t\t\t\t\ttotal: `${data.productsSell[index].price * data.productsSell[index].quantity}`,\n\t\t\t\t\t\t\tprice: `${data.productsSell[index].price}`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tfor (let index in data.sessions) {\n\t\t\t\t\t\tuntil2.push({\n\t\t\t\t\t\t\t...data.sessions[index],\n\t\t\t\t\t\t\ttotal: `${data.sessions[index].total - data.sessions[index].reduction}`,\n\t\t\t\t\t\t\treduction: `${data.sessions[index].reduction}`,\n\t\t\t\t\t\t\tfacture: !_.isNull(data.sessions[index].invoiceUrl) ? <a href={data.sessions[index].invoiceUrl} target=\"_blank\">Voir <i className=\"fas fa-external-link-alt\"></i></a> : 'Aucune facture disponible',\n\t\t\t\t\t\t\tsession: <a href={`application/sessions/get/${data.sessions[index].idSession}`} target=\"_blank\">Ouvrir <i className=\"fas fa-external-link-alt\"></i></a>,\n\t\t\t\t\t\t\ttotalWithoutReduction: `${data.sessions[index].total}$`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ error: false, isLoading: false, info: { ...data, productsSell: until, sessions: until2, } });\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ error: true });\n\t\t\t\t}\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      })\n  };\n\n  _handleDate = (date) => {\n  \tconst now = moment(date);\n    this.setState({ date: date, timestamp: now.unix() }, this._didMount);\n  }\n\n  _displaySpinner = () => {\n\t\treturn this.state.isLoading ? <div style={{ textAlign: 'center' }}><Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner></div> : null;\n  }\n\n  render() {\n\t\tif (this.state.error) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<h1>Rapport d'un jour</h1>\n\t\t\t\t\t\tSélectionnez un jour: <DatePicker\n\t\t\t\t\t\t\tselected={this.state.date}\n\t\t\t\t\t\t\tdateFormat='dd/MM/yyyy'\n\t\t\t\t\t\t\tonChange={this._handleDate}\n\t\t\t\t\t\t\twithPortal\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<hr style={{ backgroundColor: 'black', height: 1.5, width: '85%' }} />\n\t\t\t\t\t\tUne erreur eu lieu, réessayez ou contactez-nous\n\t\t\t\t\t</Container>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<h1>Rapport d'un jour</h1>\n\t\t\t\t\t\tSélectionnez un jour: <DatePicker\n\t\t\t\t\t\t\tselected={this.state.date}\n\t\t\t\t\t\t\tdateFormat='dd/MM/yyyy'\n\t\t\t\t\t\t\tonChange={this._handleDate}\n\t\t\t\t\t\t\twithPortal\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<hr style={{ backgroundColor: 'black', height: 1.5, width: '85%' }} />\n\t\t\t\t\t\t{this._displaySpinner()}\n\t\t\t\t\t\t<Recipe show={!this.state.isLoading} recipe={this.state.info.recipe} />\n            <Debt show={!this.state.isLoading} debt={this.state.info.debt} />\n            <PayedDebt show={!this.state.isLoading} debt={this.state.info.sumPayedDebt} />\n            <Cash show={!this.state.isLoading} cash={this.state.info.cash} />\n            <Cb show={!this.state.isLoading} cb={this.state.info.cb} />\n            <Mpesa show={!this.state.isLoading} mpesa={this.state.info.mpesa} />\n\t\t\t\t\t\t<Expenses show={!this.state.isLoading} recipe={Number(this.state.info.expenses).toFixed(4)} />\n\t\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Produits vendus</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t<TableProductsSell show={!this.state.isLoading} data={this.state.info.productsSell} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Sessions</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<TableClientsReport show={!this.state.isLoading} data={this.state.info.sessions} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Transactions de dépense</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"2\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"2\">\n\t\t\t\t\t\t\t\t\t<TableExpensivesTransactions show={!this.state.isLoading} data={this.state.info.expensesTransactions} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Service des serveurs(euses)</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"3\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"3\">\n\t\t\t\t\t\t\t\t\t<TableWaiter show={!this.state.isLoading} data={this.state.info.server} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Container>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n  }\n}\n\nexport default SessionsReport;","import React from 'react';\nimport { Container, Spinner, Accordion, Card, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport DatePicker from \"react-datepicker\"; \nimport _ from 'lodash';\nimport moment from 'moment';\nimport { getReportPeriod } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport Recipe from '../Components/Recipe';\nimport AllRecipe from '../Components/AllRecipe';\nimport Expenses from '../Components/Expenses';\nimport TableProductsSell from '../Components/TableProductsSell';\nimport TableClientsReport from '../Components/TableClientsReport';\nimport TableExpensivesTransactions from '../Components/TableExpensivesTransactions';\n\nclass SessionsReportPeriod extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = \"Le Consulat - Rapport\";\n    this.state = {\n      info: [],\n      end: null,\n      begin: null,\n      isLoading: true,\n      error: false,\n    }\n    this.beginInTimestamp= null;\n    this.endInTimestamp= null;\n  }\n\n  _didMount = () => {\n    getReportPeriod(Cookies.get('token'), this.beginInTimestamp, this.endInTimestamp)\n      .then(data => {\n\t\t\t\tif (data.find) {\n\t\t\t\t\tlet until = [];\n\t\t\t\t\tlet until2 = [];\n\t\t\t\t\tfor (let index in data.productsSell) {\n\t\t\t\t\t\tuntil.push({\n\t\t\t\t\t\t\t...data.productsSell[index],\n\t\t\t\t\t\t\ttotal: `${data.productsSell[index].price * data.productsSell[index].quantity}$`,\n\t\t\t\t\t\t\tprice: `${data.productsSell[index].price}$`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tfor (let index in data.sessions) {\n\t\t\t\t\t\tuntil2.push({\n\t\t\t\t\t\t\t...data.sessions[index],\n\t\t\t\t\t\t\ttotal: `${data.sessions[index].total - data.sessions[index].reduction}$`,\n\t\t\t\t\t\t\treduction: `${data.sessions[index].reduction}$`,\n\t\t\t\t\t\t\tfacture: !_.isNull(data.sessions[index].invoiceUrl) ? <a href={data.sessions[index].invoiceUrl} target=\"_blank\">Voir <i className=\"fas fa-external-link-alt\"></i></a> : 'Aucune facture disponible',\n\t\t\t\t\t\t\ttotalWithoutReduction: `${data.sessions[index].total}$`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ error: false, isLoading: false, info: { ...data, productsSell: until, sessions: until2, } });\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ error: true });\n\t\t\t\t}\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      })\n  };\n\n  _handleBegin = (date) => {\n    this.setState({ isLoading: true, begin: date }, () => {\n      const now = moment(date);\n      this.beginInTimestamp= now.unix();\n      if (!_.isNull(this.state.end)) {\n        this._didMount();\n      }\n    })\n  }\n\n  _handleEnd = (date) => {\n    this.setState({ isLoading: true, end: date }, () => {\n      const now = moment(date);\n      this.endInTimestamp= now.unix();\n      if (!_.isNull(this.state.begin)) {\n        this._didMount();\n      }\n    });\n  }\n\n  _displaySpinner = () => {\n\t\treturn this.state.isLoading ? <div style={{ textAlign: 'center' }}><Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner></div> : null;\n  }\n\n  render() {\n\t\tif (this.state.error) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<h1>Rapport d'une période</h1>\n\t\t\t\t\t\tSélectionnez une période: du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n            {' '}au{' '}\n            <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n\t\t\t\t\t\t<hr style={{ backgroundColor: 'black', height: 1.5, width: '85%' }} />\n\t\t\t\t\t\tUne erreur eu lieu, réessayez ou contactez-nous\n\t\t\t\t\t</Container>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<h1>Rapport d'une période</h1>\n\t\t\t\t\t\tSélectionnez une période: du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n            {' '}au{' '}\n            <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n\t\t\t\t\t\t<hr style={{ backgroundColor: 'black', height: 1.5, width: '85%' }} />\n\t\t\t\t\t\t{this._displaySpinner()}\n\t\t\t\t\t\t<Recipe show={!this.state.isLoading} recipe={this.state.info.recipe} />\n\t\t\t\t\t\t<AllRecipe show={!this.state.isLoading} recipe={this.state.info.allRecipe} />\n\t\t\t\t\t\t<Expenses show={!this.state.isLoading} recipe={this.state.info.expenses} />\n\t\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Produits vendus</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t<TableProductsSell show={!this.state.isLoading} data={this.state.info.productsSell} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Sessions</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<TableClientsReport show={!this.state.isLoading} data={this.state.info.sessions} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Transactions de dépense</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"2\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"2\">\n\t\t\t\t\t\t\t\t\t<TableExpensivesTransactions show={!this.state.isLoading} data={this.state.info.expensesTransactions} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Container>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n  }\n}\n\nexport default SessionsReportPeriod;","import url from './url';\n\nexport function getAllCategories(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/money-transactions/category`, init)\n    .then(res => res.json());\n}\n\nexport function addCategory(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/money-transactions/category`, init)\n    .then(res => res.json());\n}\n\nexport function updateCategory(toSend, idCategory, token) {\n  const init = {\n    method: \"PUT\",\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      \"Content-Type\": \"application/json; charset=UTF-8\"\n    })\n  };\n\n  return fetch(`${url}/money-transactions/category/${idCategory}`, init)\n    .then(res => res.json());\n} \n\nexport function addTransaction(toSend, token, type) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  if (type === 'enter') {\n    return fetch(`${url}/money-transactions/enter`, init)\n      .then(res => res.json());\n  } else if (type === 'outlet') {\n    return fetch(`${url}/money-transactions/outlet`, init)\n      .then(res => res.json());\n  }\n}\n\nexport function getTransactions(token, begin, end) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/money-transactions/transactions/begin/${begin}/end/${end}`, init)\n    .then(res => res.json());\n}\n\nexport function getMPCategoriesEnter(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/money-transactions/category/most-popular/enter`, init)\n    .then(res => res.json());\n}\n\nexport function getMPCategoriesOutlet(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/money-transactions/category/most-popular/outlet`, init)\n    .then(res => res.json());\n}","import React from 'react';\nimport { getAllCategories } from '../Services/guichet';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport Select from 'react-select';\nimport _ from 'lodash';\n\nclass CategoriesList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categories: [], \n      categoriesToShow: [], \n      isLoading: true,\n    };\n  }\n\n  async componentDidMount() {\n    let until = [];\n    await getAllCategories(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          for (let index in data.result) {\n            until.push({ value: data.result[index].idCategory, label: data.result[index].name, type: data.result[index].type });\n          }\n          this.setState({ isLoading: false, categories: until }, () => {\n            const until = _.filter(this.state.categories, (o) =>  o.type === this.props.type);\n            this.setState({ categoriesToShow: until });\n          });\n        } else {\n          alert('Une erreur eu lieu, réessayez ou contactez-nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur eu lieu, réessayez ou contactez-nous');\n      });\n  }\n\n  _handle = (event) => {\n    this.props.onChange(event.value);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.type !== prevProps.type) {\n      const until = _.filter(this.state.categories, (o) =>  o.type === this.props.type);\n      this.setState({ categoriesToShow: until });\n    }\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n    } else {\n      if (this.state.categories.length < 1) {\n        alert(\"Vous n'avez aucune catégorie commencez par en ajouter un\");\n        window.location.reload();\n      } else {\n        return this.props.default ? <Select defaultValue={this.props.default} options={this.state.categoriesToShow} onChange={this._handle}  /> : <Select options={this.state.categoriesToShow} onChange={this._handle} />;\n      }\n    }\n  }\n}\n\nexport default CategoriesList;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport CategoriesList from './CategoriesList';\nimport { addTransaction } from '../Services/guichet';\nimport MethodsList from './MethodsList';\n\nclass PopupAddMoneyTransactions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idCategory: '',\n      type: 'enter',\n      amount: 1,\n      description: '',\n      pm: null,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeMoney: false,\n      productNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handlePM = (id, method) => {\n    this.setState({ pm: id });\n  };\n\n  _handleIdCategory = (newProduct) => {\n    this.setState({ idCategory: newProduct });\n  }\n\n  _handleAmount = (event) => {\n    this.setState({ amount: event.target.value });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _handleDescription = (event) => {\n    this.setState({ description: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.description.length >= 2 && this.state.description.length <= 90 && _.isString(this.state.description)) && _.isNumber(Number(this.state.amount)) && _.isNumber(this.state.idCategory) && this.state.pm !== null && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = { \n      amount: Number(this.state.amount),\n      description: this.state.description,\n      idCategory: this.state.idCategory,\n      paymentMethod: this.state.pm,\n    };\n\n    addTransaction(toSend, Cookies.get('token'), this.state.type)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeMoney: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeMoney: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeMoney: false, error: false });\n        } else if (res.negativeMoney) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeMoney: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeMoney: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeMoney: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Transaction ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.negativeMoney) {\n      return <Alert variant=\"warning\">Le montant sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une entrée</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Compte: </Form.Label>\n            <MethodsList onChange={this._handlePM} /> \n          </Form.Group>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Catégorie: </Form.Label>\n            <CategoriesList onChange={this._handleIdCategory} type={this.state.type} /> \n          </Form.Group>\n          <Form.Group controlId=\"amount\">\n            <Form.Label>Montant: </Form.Label>\n            <Form.Control\n              onChange={this._handleAmount}\n              value={this.state.amount}\n              type=\"number\"\n              placeholder=\"Le montant...\"\n              aria-label=\"amount\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select className=\"form-control\" onChange={this._handleType}>\n              <option value=\"enter\" selected>Entrée</option>\n              <option value=\"outlet\">Sortie</option>\n            </select>\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Label>Libellé: </Form.Label>\n            <Form.Control\n              onChange={this._handleDescription}\n              value={this.state.description}\n              type=\"text\"\n              placeholder=\"Libellé de la transaction...\"\n              aria-label=\"description\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddMoneyTransactions;","import React from 'react';\nimport { Button, Container, Spinner } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport moment from 'moment';\nimport PopupAddMoneyTransactions from '../Components/PopupAddMoneyTransactions';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport DatePicker from \"react-datepicker\"; \nimport { getTransactions } from '../Services/guichet';\nimport Cookies from 'js-cookie';\nimport _ from 'lodash';\nimport MaterialTable from 'material-table';\n\nclass GuichetTransactions extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Transactions';\n\n    this.state = {\n      addMode: false,\n      isLoading: true,\n      data: null,\n      error: false,\n      end: null,\n      begin: null,\n    }\n    this.beginInTimestamp= null;\n    this.endInTimestamp= null;\n\n    this.columns = [\n      {\n        title: \"Catégorie\",\n        field: \"nameOfCategory\",\n      },\n      {\n        title: \"Entrée\",\n        field: \"enter\",\n      },\n      {\n        title: \"Sortie\",\n        field: \"outlet\",\n      },\n      {\n        title: \"Argent après\",\n        field: \"amountAfter\",\n      },\n      {\n        title: \"Date\",\n        field: \"date2\",\n      },\n      {\n        title: \"Libellé\",\n        field: \"description\",\n      },\n    ]\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true });\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n\n  _didMount = () => {\n    getTransactions(Cookies.get('token'), this.beginInTimestamp, this.endInTimestamp)\n      .then((res) => {\n        if (res.find) {\n          let until = [];\n          for (let index in res.result.transaction) {\n            let now = moment.unix(parseInt(res.result.transaction[index].timestamp));\n            until.push({ ...res.result.transaction[index], date2: now.format('DD/MM/yyyy [à] HH:mm'), });\n          }\n          this.setState({ error: false, isLoading: false, data: {...res.result, transaction: until} });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      });\n  }\n\n  _handleBegin = (date) => {\n    this.setState({ isLoading: true, begin: date }, () => {\n      const now = moment(date);\n      this.beginInTimestamp= now.unix();\n      if (!_.isNull(this.state.end)) {\n        this._didMount();\n      }\n    })\n  }\n\n  _handleEnd = (date) => {\n    this.setState({ isLoading: true, end: date }, () => {\n      const now = moment(date);\n      this.endInTimestamp= now.unix();\n      if (!_.isNull(this.state.begin)) {\n        this._didMount();\n      }\n    });\n  }\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n      );\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu veuillez réessayez plus tard</em>\n    } else {\n      return (\n        <>\n          Montant au début: {this.state.data.begin.length > 0 ? this.state.data.begin[0].amountAfter : 0}$<br />\n          Montant à la fin: {this.state.data.end.length > 0 ? this.state.data.end[0].amountAfter : 0}$<br /><br />\n          \n          Total entrée: {this.state.data.sumEnter.length > 0 ? this.state.data.sumEnter[0].sumEnter : 0}$<br />\n          Total sortie: {this.state.data.sumOutlet.length > 0 ? this.state.data.sumOutlet[0].sumOutlet : 0}$<br />\n          <br />\n          <MaterialTable\n            title='Transactions monétaire'\n            data={this.state.data.transaction}\n            columns={this.columns}\n            options={{\n              search: true,\n              paging: true,\n              filtering: true,\n              exportButton: true,\n            }}\n            isLoading={this.state.isLoading}\n          />\n        </>\n      );\n    }\n  }\n\n  render() {\n    console.log(this.state);\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Transaction monétaire</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter une transaction</Button> <br /><br />\n          Les transactions  du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n          {' '}au{' '}\n          <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n          {this._display()}\n          {this.state.addMode ? <PopupAddMoneyTransactions callback={this._onClose} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default GuichetTransactions;","import React from 'react';\nimport Cookies from 'js-cookie';\nimport MaterialTable from \"material-table\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport { getAllCategories } from '../Services/guichet';\n\nclass Tablecategories extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      categories: [],\n      isLoading: true,\n      error: false,\n    };\n\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Type\",\n        field: \"type2\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getAllCategories(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          let until= [];\n          for (let index in data.result) {\n            until.push({ ...data.result[index], type2: this._adapt(data.result[index].type) });\n          }\n          this.setState({ categories: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('idUser');\n          Cookies.remove('token');\n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, error: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: false });\n      });\n  }\n\n  _adapt = (toAdapt) => {\n    return toAdapt === 'enter' ? \"Entrée\" : \"Sortie\";\n  }\n\n  _handleUpdate = (event, rowData) => {\n    let capture;\n    for (let index in this.state.categories) {\n      if (this.state.categories[index].idCategory === rowData.idCategory) {\n        capture= this.state.categories[index];\n      }\n    }\n    this.props.onUpdate(capture);\n  }\n\n  render() {\n    if (this.state.error) {\n      return <h2>Une erreur a eu leiu veuillez réessayer</h2>\n    } else {\n      return (\n        <MaterialTable\n          title='Liste des categories'\n          data={this.state.categories}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: false,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n          actions={[\n            {\n              icon: () => <EditIcon htmlColor='#007bff' />,\n              tooltip: \"Modifier\",\n              onClick: this._handleUpdate,\n            },\n          ]}\n        />\n      );\n    }\n  }\n}\n\nexport default Tablecategories;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { addCategory } from '../Services/guichet';\n\nclass PopupAddClient extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: '',\n      type: 'enter',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.type.length >= 2 && this.state.type.length <= 70 && _.isString(this.state.type) && (this.state.type === 'enter' || this.state.type === 'outlet')) && (_.isString(this.state.name) && this.state.name.length >= 2 && this.state.name.length <= 70 )) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      type: this.state.type,\n    };\n\n    addCategory(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Catégorie ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une catégorie</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom de la catégorie...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select onChange={this._handleType} className=\"form-control\">\n              <option value=\"enter\" selected>Entrée</option>\n              <option value=\"outlet\">Sortie</option>\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddClient;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { updateCategory } from '../Services/guichet';\n\nclass PopupEditCategories extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: this.props.data.name,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _displayButton = () => {\n    if (_.isString(this.state.name) && this.state.name.length >= 2 && this.state.name.length <= 70 ) {\n      return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n    } else {\n      return <Button variant=\"success\" disabled>Confirmer</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n    };\n\n    console.log(toSend);\n\n    updateCategory(toSend, this.props.data.idCategory, Cookies.get('token'))\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Catégorie mdoifiée avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modifier une catégorie</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom de la catégorie...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditCategories;","import React from 'react';\nimport { getMPCategoriesEnter } from '../Services/guichet';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass PieMPCEnter extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      data: [],\n      error: false,\n    }\n  }\n\n  componentDidMount() {\n    const color = [\n      \"#838B8B\",\n      \"#668B8B\",\n      \"#2F4F4F\",\n    ]\n    getMPCategoriesEnter(Cookies.get('token'))\n      .then(res => {\n        if (res.find) {\n          const until = [];\n          for (let index in res.result) {\n            until.push({ title: res.result[index].nameOfCategory, value: res.result[index].value_occurrence, color: color[index] });\n          }\n          this.setState({ error: false, isLoading: false, data: until });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      })\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) { \n      return <em>Une erreur a eu lieu réesayez ou contactez-nous</em>\n    } else {\n      return (\n        <PieChart\n          data={this.state.data}\n          labelStyle={{\n            fill: '#fff',\n            opacity: 0.75,\n            pointerEvents: 'none',\n            fontSize: \"25%\",\n          }}\n          labelPosition={50}\n          label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n        />\n      );\n    }\n  }\n}\n\nexport default PieMPCEnter;","import React from 'react';\nimport { getMPCategoriesOutlet } from '../Services/guichet';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass PieMPCOutlet extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      data: [],\n      error: false,\n    }\n  }\n\n  componentDidMount() {\n    const color = [\n      \"#838B8B\",\n      \"#668B8B\",\n      \"#2F4F4F\",\n    ]\n    getMPCategoriesOutlet(Cookies.get('token'))\n      .then(res => {\n        if (res.find) {\n          const until = [];\n          for (let index in res.result) {\n            until.push({ title: res.result[index].nameOfCategory, value: res.result[index].value_occurrence, color: color[index] });\n          }\n          this.setState({ error: false, isLoading: false, data: until });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      })\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu réesayez ou contactez-nous</em>\n    } else {\n      return (\n        <PieChart\n          data={this.state.data}\n          labelStyle={{\n            fill: '#fff',\n            opacity: 0.75,\n            pointerEvents: 'none',\n            fontSize: \"25%\",\n          }}\n          labelPosition={50}\n          label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n        />\n      );\n    }\n  }\n}\n\nexport default PieMPCOutlet;","import React from 'react';\nimport { Button, Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport TableCategories from '../Components/TableCategories';\nimport PopupAddCategories from '../Components/PopupAddCategories';\nimport PopupEditCategories from '../Components/PopupEditCategories';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport PieMPCEnter from '../Components/PieMPCEnter';\nimport PieMPCOutlet from '../Components/PieMPCOutlet';\n\nclass GuichetCategories extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Catégories';\n\n    this.state = {\n      addMode: false,\n      editMode: false,\n    }\n    this.infoEdit = null;\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true, editMode: false });\n  }\n\n  _onUpdate = (info) => {\n    this.infoEdit = info;\n    this.setState({ addMode: false, editMode: true })\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Catégories</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter une catégorie</Button>\n          <br /><br />\n          <TableCategories onUpdate={this._onUpdate} />\n          <br /><br />\n          <h2>Catégories d'entrée les plus fréquentes</h2>\n          <div style={{ width: '60vh' }}>\n            <PieMPCEnter />\n          </div>\n          <h2>Catégories de sorties les plus fréquentes</h2>\n          <div style={{ width: '60vh', alignItems: 'center' }}>\n            <PieMPCOutlet />\n          </div>\n          {this.state.addMode ? <PopupAddCategories callback={this._onClose} /> : null}\n          {this.state.editMode ? <PopupEditCategories callback={this._onClose} data={this.infoEdit} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default GuichetCategories;","import { Container } from 'react-bootstrap';\n\nconst NotFound = () => {\n  document.title = \"Le Consulat - Page Introuvable\";\n  return (\n    <Container>\n      <h1>Page introuvable</h1>\n    </Container>\n  );\n};\n\nexport default NotFound;","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport Table from 'react-bootstrap/Table'\nimport NavBar from '../Components/NavBar';\nimport { getAllProducts } from '../Services/products';\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nclass PrintAll extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Print';\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      type: \"all\",\n    };\n    this.nbre = 0;\n  }\n\n  componentDidMount() {\n    getAllProducts(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          this.setState({ info: _.orderBy(_.orderBy(data.result, ['name'],['asc']), ['type'],['asc']), isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _renderRow = () => {\n    if (this.state.info.length > 0) {\n      let arrayEl = [];\n      let lastType = this.state.info[0].type;\n      arrayEl.push(\n        <tr>\n          <td colSpan=\"2\" style={{ textAlign: \"center\" }}>\n            {lastType}\n          </td>\n        </tr>\n      );\n      for (let index in this.state.info) {\n        if (lastType !== this.state.info[index].type) {\n          arrayEl.push(\n            <tr>\n              <td colSpan=\"2\" style={{ textAlign: \"center\" }}>\n                {this.state.info[index].type}\n              </td>\n            </tr>\n          );\n          arrayEl.push(\n            <tr>\n              <td>{this.state.info[index].name}</td>\n              <td>{this.state.info[index].inStock}</td>\n            </tr>\n          );\n          lastType = this.state.info[index].type;\n        } else {\n          arrayEl.push(\n            <tr>\n              <td>{this.state.info[index].name}</td>\n              <td>{this.state.info[index].inStock}</td>\n            </tr>\n          );\n        }\n      }\n      window.setTimeout(() => {\n        window.print();\n      }, 2000);\n      return arrayEl;\n    }\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Print</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      const now = moment();\n      return (\n        <Container  style={{ justifyContent: \"center\", display: \"flex\", marginTop: 5, fontSize: \"300%\"}}>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                <th colSpan=\"2\" style={{ textAlign: 'center' }}>{now.format('[Le] DD MMM YYYY')}</th>\n              </tr>\n            </thead>\n            {this._renderRow()}\n          </table>\n        </Container>\n      );\n    }\n  }\n}\n\nexport default PrintAll;\n","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport Table from 'react-bootstrap/Table'\nimport NavBar from '../Components/NavBar';\nimport { getAllProducts } from '../Services/products';\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nclass PrintDrinks extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Print';\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      type: \"all\",\n    };\n  }\n\n  componentDidMount() {\n    getAllProducts(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          this.setState({ info: _.filter(_.orderBy(data.result, ['name'],['asc']), (o) => (o.type === \"Boissons\")), isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _renderRow = () => {\n    let arrayEl = [];\n    for (let index in this.state.info) {\n      arrayEl.push(\n        <tr>\n          <td>{this.state.info[index].name}</td>\n          <td>{this.state.info[index].inStock}</td>\n        </tr>\n      );\n    }\n    window.setTimeout(() => {\n      window.print();\n    }, 2000);\n    return arrayEl;\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Print</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      const now = moment();\n      return (\n        <Container  style={{ justifyContent: \"center\", display: \"flex\", marginTop: 5, fontSize: \"300%\"}}>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                <th colSpan=\"2\" style={{ textAlign: 'center' }}>{now.format('[Le] DD MMM YYYY')}</th>\n              </tr>\n            </thead>\n              {this._renderRow()}\n          </table>\n        </Container>\n      );\n    }\n  }\n}\n\nexport default PrintDrinks;\n","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport Table from 'react-bootstrap/Table'\nimport NavBar from '../Components/NavBar';\nimport { getAllProducts } from '../Services/products';\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nclass PrintSpirits extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Print';\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      type: \"all\",\n    };\n  }\n\n  componentDidMount() {\n    getAllProducts(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          this.setState({ info: _.filter(_.orderBy(data.result, ['name'],['asc']), (o) => (o.type === \"Spiritueux\")), isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _renderRow = () => {\n    let arrayEl = [];\n    for (let index in this.state.info) {\n      arrayEl.push(\n        <tr>\n          <td>{this.state.info[index].name}</td>\n          <td>{this.state.info[index].inStock}</td>\n        </tr>\n      );\n    }\n    window.setTimeout(() => {\n      window.print();\n    }, 2000);\n    return arrayEl;\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Print</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      const now = moment();\n      return (\n        <Container  style={{ justifyContent: \"center\", display: \"flex\", marginTop: 5, fontSize: \"300%\"}}>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                <th colSpan=\"2\" style={{ textAlign: 'center' }}>{now.format('[Le] DD MMM YYYY')}</th>\n              </tr>\n            </thead>\n              {this._renderRow()}\n          </table>\n        </Container>\n      );\n    }\n  }\n}\n\nexport default PrintSpirits;\n","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport Table from 'react-bootstrap/Table'\nimport NavBar from '../Components/NavBar';\nimport { getAllProducts } from '../Services/products';\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nclass PrintSmokes extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Print';\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      type: \"all\",\n    };\n  }\n\n  componentDidMount() {\n    getAllProducts(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          this.setState({ info: _.filter(_.orderBy(data.result, ['name'],['asc']), (o) => (o.type === \"Cigarettes\")), isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _renderRow = () => {\n    let arrayEl = [];\n    for (let index in this.state.info) {\n      arrayEl.push(\n        <tr>\n          <td>{this.state.info[index].name}</td>\n          <td>{this.state.info[index].inStock}</td>\n        </tr>\n      );\n    }\n    window.setTimeout(() => {\n      window.print();\n    }, 2000);\n    return arrayEl;\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Print</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      const now = moment();\n      return (\n        <Container  style={{ justifyContent: \"center\", display: \"flex\", marginTop: 5, fontSize: \"300%\"}}>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                <th colSpan=\"2\" style={{ textAlign: 'center' }}>{now.format('[Le] DD MMM YYYY')}</th>\n              </tr>\n            </thead>\n              {this._renderRow()}\n          </table>\n        </Container>\n      );\n    }\n  }\n}\n\nexport default PrintSmokes;\n","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport Table from 'react-bootstrap/Table'\nimport NavBar from '../Components/NavBar';\nimport { getAllProducts } from '../Services/products';\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nclass PrintDishes extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Print';\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      type: \"all\",\n    };\n  }\n\n  componentDidMount() {\n    getAllProducts(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          this.setState({ info: _.filter(_.orderBy(data.result, ['name'],['asc']), (o) => (o.type === \"Plâts\")), isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _renderRow = () => {\n    let arrayEl = [];\n    for (let index in this.state.info) {\n      arrayEl.push(\n        <tr>\n          <td>{this.state.info[index].name}</td>\n          <td>{this.state.info[index].inStock}</td>\n        </tr>\n      );\n    }\n    window.setTimeout(() => {\n      window.print();\n    }, 2000);\n    return arrayEl;\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Print</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      const now = moment();\n      return (\n        <Container  style={{ justifyContent: \"center\", display: \"flex\", marginTop: 5, fontSize: \"300%\"}}>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                <th colSpan=\"2\" style={{ textAlign: 'center' }}>{now.format('[Le] DD MMM YYYY')}</th>\n              </tr>\n            </thead>\n              {this._renderRow()}\n          </table>\n        </Container>\n      );\n    }\n  }\n}\n\nexport default PrintDishes;\n","import React from \"react\";\nimport { getVouchersPrintWorks } from \"../Services/sessions\";\nimport MaterialTable from \"material-table\";\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\nimport { Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\n\nexport default class VouchersPrintWorks extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = \"Le Consulat - Services d'impressions bons\";\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      waiter: \"all\",\n    };\n    this.columns = [\n      {\n        title: \"Serveur\",\n        field: \"nameOfServer\",\n      },\n      {\n        title: \"Client\",\n        field: \"nameOfClient\",\n      },\n      {\n        title: \"URL\",\n        field: \"link\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getVouchersPrintWorks(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          let data2Put = [];\n          for (let index in data.vouchers) {\n            data2Put.push({ nameOfClient: data.vouchers[index].nameOfClient, link: <a target=\"_blank\" href={data.vouchers[index].voucherUrl}>Voir</a>,...data.vouchers[index] })\n          }\n          this.setState({ info: data2Put, toDisplay: data2Put, isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _handleWaiter = (event) => {\n    this.setState({ waiter: event.target.value }, () => {\n      this.state.waiter = event.target.value;\n      if (this.state.waiter === \"all\") {\n        this.setState({ toDisplay: this.state.info });\n      } else {\n        const until = _.filter(this.state.info, (o) => (o.nameOfServer === this.state.waiter));\n        this.setState({ toDisplay: until });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Services impressions bons</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Services d'impressions bons</h1>\n            Serveur:{' '}\n            <select onChange={this._handleWaiter}>\n              <option value=\"all\" selected>Tout</option>\n              <option value='FANNY'>FANNY</option>\n              <option value='CHRISTELLE'>CHRISTELLE</option>\n              <option value='NDAYA CHRISTELLE'>NDAYA CHRISTELLE</option>\n              <option value='EXAUCÉE'>EXAUCÉE</option>\n              <option value='SANDRA'>SANDRA</option>\n              <option value='PATIENT'>PATIENT</option>\n              <option value='GRACIA'>GRACIA</option>\n            </select>\n            <br />\n            <MaterialTable\n              title=\"Bons\"\n              data={this.state.toDisplay}\n              columns={this.columns}\n              options={{\n                search: true,\n                paging: false,\n                filtering: true,\n                exportButton: true,\n              }}\n              isLoading={this.state.isLoading}\n            />\n          </Container>\n        </>\n      );\n    }\n  }\n}\n","import React from \"react\";\nimport { getSessionsPrintWorks } from \"../Services/sessions\";\nimport MaterialTable from \"material-table\";\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\nimport { Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\n\nexport default class SessionsPrintWorks extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = \"Le Consulat - Services d'impressions factures\";\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      waiter: \"all\",\n    };\n    this.columns = [\n      {\n        title: \"Serveur\",\n        field: \"nameOfServer\",\n      },\n      {\n        title: \"Client\",\n        field: \"nameOfClient\",\n      },\n      {\n        title: \"URL\",\n        field: \"link\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getSessionsPrintWorks(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          let data2Put = [];\n          for (let index in data.sessions) {\n            data2Put.push({ nameOfClient: data.sessions[index].nameOfClient, link: <a target=\"_blank\" href={data.sessions[index].invoiceUrl}>Voir</a>,...data.sessions[index] })\n          }\n          this.setState({ info: data2Put, toDisplay: data2Put, isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _handleWaiter = (event) => {\n    this.setState({ waiter: event.target.value }, () => {\n      this.state.waiter = event.target.value;\n      if (this.state.waiter === \"all\") {\n        this.setState({ toDisplay: this.state.info });\n      } else {\n        const until = _.filter(this.state.info, (o) => (o.nameOfServer === this.state.waiter));\n        this.setState({ toDisplay: until });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Services impressions bons</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Services d'impressions factures</h1>\n            Serveur:{' '}\n            <select onChange={this._handleWaiter}>\n              <option value=\"all\" selected>Tout</option>\n              <option value='FANNY'>FANNY</option>\n              <option value='CHRISTELLE'>CHRISTELLE</option>\n              <option value='NDAYA CHRISTELLE'>NDAYA CHRISTELLE</option>\n              <option value='EXAUCÉE'>EXAUCÉE</option>\n              <option value='SANDRA'>SANDRA</option>\n              <option value='PATIENT'>PATIENT</option>\n              <option value='GRACIA'>GRACIA</option>\n            </select>\n            <br />\n            <MaterialTable\n              title=\"Factures\"\n              data={this.state.toDisplay}\n              columns={this.columns}\n              options={{\n                search: true,\n                paging: false,\n                filtering: true,\n                exportButton: true,\n              }}\n              isLoading={this.state.isLoading}\n            />\n          </Container>\n        </>\n      );\n    }\n  }\n}\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport \"./CSS/blink.css\";\n\nimport React from \"react\";\n\nimport Login from './Pages/Login';\nimport Home from './Pages/Home';\nimport Users from './Pages/Users';\nimport Clients from './Pages/Clients';\nimport Products from './Pages/Products';\nimport Stocks from './Pages/Stocks';\nimport TransactionDetail from './Pages/TransactionDetail';\nimport TransactionWholeSale from './Pages/TransactionWholeSale';\nimport TransactionManager from './Pages/TransactionManager';\nimport GetOneSession from './Pages/GetOneSession';\nimport SessionsInProgress from './Pages/SessionsInProgress';\nimport Debt from './Pages/Debt';\nimport SessionsReport from './Pages/SessionsReport';\nimport SessionsReportPeriod from './Pages/SessionsReportPeriod';\nimport GuichetTransactions from './Pages/GuichetTransactions';\nimport GuichetCategories from './Pages/GuichetCategories';\nimport NotFound from './Pages/NotFound';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport PrintAll from './Pages/PrintAll';\nimport PrintDrinks from './Pages/PrintDrinks';\nimport PrintSpirits from './Pages/PrintSpirits';\nimport PrintSmokes from './Pages/PrintSmokes';\nimport PrintDishes from './Pages/PrintDishes';\nimport url from \"./Services/url.socket\";\nimport { io } from \"socket.io-client\";\nimport VouchersPrintWorks from './Pages/VouchersPrintWorks';\nimport SessionsPrintWorks from './Pages/SessionsPrintWorks';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    const socket = io(url, {\n      transports: [\"websocket\"],\n      reconnection: true,\n      reconnectionDelay: 60000,\n    });\n    socket.on(\n      \"print-session\",\n      async (response) => {\n        console.log('Hey');\n        console.log(response);\n        window.open(response, '_blank');\n      }\n    );\n  }\n\n  render() {\n    return (\n      <Router>\n        <Switch>\n          <Route exact path='/application' component={Login} />\n          <Route exact path='/application/login' component={Login} />\n          <Route exact path='/application/home' component={Home} />\n          <Route exact path='/application/users' component={Users} />\n          <Route exact path='/application/clients' component={Clients} />\n          <Route exact path='/application/products' component={Products} />\n          <Route exact path='/application/stocks' component={Stocks} />\n          <Route exact path='/application/transactions/detail' component={TransactionDetail} />\n          <Route exact path='/application/transactions/wholesale' component={TransactionWholeSale} />\n          <Route exact path='/application/transactions/manager' component={TransactionManager} />\n          <Route exact path='/application/sessions/get/:idSession' component={GetOneSession} />\n          <Route exact path='/application/sessions/inProgress' component={SessionsInProgress} />\n          <Route exact path='/application/sessions/debt' component={Debt} />\n          <Route exact path='/application/sessions/report' component={SessionsReport} />\n          <Route exact path='/application/sessions/report/period' component={SessionsReportPeriod} />\n          <Route exact path='/application/guichet/transactions' component={GuichetTransactions} />\n          <Route exact path='/application/guichet/categories' component={GuichetCategories} />\n          <Route exact path='/application/print/all' component={PrintAll} />\n          <Route exact path='/application/print/Boissons' component={PrintDrinks} />\n          <Route exact path='/application/print/Spiritueux' component={PrintSpirits} />\n          <Route exact path='/application/print/Cigarettes' component={PrintSmokes} />\n          <Route exact path='/application/print/Plâts' component={PrintDishes} />\n\n          <Route exact path='/application/print-service/voucher' component={VouchersPrintWorks} />\n          <Route exact path='/application/print-service/sessions' component={SessionsPrintWorks} />\n          \n          <Route component={NotFound} />\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}