{"version":3,"sources":["Components/Logo.jsx","Components/PasswordInput.jsx","Services/url.js","Services/users.js","Pages/Login.jsx","Pages/Home.jsx","Components/Deconnect.jsx","Components/AdminNavBar.jsx","Components/VerifyStatus.jsx","Components/MediumNavBar.jsx","Components/ManagerNavBar.jsx","Components/NavBar.jsx","Components/TableUsers.jsx","Components/PopupAddUser.jsx","Components/PopupEditUser.jsx","Helpers/verifyIsAdmin.js","Pages/Users.jsx","Services/clients.js","Components/TableClients.jsx","Components/PopupAddClient.jsx","Components/PopupEditClient.jsx","Pages/Clients.jsx","Services/products.js","Components/TableProducts.jsx","Components/PopupAddProducts.jsx","Components/PopupEditProducts.jsx","Components/PieMPTypes.jsx","Components/PiesMPProducts.jsx","Pages/Products.jsx","Pages/Stocks.jsx","Services/transactions.js","Components/ProductsList.jsx","Components/PopupAddTransaction.jsx","Pages/TransactionDetail.jsx","Pages/TransactionWholeSale.jsx","Helpers/verifyIsManager.js","Components/PopupAddTransactionManager.jsx","Pages/TransactionManager.jsx","Services/sessions.js","Components/PopupAddSessionItem.jsx","Components/PopupEditSessionItem.jsx","Components/PopupAddAccompaniment.jsx","Components/PopupViewAccompaniment.jsx","Components/PopupAddReduction.jsx","Components/ClientsList.jsx","Components/PopupEditSession.jsx","Pages/GetOneSession.jsx","Components/SessionsInProgressList.jsx","Components/PopupAddSession.jsx","Pages/SessionsInProgress.jsx","Components/SessionsNotPaidList.jsx","Pages/SessionsNotPaid.jsx","Components/Recipe.jsx","Components/AllRecipe.jsx","Components/Expenses.jsx","Components/TableProductsSell.jsx","Components/TableClientsReport.jsx","Components/TableExpensivesTransactions.jsx","Components/TableWaiter.jsx","Pages/SessionsReport.jsx","Pages/SessionsReportPeriod.jsx","Services/guichet.js","Components/CategoriesList.jsx","Components/PopupAddMoneyTransactions.jsx","Pages/GuichetTransactions.jsx","Components/TableCategories.jsx","Components/PopupAddCategories.jsx","Components/PopupEditCategories.jsx","Components/PieMPCEnter.jsx","Components/PieMPCOutlet.jsx","Pages/GuichetCategories.jsx","Pages/NotFound.jsx","Pages/PrintAll.jsx","Pages/PrintDrinks.jsx","Pages/PrintSpirits.jsx","Pages/PrintSmokes.jsx","Pages/PrintDishes.jsx","App.js","reportWebVitals.js","index.js"],"names":["Logo","className","Image","src","style","width","marginTop","PasswordInput","props","_displayEye","state","isVisible","class","_displayType","_handleEye","setState","_displayContraint","contraint","forUpdate","Form","Group","controlId","InputGroup","Control","type","this","placeholder","aria-label","aria-describedby","btnId","onChange","value","Append","Button","variant","aria-hidden","onClick","React","Component","defautProps","url","getUserInfo","idUser","token","init","method","headers","Headers","fetch","then","res","json","Login","_handlePseudo","event","pseudo","target","_handlePassword","password","_displayButton","trim","length","id","_onClick","disabled","preventDefault","toSend","toManyRequest","body","JSON","stringify","login","data","alert","minute","Cookies","set","expires","window","location","href","email","catch","error","document","title","get","Container","role","Label","Alert","show","Home","isLoading","find","result","level","remove","invalidToken","userNotFound","Spinner","animation","Deconnect","Nav","Link","AdminNavBar","userInfo","Navbar","bg","expand","Brand","alt","height","fontSize","fontWeight","Toggle","aria-controls","Collapse","activeKey","pathname","NavDropdown","Item","name","displayPost","VerifyStatus","newCommand","nbre","io","transports","on","response","display","flexDirection","color","MediumNavBar","ManagerNavBar","NavBar","dataUser","defaultProps","redirect","TableUsers","_adapt","toAdapt","_handleDelete","rowData","confirm","deleteUser","delete","reload","cannotDeleteAdmin","_handleUpdate","capture","index","users","onUpdate","columns","field","getAllUser","until","push","level2","options","search","paging","filtering","exportButton","actions","icon","htmlColor","tooltip","PopupAddUser","_handleClose","callback","_handleName","_handleLevel","parseInt","schema","passwordValidator","is","min","has","uppercase","lowercase","digits","validate","_","isString","addUser","create","success","invalidForm","existPseudo","setTimeout","_displayAlert","Modal","onHide","backdrop","ddccc","keyboard","Header","closeButton","Title","Body","selected","Footer","updateUser","update","changeLastAdmin","cantChangeLevelOfLastAdmin","_displayOption","verifyIsAdmin","user","Users","_addUser","addMode","editMode","_onUpdate","info","infoEdit","_onClose","PopupEditUser","getAllClient","TableClients","clients","idClient","deleteClient","PopupAddClient","_handlePhoneNumber","phoneNumber","_handleEmail","_handleBirthday","birthday","addClient","existName","PopupEditClient","updateClient","Clients","getAllProducts","getOneProduct","idProduct","TableProducts","products","idProducts","deleteProducts","price","inStock","PopupAddProducts","_handlePrice","_handleType","_handleUnit","unit","_handleInStock","isNumber","Number","addProducts","PopupEditProducts","_handleBuyPrice","buyPrice","updateProducts","PieMPTypes","getMostPopularTypes","console","log","nameOfType","value_occurrence","labelStyle","fill","opacity","pointerEvents","labelPosition","label","dataEntry","Math","round","percentage","PiesMPProducts","getMostPopularProducts","untilDrinks","untilSpirits","untilDishes","untilCigarettes","drinks","nameOfProduct","spirits","dishes","cigarettes","err","alignItems","Products","Stocks","toDisplay","filter","o","Cookie","getAllTransactions","addTransaction","ProductsList","_handle","default","defaultValue","PopupAddTransaction","_handleIdProduct","newProduct","productInfo","_handleQuantity","quantity","_handleDescription","description","productNotFound","negativeStock","_displayBuyPrice","TransactionDetail","_handleBegin","date","now","moment","begin","beginInTimestamp","unix","transaction","timestamp","endInTimestamp","transactionToFilter","_handleEnd","end","_display","_addTransaction","date2","format","stock","stockAfter","enter","outlet","dateFormat","withPortal","TransactionWholeSale","_didMount","getWholeSale","solde","totalEnter","totalOutlet","isNull","verifyIsManager","PopupAddTransactionManager","TransactionPeriod","getInProgress","getNotPaid","getOneSession","idSession","getItemOfOneSession","getAccompOfItem","idSessionsItem","PopupAddSessionItem","addSessionItem","PopupEditSessionItem","idSessionItem","updateOneSessionItem","PopupAddAccompaniment","addAccompaniment","PopupViewAccompaniment","accompaniments","arrayElement","a","PopupAddReduction","_handleReduction","reduction","addReduction","ClientsList","PopupEditSession","_handleIdClient","newClient","_handleServer","server","editSession","nameOfServer","clientNotFound","GetOneSession","_updateItem","editInfo","_addAccompaniment","accompInfo","accompMode","_viewAccompaniment","accompViewInfo","accompViewMode","_deleteItem","res1","deleteItem","_displayItem","sessionItem","sessionInfo","wasOver","ListGroup","marginBottom","_addItem","reductionMode","editSessionMode","_finish","finishSession","_finishAndPay","finishAndPaySession","_pay","paySession","_addReduction","_reductionToZero","reductionToZero","_editSession","beenPaid","_displayButton2","_displayIframe","invoiceUrl","replace","match","params","res2","nameOfClient","nameOfUser","total","SessionsInProgressList","_displayCards","sessions","Card","Text","PopupAddSession","startSession","SessionsInProgress","_addSession","SessionsNotPaidList","SessionsNotPaid","Recipe","recipe","TableProductsSell","TableClientsReport","TableExpensivesTransactions","TableWaiter","SessionsReport","getReport","until2","productsSell","facture","totalWithoutReduction","_handleDate","_displaySpinner","textAlign","backgroundColor","Expenses","expenses","toFixed","Accordion","justifyContent","as","eventKey","expensesTransactions","SessionsReportPeriod","getReportPeriod","AllRecipe","allRecipe","getAllCategories","CategoriesList","categories","categoriesToShow","idCategory","prevProps","PopupAddMoneyTransactions","_handleIdCategory","_handleAmount","amount","negativeMoney","GuichetTransactions","getTransactions","amountAfter","sumEnter","sumOutlet","Tablecategories","type2","addCategory","PopupEditCategories","updateCategory","PieMPCEnter","getMPCategoriesEnter","nameOfCategory","PieMPCOutlet","getMPCategoriesOutlet","GuichetCategories","TableCategories","PopupAddCategories","NotFound","PrintAll","_renderRow","arrayEl","lastType","colSpan","print","orderBy","border","PrintDrinks","PrintSpirits","PrintSmokes","PrintDishes","App","exact","path","component","TransactionManager","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4a0dbe77.chunk.js","sourcesContent":["import { Image } from 'react-bootstrap';\n\nconst Logo = () => (\n  <div className=\"text-center\">\n    <Image src='http://le-consulat-drc.com/images/logo' style={{ width: '30%', marginTop: '2%' }} />\n  </div>\n);\n\nexport default Logo;","import React from 'react';\n\nimport { Form, Button, InputGroup } from 'react-bootstrap';\n\nexport default class PasswordInput extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    };\n  };\n\n  _displayEye = () => {\n    return this.state.isVisible ? <i class=\"fas fa-eye-slash\"></i> : <i class=\"fas fa-eye\"></i>;\n  };\n\n  _displayType = () => {\n    return this.state.isVisible ? 'text' : 'password';\n  };\n\n  _handleEye = () => {\n    this.setState({ isVisible: !this.state.isVisible });\n  };\n\n  _displayContraint = () => {\n    return this.props.contraint ?\n      'Doit contenir des majuscules, contentir des minuscules, avoir au moins 8 caractères et avoir au moins 2 chiffres'\n      :\n      this.props.forUpdate ? \"Laissez vide si vous ne voulez pas le changer\" : \"Le mot de passe...\"\n  }\n\n  render() {\n    return (\n      <Form.Group controlId=\"formBasicPassword\">\n        <InputGroup className=\"mb-3\">\n          <Form.Control\n            type={this._displayType()}\n            placeholder={this._displayContraint()}\n            aria-label=\"Mot de passe\"\n            aria-describedby={this.props.btnId}\n            onChange={this.props.onChange}\n            value= {this.props.value}\n          />\n          <InputGroup.Append>\n            <Button variant=\"secondary\" aria-hidden=\"true\" onClick={this._handleEye}>{this._displayEye()}</Button>\n          </InputGroup.Append>\n        </InputGroup>\n      </Form.Group>\n    );\n  }\n}\n\nPasswordInput.defautProps = {\n  contraint: false\n};","const url = '/api';\n// const url = 'http://le-consulat-drc.com/api';\n\nexport default url;\n","import url from './url';\n\nexport function login(toSend) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: {\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    },\n  };\n  return fetch(`${url}/users/login`, init)\n    .then(res => res.json());\n}\n\nexport function getUserInfo(idUser, token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/users/${idUser}`, init)\n    .then(res => res.json());\n}\n\nexport function getAllUser(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/users`, init)\n    .then(res => res.json());\n}\n\nexport function addUser(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/users`, init)\n    .then(res => res.json());\n}\n\nexport function deleteUser(token, idUser) {\n  const init = {\n    method: \"DELETE\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n    })\n  };\n\n  return fetch(`${url}/users/${idUser}`, init)\n    .then(res => res.json());\n} \n\nexport function updateUser(token, idUser, toSend) {\n  const init = {\n    method: \"PUT\",\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      \"Content-Type\": \"application/json; charset=UTF-8\"\n    })\n  };\n\n  return fetch(`${url}/users/${idUser}`, init)\n    .then(res => res.json());\n} ","import { Component } from 'react';\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\nimport Logo from '../Components/Logo';\nimport PasswordInput from '../Components/PasswordInput';\nimport { login } from '../Services/users';\nimport Cookies from 'js-cookie';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Connexion';\n    this.state = {\n      pseudo: '',\n      password: '',\n      alert: '',\n      toManyRequest: false,\n    };\n  }\n\n  componentDidMount() {\n    if (Cookies.get('idUser') || Cookies.get('token')) {\n      window.location.href = '/application/home';\n    }\n  };\n\n  _handlePseudo = (event) => {\n    this.setState({ pseudo: event.target.value });\n  }\n\n  _handlePassword = (event) => {\n    this.setState({ password: event.target.value });\n  }\n\n  _displayButton = () => {\n    return this.state.pseudo.trim().length > 0 && this.state.password.trim().length > 0 ?\n      <Button variant=\"success\" id=\"btnSubmit\" type=\"submit\" onClick={this._onClick}>Se connecter</Button>\n      :\n      <Button variant=\"success\" id=\"btnSubmit\" type=\"submit\" disabled onClick={this._onClick}>Se connecter</Button>\n  };\n\n  _onClick = (event) => {\n    event.preventDefault();\n    const toSend = {\n      pseudo: this.state.pseudo,\n      password: this.state.password,\n    };\n\n    if (!this.state.toManyRequest) {\n      login(toSend)\n        .then(data => {\n          if (data.toManyRequest === true) {\n            this.setState({ alert: `Vous avez fait trop de tentative, attendez ${data.minute} minutes`, toManyRequest: true });\n          } else if (data.idUser && data.token) {\n            Cookies.set('idUser', data.idUser, { expires: 1 });\n            Cookies.set('token', data.token, { expires: 1 });\n            window.location.href = '/application/home';\n          } else if (data.email && !data.password) {\n            this.setState({ alert: 'Votre mot de passe est incorrect!', toManyRequest: false });\n          } else if (!data.email) {\n            this.setState({ alert: 'Votre mot de passe et votre addresse email sont incorrect!', toManyRequest: false });\n          }\n        })\n        .catch(error => {\n          this.setState({ alert: 'Une erreur inconnu a eu lieu!' });\n        });\n    }\n  }\n\n  render() {\n    return (\n      <Container role=\"main\">\n        <Logo />\n        <h1>Connectez-vous!</h1>\n        <Form>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Pseudo: </Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Votre pseudo...\"\n              aria-label=\"Pseudo\"\n              aria-describedby=\"btnSubmit\"\n              onChange={this._handlePseudo}\n              value={this.state.pseudo}\n            />\n          </Form.Group>\n\n          Votre mot de passe:\n          <PasswordInput btnId=\"btnSubmit\" value={this.state.password} onChange={this._handlePassword} />\n          <Alert variant=\"danger\" show={this.state.alert.length > 0}>\n            {this.state.alert}\n          </Alert>\n          {this._displayButton()}\n        </Form>\n      </Container>\n    );\n  };\n}\n\nexport default Login;","import { Component } from 'react';\nimport { getUserInfo } from '../Services/users';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      error: false,\n    };\n  }\n\n  componentDidMount() {\n    if (!Cookies.get(\"idUser\") || !Cookies.get(\"token\")) {\n      window.location.href = \"/application\";\n    } else {\n      getUserInfo(Cookies.get(\"idUser\"), Cookies.get(\"token\"))\n        .then(data => {\n          if (data.find) {\n            this.setState({ isLoading: false });\n            switch (data.result.level) {\n              case 3:\n                window.location.href=\"/application/sessions/inProgress\";\n                break;\n              case 2:\n                window.location.href=\"/application/stocks\";\n                break;\n              case 1:\n                window.location.href=\"/application/stocks\";\n                break;\n              default: \n                Cookies.remove('idUser');\n                Cookies.remove('token');\n                window.location.href = '/application/';\n                break;\n            }\n          } else if (data.invalidToken || data.userNotFound) {\n            Cookies.remove('idUser');\n            Cookies.remove('token');\n            window.location.href = '/application/';\n          } else {\n            this.setState({ isLoading: false, error: true });\n          }\n        })\n        .catch(() => {\n          this.setState({ isLoading: false, error: true });\n        });\n    }\n  }\n\n  render() {\n    return this.state.isLoading ? <Spinner animation = 'border' role = 'status'><span className='sr-only'>Loading...</span></Spinner>  : null;\n  }\n}\n\nexport default Home;","import React from 'react';\nimport { Nav } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\nclass Deconnect extends React.Component {\n  _onClick = () => {\n    Cookies.remove('token');\n    Cookies.remove('idUser');\n\n    window.location.href = '/application/';\n  }\n\n  render() {\n    return (\n      <Nav.Link onClick={this._onClick}>Déconnexion</Nav.Link>\n    );\n  }\n}\n\nexport default Deconnect;","import React from 'react';\nimport { Navbar, Nav, NavDropdown, Image, Row, Col} from 'react-bootstrap';\nimport Deconnect from './Deconnect';\n\nconst AdminNavBar = ({ userInfo }) => {\n  const displayPost = () => {\n    switch (userInfo.level) {\n      case 3:\n        return \"Caissier / Caissière\";\n      case 2:\n        return \"Manager\";\n      case 1:\n        return \"Administrateur\";\n      default:\n        return \"Employé\";\n    }\n  };\n  return (\n    <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\">\n      <Navbar.Brand href=\"#home\">\n        <img\n          alt=\"\"\n          src='http://le-consulat-drc.com/images/logo'\n          width=\"50\"\n          height=\"50\"\n          className=\"d-inline-block align-top\"\n        />{' '}\n        <span style={{ fontSize: 30, fontWeight: \"bold\" }}>Le Consulat</span>\n      </Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\" activeKey={window.location.pathname}>\n          <Nav.Link href=\"/application/users\">Utilisateurs</Nav.Link>\n          <Nav.Link href=\"/application/clients\">Clients</Nav.Link>\n          <Nav.Link href=\"/application/products\">Produits</Nav.Link>\n          <Nav.Link href=\"/application/stocks\">Stocks</Nav.Link>\n          <NavDropdown title=\"Transactions\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/transactions/detail\">En détails</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/transactions/wholesale\">En gros</NavDropdown.Item>\n          </NavDropdown>\n          <NavDropdown title=\"Caisse\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/guichet/transactions\">Transactions</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/guichet/categories\">Catégories</NavDropdown.Item>\n          </NavDropdown>\n          <NavDropdown title=\"Sessions\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/sessions/inProgress\">En cours</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/notPaid\">Non payé</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report\">Rapport d'un jour</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report/period\">Rapport d'une période</NavDropdown.Item>\n          </NavDropdown>\n          <Deconnect />\n        </Nav>\n        <div className=\"bg-white\">\n          <strong>Nom:</strong> {userInfo.name}<br />\n          <strong>Poste:</strong> {displayPost()}\n        </div>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default AdminNavBar;","import React from \"react\";\nimport { io } from \"socket.io-client\";\nimport { getCommandsNotDone } from \"../Services/tef\";\n\nexport default class VerifyStatus extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      newCommand: false,\n    };\n    this.nbre = 0;\n  }\n\n  componentDidMount() {\n    const socket = io(\"https://api.techeatfast.com\", {\n      transports: [\"websocket\"],\n    });\n    socket.on(`2`, (response) => {\n      this.setState({ newCommand: true });\n    });\n  }\n\n  render() {\n    if (this.state.newCommand) {\n      return (\n        <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n          <div className=\"blink\"></div>\n          <div className=\"blink2\">\n            <h1 style={{ color: \"white\" }}>Nouvelle commande</h1>\n            <a\n              onClick={() => {\n                this.setState({ newCommand: false });\n              }}\n              className=\"btn btn-danger btn-lg\"\n              role=\"button\"\n              href=\"https://resto.techeatfast.com/commands/live\"\n              target=\"_blank\"\n            >\n              Allez voir\n            </a>\n          </div>\n        </div>\n      );\n    } else {\n      return <span></span>;\n    }\n  }\n}\n","import React from 'react';\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\nimport Deconnect from './Deconnect';\nimport VerifyStatus from './VerifyStatus';\n\nconst MediumNavBar = ({ userInfo }) => {\n  const displayPost = () => {\n    switch (userInfo.level) {\n      case 3:\n        return \"Caissier / Caissière\";\n      case 2:\n        return \"Manager\";\n      case 1:\n        return \"Administrateur\";\n      default:\n        return \"Employé\";\n    }\n  };\n  return (\n    <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\">\n      <Navbar.Brand href=\"#home\">\n        <img\n          alt=\"\"\n          src='http://le-consulat-drc.com/images/logo'\n          width=\"50\"\n          height=\"50\"\n          className=\"d-inline-block align-top\"\n        />{' '}\n        <span style={{ fontSize: 30, fontWeight: \"bold\" }}>Le Consulat</span>\n      </Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\" activeKey={window.location.pathname}>\n          <NavDropdown title=\"Sessions\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/sessions/inProgress\">En cours</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/notPaid\">Non payé</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report\">Rapport d'un jour</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report/period\">Rapport d'une période</NavDropdown.Item>\n          </NavDropdown>\n          <Nav.Link href=\"/application/clients\">Clients</Nav.Link>\n          <Nav.Link href=\"/application/stocks\">Stocks</Nav.Link>\n          <Deconnect />\n        </Nav>\n        <div className=\"bg-white\">\n          <strong>Nom:</strong> {userInfo.name}<br />\n          <strong>Poste:</strong> {displayPost()}\n        </div>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default MediumNavBar;","import React from 'react';\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\nimport Deconnect from './Deconnect';\n\nconst ManagerNavBar = ({ userInfo }) => {\n  const displayPost = () => {\n    switch (userInfo.level) {\n      case 3:\n        return \"Caissier / Caissière\";\n      case 2:\n        return \"Manager\";\n      case 1:\n        return \"Administrateur\";\n      default:\n        return \"Employé\";\n    }\n  };\n  return (\n    <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\">\n      <Navbar.Brand href=\"#home\">\n        <img\n          alt=\"\"\n          src='http://le-consulat-drc.com/images/logo'\n          width=\"50\"\n          height=\"50\"\n          className=\"d-inline-block align-top\"\n        />{' '}\n        <span style={{ fontSize: 30, fontWeight: \"bold\" }}>Le Consulat</span>\n      </Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\" activeKey={window.location.pathname}>\n          <Nav.Link href=\"/application/stocks\">Stocks</Nav.Link>\n          <Nav.Link href=\"/application/transactions/manager\">Transactions</Nav.Link>\n          <Nav.Link href=\"/application/clients\">Clients</Nav.Link>\n          <NavDropdown title=\"Sessions\" id=\"basic-nav-dropdown\">\n            <NavDropdown.Item href=\"/application/sessions/inProgress\">En cours</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/notPaid\">Non payé</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report\">Rapport d'un jour</NavDropdown.Item>\n            <NavDropdown.Item href=\"/application/sessions/report/period\">Rapport d'une période</NavDropdown.Item>\n          </NavDropdown>\n          <Deconnect />\n        </Nav>\n        <div className=\"bg-white\">\n          <strong>Nom:</strong> {userInfo.name}<br />\n          <strong>Poste:</strong> {displayPost()}\n        </div>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default ManagerNavBar;","import React from 'react';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { getUserInfo } from '../Services/users';\nimport AdminNavBar from './AdminNavBar';\nimport MediumNavBar from './MediumNavBar';\nimport ManagerNavBar from './ManagerNavBar';\n\nclass NavBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataUser: null,\n      isLoading: true,\n    };\n\n    if (!Cookies.get(\"idUser\") || !Cookies.get(\"token\")) {\n      window.location.href = \"/application/\";\n    }\n  }\n\n  componentDidMount() {\n    getUserInfo(Cookies.get(\"idUser\"), Cookies.get(\"token\"))\n      .then((data) => {\n        if (data.find) {\n          this.setState({ dataUser: data.result, isLoading: false });\n        } else {\n          window.alert(\"Une erreur inconnue a eu lieu\");\n        }\n      })\n      .catch(() => {\n        window.alert(\"Une erreur inconnue a eu lieu\");\n      });\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation='border' role='status'>\n          <span className='sr-only'>Loading...</span>\n        </Spinner>\n      );\n    } else {\n      if (this.state.dataUser.level === 1) {\n        return <AdminNavBar userInfo={this.state.dataUser} />;\n      } else if (this.state.dataUser.level === 2) {\n        return <ManagerNavBar userInfo={this.state.dataUser} />;\n      } else if (this.state.dataUser.level === 3) {\n        return <MediumNavBar userInfo={this.state.dataUser} />;\n      }\n    }\n  }\n}\n\nNavBar.defaultProps = {\n  redirect: false\n};\n\nexport default NavBar;","import React from 'react';\nimport { getAllUser, deleteUser } from '../Services/users';\nimport Cookies from 'js-cookie';\nimport MaterialTable from \"material-table\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\n\nclass TableUsers extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      users: [],\n      isLoading: true,\n      error: false,\n    };\n\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Pseudo\",\n        field: \"pseudo\",\n      },\n      {\n        title: \"Rôle\",\n        field: \"level2\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getAllUser(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          let until = [];\n          for (let index in data.result) {\n            until.push({ ...data.result[index], level2: this._adapt(data.result[index].level) })\n          }\n          this.setState({ users: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('idUser');\n          Cookies.remove('token');\n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, error: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: false });\n      });\n  }\n\n  _adapt = (toAdapt) => {\n    switch (toAdapt) {\n      case 3:\n        return \"Caissier / Caissière\";\n      case 2:\n        return \"Manager\";\n      case 1:\n        return \"Administrateur\";\n    }\n  }\n\n  _handleDelete = (event, rowData) => {\n    if (window.confirm('Êtes vous sûre de vouloir supprimer cette utilisateur')) {\n      deleteUser(Cookies.get('token'), rowData.idUser)\n        .then(res => {\n          if (res.delete) {\n            window.location.reload();\n          } else if (res.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else if (res.cannotDeleteAdmin) { \n            alert('Vous ne pouvez pas supprimer un administrateur')\n          } else {\n            alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n          }\n        })\n        .catch(() => {\n          alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n        });\n    }\n  }\n\n  _handleUpdate = (event, rowData) => {\n    let capture;\n    for (let index in this.state.users) {\n      if (this.state.users[index].idUser === rowData.idUser) {\n        capture= this.state.users[index];\n      }\n    }\n    this.props.onUpdate(capture);\n  }\n\n  render() {\n    if (this.state.error) {\n      return <h2>Une erreur a eu leiu veuillez réessayer</h2>\n    } else {\n      return (\n        <MaterialTable\n          title='Liste des utilisateur'\n          data={this.state.users}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: false,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n          actions={[\n            {\n              icon: () => <EditIcon htmlColor='#007bff' />,\n              tooltip: \"Modifier\",\n              onClick: this._handleUpdate,\n            },\n            {\n              icon: () => <DeleteIcon htmlColor='#dc3545' />,\n              tooltip: \"Supprimer l'utilisateur\",\n              onClick: this._handleDelete,\n            },\n          ]}\n        />\n      );\n    }\n  }\n}\n\nexport default TableUsers;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport PasswordInput from './PasswordInput';\nimport passwordValidator from 'password-validator';\nimport _ from 'underscore';\nimport { addUser } from '../Services/users';\nimport Cookies from 'js-cookie';\n\nclass PopupAddUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: '',\n      pseudo: '',\n      password: '',\n      level: 1,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existPseudo: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePseudo = (event) => {\n    this.setState({ pseudo: event.target.value });\n  }\n\n  _handlePassword = (event) => {\n    this.setState({ password: event.target.value });\n  }\n  \n  _handleLevel = (event) => {\n    this.setState({ level: parseInt(event.target.value) });\n  }\n\n  _displayButton = () => {\n    const schema = new passwordValidator();// On crée une nouvelle instance de l'objet\n    schema// On crée un nouveau schéma\n      .is().min(8)                                    // Minimum length 8\n      .has().uppercase()                              // Must have uppercase letters\n      .has().lowercase()                              // Must have lowercase letters\n      .has().digits(2)                                // Must have at least 2 digits\n    \n    if (schema.validate(this.state.password) && (this.state.name.length >= 2 && this.state.name.length < 30 && _.isString(this.state.name)) && (this.state.pseudo.length >= 2 && this.state.pseudo.length < 30 && _.isString(this.state.pseudo)) && (this.state.level >= 1 && this.state.level <= 3) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      pseudo: this.state.pseudo,\n      password: this.state.password,\n      level: this.state.level,\n    };\n\n    addUser(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existPseudo: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existPseudo: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existPseudo) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existPseudo: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existPseudo: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existPseudo: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Utilisateur ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existPseudo) {\n      return <Alert variant=\"warning\">Un utilisateur possède le même pseudo</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"ddccc\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un client</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du client...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"phoneNumbereeeddd\">\n            <Form.Label>Pseudo: </Form.Label>\n            <Form.Control\n              onChange={this._handlePseudo}\n              value={this.state.pseudo}\n              type=\"text\"\n              placeholder=\"Le pseudo de l'utilisateur...\"\n              aria-label=\"Pseudo\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"password\">\n            <Form.Label>Mot de passe: </Form.Label>\n            <PasswordInput onChange={this._handlePassword} value={this.state.password} />\n          </Form.Group>\n          <Form.Group controlId=\"level\">\n            <Form.Label>Rôle: </Form.Label>\n            <select onChange={this._handleLevel} className='form-control'>\n              <option value={1} selected>Administrateur</option>\n              <option value={2}>Manager</option>\n              <option value={3}>Caissier/ière</option>\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddUser;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport PasswordInput from './PasswordInput';\nimport passwordValidator from 'password-validator';\nimport _ from 'underscore';\nimport { updateUser } from '../Services/users';\nimport Cookies from 'js-cookie';\n\nclass PopupAddUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: this.props.data.name,\n      pseudo: this.props.data.pseudo,\n      password: '',\n      level: this.props.data.level,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existPseudo: false,\n      changeLastAdmin: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePseudo = (event) => {\n    this.setState({ pseudo: event.target.value });\n  }\n\n  _handlePassword = (event) => {\n    this.setState({ password: event.target.value });\n  }\n  \n  _handleLevel = (event) => {\n    this.setState({ level: parseInt(event.target.value) });\n  }\n\n  _displayButton = () => {\n    const schema = new passwordValidator();// On crée une nouvelle instance de l'objet\n    schema// On crée un nouveau schéma\n      .is().min(8)                                    // Minimum length 8\n      .has().uppercase()                              // Must have uppercase letters\n      .has().lowercase()                              // Must have lowercase letters\n      .has().digits(2)                                // Must have at least 2 digits\n    \n    if (this.state.password.trim().length > 1) {\n      if (schema.validate(this.state.password) && (this.state.name.length >= 2 && this.state.name.length < 30 && _.isString(this.state.name)) && (this.state.pseudo.length >= 2 && this.state.pseudo.length < 30 && _.isString(this.state.pseudo)) && (this.state.level >= 1 && this.state.level <= 3) && !this.state.isLoading) {\n        return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n      } else {\n        return <Button variant=\"success\" disabled>Confirmer</Button>\n      }\n    } else {\n      if ((this.state.name.length >= 2 && this.state.name.length < 30 && _.isString(this.state.name)) && (this.state.pseudo.length >= 2 && this.state.pseudo.length < 30 && _.isString(this.state.pseudo)) && (this.state.level >= 1 && this.state.level <= 2) && !this.state.isLoading) {\n        return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n      } else {\n        return <Button variant=\"success\" disabled>Confirmer</Button>\n      }\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = this.state.password.trim().length > 1 ? {\n      name: this.state.name,\n      pseudo: this.state.pseudo,\n      password: this.state.password,\n      level: this.state.level,\n    } : {\n      name: this.state.name,\n      pseudo: this.state.pseudo,\n      level: this.state.level,\n    };\n\n    updateUser(Cookies.get('token'), this.props.data.idUser, toSend)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, changeLastAdmin: false, existPseudo: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, changeLastAdmin: false, existPseudo: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existPseudo) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, changeLastAdmin: false, existPseudo: true, error: false });\n        } else if (res.cantChangeLevelOfLastAdmin) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, changeLastAdmin: true, existPseudo: false, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, changeLastAdmin: false, existPseudo: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, changeLastAdmin: false, existPseudo: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Utilisateur modifié avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.changeLastAdmin) {\n      return <Alert variant=\"warning\">Vous ne pouvez pas changer le rôle du dernier Admin</Alert>;\n    } else if (this.state.existPseudo) {\n      return <Alert variant=\"warning\">Un utilisateur possède le même pseudo</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayOption = () => {\n    if (this.state.level === 1) {\n      return (\n        <>\n          <option value={1} selected>Administrateur</option>\n          <option value={2}>Manager</option>\n          <option value={3}>Caissier/ière</option>\n        </>\n      )\n    } else if (this.state.level === 2) {\n      return (\n        <>\n          <option value={1}>Administrateur</option>\n          <option value={2} selected>Manager</option>\n          <option value={3}>Caissier/ière</option>\n        </>\n      )\n    } else if (this.state.level === 3) {\n      return (\n        <>\n          <option value={1}>Administrateur</option>\n          <option value={2}>Manager</option>\n          <option value={3} selected>Caissier/ière</option>\n        </>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modifier un utilisateur</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom de l'utilisateur...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"pseudo\">\n            <Form.Label>Pseudo: </Form.Label>\n            <Form.Control\n              onChange={this._handlePseudo}\n              value={this.state.pseudo}\n              type=\"text\"\n              placeholder=\"Le pseudo de l'utilisateur...\"\n              aria-label=\"Pseudo\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"password\">\n            <Form.Label>Mot de passe (Laissez vide pour ne pas changer): </Form.Label>\n            <PasswordInput onChange={this._handlePassword} value={this.state.password} />\n          </Form.Group>\n          <Form.Group controlId=\"level\">\n            <Form.Label>Rôle: </Form.Label>\n            <select onChange={this._handleLevel} className='form-control'>\n              {this._displayOption()}\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddUser;","import Cookies from 'js-cookie';\nimport { getUserInfo } from '../Services/users';\n\nconst verifyIsAdmin = (callback) => {\n  getUserInfo(Cookies.get('idUser'), Cookies.get('token'))\n    .then(user => {\n      if (user.find) {\n        if (user.result.level !== 1) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          if (callback) {\n            callback(user.result);\n          }\n        }\n      } else {\n        alert('Une erreur a eu lieu');\n        window.location.href = '/application/';\n      }\n    })\n    .catch(() => {\n      alert('Une erreur a eu lieu');\n      window.location.href = '/application/';\n    });\n};\n\nexport default verifyIsAdmin;","import React from 'react';\nimport { Button, Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport TableUsers from '../Components/TableUsers';\nimport PopupAddUser from '../Components/PopupAddUser';\nimport PopupEditUser from '../Components/PopupEditUser';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\n\nclass Users extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Utilisateurs';\n\n    this.state = {\n      addMode: false,\n      editMode: false,\n    }\n    this.infoEdit = null;\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true, editMode: false });\n  }\n\n  _onUpdate = (info) => {\n    this.infoEdit = info;\n    this.setState({ addMode: false, editMode: true })\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Utilisateurs</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter un utilisateur</Button>\n          <br /><br />\n          <TableUsers onUpdate={this._onUpdate} />\n          {this.state.addMode ? <PopupAddUser callback={this._onClose} /> : null}\n          {this.state.editMode ? <PopupEditUser callback={this._onClose} data={this.infoEdit} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default Users;","import url from './url';\n\nexport function getAllClient(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/clients`, init)\n    .then(res => res.json());\n}\n\nexport function getOneClient(token, idClient) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/clients/${idClient}`, init)\n    .then(res => res.json());\n}\n\nexport function addClient(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/clients`, init)\n    .then(res => res.json());\n}\n\nexport function updateClient(token, idClient, toSend) {\n  const init = {\n    method: \"PUT\",\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      \"Content-Type\": \"application/json; charset=UTF-8\"\n    })\n  };\n\n  return fetch(`${url}/clients/${idClient}`, init)\n    .then(res => res.json());\n} \n\nexport function deleteClient(token, idClient) {\n  const init = {\n    method: \"DELETE\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n    })\n  };\n\n  return fetch(`${url}/clients/${idClient}`, init)\n    .then(res => res.json());\n} ","import React from 'react';\nimport Cookies from 'js-cookie';\nimport MaterialTable from \"material-table\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { getAllClient, deleteClient } from '../Services/clients';\n\nclass TableClients extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      clients: [],\n      isLoading: true,\n      error: false,\n    };\n\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Numéro de téléphone\",\n        field: \"phoneNumber\",\n      },\n      {\n        title: \"Adresse email\",\n        field: \"email\",\n      },\n      {\n        title: \"Anniversaire\",\n        field: \"birthday\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getAllClient(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          let until = [];\n          for (let index in data.result) {\n            until.push({ ...data.result[index] })\n          }\n          this.setState({ clients: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('idUser');\n          Cookies.remove('token');\n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, error: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: false });\n      });\n  }\n\n  _handleUpdate = (event, rowData) => {\n    let capture;\n    for (let index in this.state.clients) {\n      if (this.state.clients[index].idClient === rowData.idClient) {\n        capture= this.state.clients[index];\n      }\n    }\n    this.props.onUpdate(capture);\n  }\n\n  _handleDelete = (event, rowData) => {\n    if (window.confirm('Êtes vous sûre de vouloir supprimer ce client?')) {\n      deleteClient(Cookies.get('token'), rowData.idClient)\n        .then(res => {\n          if (res.delete) {\n            window.location.reload();\n          } else if (res.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n          }\n        })\n        .catch(() => {\n          alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n        });\n    }\n  }\n\n  render() {\n    if (this.state.error) {\n      return <h2>Une erreur a eu leiu veuillez réessayer</h2>\n    } else {\n      return (\n        <MaterialTable\n          title='Liste des clients'\n          data={this.state.clients}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: false,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n          actions={[\n            {\n              icon: () => <EditIcon htmlColor='#007bff' />,\n              tooltip: \"Modifier\",\n              onClick: this._handleUpdate,\n            },\n            {\n              icon: () => <DeleteIcon htmlColor='#dc3545' />,\n              tooltip: \"Supprimer le client\",\n              onClick: this._handleDelete,\n            },\n          ]}\n        />\n      );\n    }\n  }\n}\n\nexport default TableClients;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { addClient } from '../Services/clients';\n\nclass PopupAddClient extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: '',\n      phoneNumber: '',\n      email: '',\n      birthday: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existName: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePhoneNumber = (event) => {\n    this.setState({ phoneNumber: event.target.value });\n  }\n\n  _handleEmail = (event) => {\n    this.setState({ email: event.target.value });\n  }\n  \n  _handleBirthday = (event) => {\n    this.setState({ birthday: event.target.value });\n  }\n\n  _displayButton = () => {\n    if (this.state.name.length >= 2 && this.state.name.length <= 50 && _.isString(this.state.name) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      phoneNumber: this.state.phoneNumber,\n      email: this.state.email,\n      birthday: this.state.birthday,\n    };\n\n    addClient(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existName) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Client ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existName) {\n      return <Alert variant=\"warning\">Un client possède déjà le même nom</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un client</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du client...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"phoneNumber\">\n            <Form.Label>Numéro de téléphone: </Form.Label>\n            <Form.Control\n              onChange={this._handlePhoneNumber}\n              value={this.state.phoneNumber}\n              type=\"text\"\n              placeholder=\"Le numéro du client...\"\n              aria-label=\"phoneNumber\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"email\">\n            <Form.Label>Adresse email: </Form.Label>\n            <Form.Control\n              onChange={this._handleEmail}\n              value={this.state.email}\n              type=\"text\"\n              placeholder=\"L'email du client...\"\n              aria-label=\"email\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"birthday\">\n            <Form.Label>Date de naissance: </Form.Label>\n            <Form.Control\n              onChange={this._handleBirthday}\n              value={this.state.birthday}\n              type=\"text\"\n              placeholder=\"La date de naissance du client...\"\n              aria-label=\"naissance\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddClient;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { updateClient } from '../Services/clients';\n\nclass PopupEditClient extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: this.props.data.name,\n      phoneNumber: this.props.data.phoneNumber,\n      email: this.props.data.email,\n      birthday: this.props.data.birthday,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existName: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePhoneNumber = (event) => {\n    this.setState({ phoneNumber: event.target.value });\n  }\n\n  _handleEmail = (event) => {\n    this.setState({ email: event.target.value });\n  }\n  \n  _handleBirthday = (event) => {\n    this.setState({ birthday: event.target.value });\n  }\n\n  _displayButton = () => {\n    if (this.state.name.length >= 2 && this.state.name.length <= 50 && _.isString(this.state.name) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n    } else {\n      return <Button variant=\"success\" disabled>Confirmer</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      phoneNumber: this.state.phoneNumber,\n      email: this.state.email,\n      birthday: this.state.birthday,\n    };\n\n    updateClient(Cookies.get('token'), this.props.data.idClient, toSend)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existName) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Client modifié avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existName) {\n      return <Alert variant=\"warning\">Un client possède déjà le même nom</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modifier un client</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du client...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"phoneNumber\">\n            <Form.Label>Numéro de téléphone: </Form.Label>\n            <Form.Control\n              onChange={this._handlePhoneNumber}\n              value={this.state.phoneNumber}\n              type=\"text\"\n              placeholder=\"Le numéro du client...\"\n              aria-label=\"phoneNumber\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"email\">\n            <Form.Label>Adresse email: </Form.Label>\n            <Form.Control\n              onChange={this._handleEmail}\n              value={this.state.email}\n              type=\"text\"\n              placeholder=\"L'email du client...\"\n              aria-label=\"email\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"birthday\">\n            <Form.Label>Date de naissance: </Form.Label>\n            <Form.Control\n              onChange={this._handleBirthday}\n              value={this.state.birthday}\n              type=\"text\"\n              placeholder=\"La date de naissance du client...\"\n              aria-label=\"naissance\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditClient;","import React from 'react';\nimport { Button, Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport TableClients from '../Components/TableClients';\nimport PopupAddClient from '../Components/PopupAddClient';\nimport PopupEditClient from '../Components/PopupEditClient';\n\nclass Clients extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Clients';\n\n    this.state = {\n      addMode: false,\n      editMode: false,\n    }\n    this.infoEdit = null;\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true, editMode: false });\n  }\n\n  _onUpdate = (info) => {\n    this.infoEdit = info;\n    this.setState({ addMode: false, editMode: true })\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Clients</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter un client</Button>\n          <br /><br />\n          <TableClients onUpdate={this._onUpdate} />\n          {this.state.addMode ? <PopupAddClient callback={this._onClose} /> : null}\n          {this.state.editMode ? <PopupEditClient callback={this._onClose} data={this.infoEdit} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default Clients;","import url from './url';\n\nexport function getAllProducts(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/products`, init)\n    .then(res => res.json());\n}\n\nexport function getOneProduct(token, idProduct) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/products/${idProduct}`, init)\n    .then(res => res.json());\n}\n\nexport function getMostPopularTypes(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/products/special/type/most-popular-type`, init)\n    .then(res => res.json());\n}\n\nexport function getMostPopularProducts(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/products/special/most-popular`, init)\n    .then(res => res.json());\n}\n\nexport function addProducts(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/products`, init)\n    .then(res => res.json());\n}\n\nexport function updateProducts(token, idProducts, toSend) {\n  const init = {\n    method: \"PUT\",\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      \"Content-Type\": \"application/json; charset=UTF-8\"\n    })\n  };\n\n  return fetch(`${url}/products/${idProducts}`, init)\n    .then(res => res.json());\n} \n\nexport function deleteProducts(token, idProducts) {\n  const init = {\n    method: \"DELETE\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n    })\n  };\n\n  return fetch(`${url}/products/${idProducts}`, init)\n    .then(res => res.json());\n} ","import React from 'react';\nimport Cookies from 'js-cookie';\nimport MaterialTable from \"material-table\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { deleteProducts, getAllProducts } from '../Services/products';\n\nclass TableProducts extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      products: [],\n      isLoading: true,\n      error: false,\n    };\n\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Type\",\n        field: \"type\",\n      },\n      {\n        title: \"Prix\",\n        field: \"price\",\n      },\n      {\n        title: \"Prix d'achat\",\n        field: \"buyPrice\",\n      },\n      {\n        title: \"Stock\",\n        field: \"inStock\",\n      },\n      {\n        title: \"Unité\",\n        field: \"unit\",\n      },\n      {\n        title: \"Valeur\",\n        field: \"value\",\n      },\n    ];\n  }\n\n  async componentDidMount() {\n    var until = [];\n    await getAllProducts(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          for (let index in data.result) {\n            until.push({ ...data.result[index], value: `${data.result[index].price * data.result[index].inStock}$`, price: `${data.result[index].price}$` });\n          }\n          this.setState({ products: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('idUser');\n          Cookies.remove('token');\n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, error: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: false });\n      });\n  }\n\n  _adapt = (info) => {\n    return info === 1 ? 'Oui' : 'Non';\n  }\n\n  _handleUpdate = (event, rowData) => {\n    let capture;\n    for (let index in this.state.products) {\n      if (this.state.products[index].idProduct === rowData.idProduct) {\n        capture= this.state.products[index];\n      }\n    }\n    this.props.onUpdate(capture);\n  }\n\n  _handleDelete = (event, rowData) => {\n    if (window.confirm('Êtes vous sûre de vouloir supprimer ce produit?')) {\n      deleteProducts(Cookies.get('token'), rowData.idProduct)\n        .then(res => {\n          if (res.delete) {\n            window.location.reload();\n          } else if (res.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n          }\n        })\n        .catch(() => {\n          alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n        });\n    }\n  }\n\n  render() {\n    if (this.state.error) {\n      return <h2>Une erreur a eu leiu veuillez réessayer</h2>\n    } else {\n      return (\n        <MaterialTable\n          title='Liste des produits'\n          data={this.state.products}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: false,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n          actions={[\n            {\n              icon: () => <EditIcon htmlColor='#007bff' />,\n              tooltip: \"Modifier\",\n              onClick: this._handleUpdate,\n            },\n            {\n              icon: () => <DeleteIcon htmlColor='#dc3545' />,\n              tooltip: \"Supprimer le produit\",\n              onClick: this._handleDelete,\n            },\n          ]}\n        />\n      );\n    }\n  }\n}\n\nexport default TableProducts;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { addProducts } from '../Services/products';\n\nclass PopupAddProducts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: '',\n      price: '',\n      type: 'Boissons',\n      unit: '',\n      inStock: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existName: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePrice = (event) => {\n    this.setState({ price: event.target.value });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _handleUnit = (event) => {\n    this.setState({ unit: event.target.value });\n  }\n\n  _handleInStock = (event) => {\n    this.setState({ inStock: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.name.length >= 2 && this.state.name.length <= 70) && (this.state.type === 'Spiritueux' || this.state.type === 'Boissons' || this.state.type === 'Plâts' || this.state.type === 'Cigarettes') && (_.isNumber(Number(this.state.price))) && (_.isNumber(Number(this.state.inStock))) && (this.state.unit.length >= 2 && this.state.unit.length <= 70) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      price: Number(this.state.price),\n      type: this.state.type,\n      unit: this.state.unit,\n      inStock: Number(this.state.inStock),\n    };\n\n    addProducts(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 250);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existName) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Produit ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existName) {\n      return <Alert variant=\"warning\">Un produit possède déjà le même nom</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un produit</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du produit...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select id='type' className='form-control' onChange={this._handleType}>\n              <option value='Spiritueux'>Spiritueux</option>\n              <option value='Cigarettes'>Cigarettes</option>\n              <option value='Boissons' selected>Boissons</option>\n              <option value='Plâts'>Plâts</option>\n            </select>\n          </Form.Group>\n          <Form.Group controlId=\"price\">\n            <Form.Label>Prix (en $): </Form.Label>\n            <Form.Control\n              onChange={this._handlePrice}\n              value={this.state.price}\n              type=\"number\"\n              placeholder=\"Le prix du produit...\"\n              aria-label=\"price\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"inStock\">\n            <Form.Label>Stock actuel: </Form.Label>\n            <Form.Control\n              onChange={this._handleInStock}\n              value={this.state.inStock}\n              type=\"number\"\n              placeholder=\"Le nombre de produit en stock...\"\n              aria-label=\"inStock\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"unit\">\n            <Form.Label>Unité (Portions, Bouteille, Assiette): </Form.Label>\n            <Form.Control\n              onChange={this._handleUnit}\n              value={this.state.unit}\n              type=\"text\"\n              placeholder=\"L'unité du produit...\"\n              aria-label=\"unit\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddProducts;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { updateProducts } from '../Services/products';\n\nclass PopupEditProducts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: this.props.data.name,\n      price: parseInt(this.props.data.price),\n      type: this.props.data.type,\n      unit: this.props.data.unit,\n      buyPrice: this.props.data.buyPrice,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      existName: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handlePrice = (event) => {\n    this.setState({ price: event.target.value });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _handleUnit = (event) => {\n    this.setState({ unit: event.target.value });\n  }\n\n  _handleBuyPrice  = (event) => {\n    this.setState({ buyPrice: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.name.length >= 2 && this.state.name.length <= 70) && (this.state.type === 'Spiritueux' || this.state.type === 'Boissons' || this.state.type === 'Plâts' || this.state.type === 'Cigarettes') && (_.isNumber(Number(this.state.price))) && (_.isNumber(Number(this.state.inStock))) && (this.state.unit.length >= 2 && this.state.unit.length <= 70) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n    } else {\n      return <Button variant=\"success\" disabled>Confirmer</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      price: Number(this.state.price),\n      type: this.state.type,\n      unit: this.state.unit,\n      buyPrice: this.state.buyPrice,\n    };\n\n    updateProducts(Cookies.get('token'), this.props.data.idProduct, toSend)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.existName) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Produit modifié avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.existName) {\n      return <Alert variant=\"warning\">Un produit possède déjà le même nom</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayOption = () => {\n    if (this.state.type === 'Spiritueux') {\n      return (\n        <>\n          <option value='Spiritueux' selected>Spiritueux</option>\n          <option value='Cigarettes'>Cigarettes</option>\n          <option value='Boissons'>Boissons</option>\n          <option value='Plâts'>Plâts</option>\n        </>\n      );\n    } else if (this.state.type === 'Boissons') {\n      return (\n        <>\n          <option value='Spiritueux'>Spiritueux</option>\n          <option value='Cigarettes'>Cigarettes</option>\n          <option value='Boissons' selected>Boissons</option>\n          <option value='Plâts'>Plâts</option>\n        </>\n      );\n    } else if (this.state.type === 'Plâts') {\n      return (\n        <>\n          <option value='Spiritueux'>Spiritueux</option>\n          <option value='Cigarettes'>Cigarettes</option>\n          <option value='Boissons'>Boissons</option>\n          <option value='Plâts' selected>Plâts</option>\n        </>\n      );\n    } else if (this.state.type === 'Cigarettes') {\n\n      return (\n        <>\n          <option value='Spiritueux'>Spiritueux</option>\n          <option value='Cigarettes' selected>Cigarettes</option>\n          <option value='Boissons'>Boissons</option>\n          <option value='Plâts'>Plâts</option>\n        </>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modifier un produit</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom du produit...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select id='type' className='form-control' onChange={this._handleType}>\n              {this._displayOption()}\n            </select>\n          </Form.Group>\n          <Form.Group controlId=\"price\">\n            <Form.Label>Prix (en $): </Form.Label>\n            <Form.Control\n              onChange={this._handlePrice}\n              value={this.state.price}\n              type=\"number\"\n              placeholder=\"Le prix du produit...\"\n              aria-label=\"price\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"unit\">\n            <Form.Label>Unité (Portions, Bouteille, Assiette): </Form.Label>\n            <Form.Control\n              onChange={this._handleUnit}\n              value={this.state.unit}\n              type=\"text\"\n              placeholder=\"L'unité du produit...\"\n              aria-label=\"unit\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"buyPrice\">\n            <Form.Label>Prix d'achat commun (en $): </Form.Label>\n            <Form.Control\n              onChange={this._handleBuyPrice}\n              value={this.state.buyPrice}\n              type=\"number\"\n              placeholder=\"Le prix d'achat du produit...\"\n              aria-label=\"buyPrice\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditProducts;","import React from 'react';\nimport { getMostPopularTypes } from '../Services/products';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass PieMPTypes extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      data: [],\n      error: false,\n    }\n  }\n\n  componentDidMount() {\n    const color = [\n      \"#838B8B\",\n      \"#668B8B\",\n      \"#2F4F4F\",\n      \"#528B8B\",\n    ]\n    getMostPopularTypes(Cookies.get('token'))\n      .then(res => {\n        console.log('====================================');\n        console.log(res);\n        console.log('====================================');\n        if (res.find) {\n          const until = [];\n          for (let index in res.result) {\n            until.push({ title: res.result[index].nameOfType, value: res.result[index].value_occurrence, color: color[index] });\n          }\n          this.setState({ error: false, isLoading: false, data: until });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      })\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) { \n      return <em>Une erreur a eu lieu réesayez ou contactez-nous</em>\n    } else {\n      return (\n        <PieChart\n          data={this.state.data}\n          labelStyle={{\n            fill: '#fff',\n            opacity: 0.75,\n            pointerEvents: 'none',\n            fontSize: \"25%\",\n          }}\n          labelPosition={50}\n          label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n        />\n      );\n    }\n  }\n}\n\nexport default PieMPTypes;","import React from 'react';\nimport { getMostPopularProducts } from '../Services/products';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass PiesMPProducts extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      data: null,\n      error: false,\n    }\n  }\n\n  componentDidMount() {\n    const color = [\n      \"#838B8B\",\n      \"#668B8B\",\n      \"#2F4F4F\",\n      \"#528B8B\",\n    ]\n    getMostPopularProducts(Cookies.get('token'))\n      .then(res => {\n        if (res.find) {\n          const untilDrinks = [];\n          const untilSpirits = [];\n          const untilDishes = [];\n          const untilCigarettes = [];\n\n          for (let index in res.result.drinks) {\n            untilDrinks.push({ title: res.result.drinks[index].nameOfProduct, value: res.result.drinks[index].value_occurrence, color: color[index] });\n          }\n          for (let index in res.result.spirits) {\n            untilSpirits.push({ title: res.result.spirits[index].nameOfProduct, value: res.result.spirits[index].value_occurrence, color: color[index] });\n          }\n          for (let index in res.result.dishes) {\n            untilDishes.push({ title: res.result.dishes[index].nameOfProduct, value: res.result.dishes[index].value_occurrence, color: color[index] });\n          }\n          for (let index in res.result.cigarettes) {\n            untilCigarettes.push({ title: res.result.cigarettes[index].nameOfProduct, value: res.result.cigarettes[index].value_occurrence, color: color[index] });\n          }\n\n          this.setState({ error: false, isLoading: false, data: { drinks: untilDrinks, spirits: untilSpirits, dishes: untilDishes, cigarettes: untilCigarettes, } });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch((err) => {\n        console.log('====================================');\n        console.log(err);\n        console.log('====================================');\n        this.setState({ error: true, isLoading: false });\n      })\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu réesayez ou contactez-nous</em>\n    } else {\n      return (\n        <div>\n          <h3>Boissons: </h3>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieChart\n              data={this.state.data.drinks}\n              labelStyle={{\n                fill: '#fff',\n                opacity: 0.75,\n                pointerEvents: 'none',\n                fontSize: \"25%\",\n              }}\n              labelPosition={50}\n              label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n            />\n          </div>\n          <h3>Spiritueux: </h3>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieChart\n              data={this.state.data.spirits}\n              labelStyle={{\n                fill: '#fff',\n                opacity: 0.75,\n                pointerEvents: 'none',\n                fontSize: \"25%\",\n              }}\n              labelPosition={50}\n              label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n            />\n          </div>\n          <h3>Plâts: </h3>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieChart\n              data={this.state.data.dishes}\n              labelStyle={{\n                fill: '#fff',\n                opacity: 0.75,\n                pointerEvents: 'none',\n                fontSize: \"25%\",\n              }}\n              labelPosition={50}\n              label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n            />\n          </div>\n          <h3>Cigarettes: </h3>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieChart\n              data={this.state.data.cigarettes}\n              labelStyle={{\n                fill: '#fff',\n                opacity: 0.75,\n                pointerEvents: 'none',\n                fontSize: \"25%\",\n              }}\n              labelPosition={50}\n              label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n            />\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default PiesMPProducts;","import React from 'react';\nimport { Button, Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport TableProducts from '../Components/TableProducts';\nimport PopupAddProducts from '../Components/PopupAddProducts';\nimport PopupEditProducts from '../Components/PopupEditProducts';\nimport PieMPTypes from '../Components/PieMPTypes';\nimport PiesMPProducts from '../Components/PiesMPProducts';\n\nclass Products extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Produits';\n\n    this.state = {\n      addMode: false,\n      editMode: false,\n    }\n    this.infoEdit = null;\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true, editMode: false });\n  }\n\n  _onUpdate = (info) => {\n    this.infoEdit = info;\n    this.setState({ addMode: false, editMode: true })\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Produits</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter un produit</Button>\n          <br /><br />\n          <TableProducts onUpdate={this._onUpdate} />\n          {this.state.addMode ? <PopupAddProducts callback={this._onClose} /> : null}\n          {this.state.editMode ? <PopupEditProducts callback={this._onClose} data={this.infoEdit} /> : null}\n          <br />\n          <h2>Types de produit les plus vendues: </h2>\n          <div style={{ width: '40vh', alignItems: 'center' }}>\n            <PieMPTypes />\n          </div>\n          <h2>Les produits les plus vendues par type: </h2>\n          <PiesMPProducts />\n          <br /><br />\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default Products;","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport { getAllProducts } from '../Services/products';\nimport MaterialTable from \"material-table\";\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\n\nclass Stocks extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Stocks';\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      type: \"all\",\n    };\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Stock\",\n        field: \"inStock\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getAllProducts(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          this.setState({ info: data.result, toDisplay: data.result, isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _handleType= (event) => {\n    this.setState({ type: event.target.value }, () => {\n      this.state.type = event.target.value;\n      if (this.state.type === \"all\") {\n        this.setState({ toDisplay: this.state.info });\n      } else {\n        const until = _.filter(this.state.info, (o) => (o.type === this.state.type));\n        this.setState({ toDisplay: until });\n      }\n    });\n  }\n\n  _displayType = () => {\n    return (\n      <>\n        Type:{' '}\n        <select onChange={this._handleType}>\n          <option value=\"all\" selected>Tout</option>\n          <option value=\"Boissons\">Boissons</option>\n          <option value=\"Plâts\">Plâts</option>\n          <option value=\"Spiritueux\">Spiritueux</option>\n          <option value=\"Cigarettes\">Cigarettes</option>\n        </select>\n      </>\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Stocks</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Stocks</h1>\n            {this._displayType()}<br /><br />\n            <a href={`/application/print/${this.state.type}`} target=\"_blank\" className=\"btn btn-primary\">Imprimer</a><br /><br />\n            <MaterialTable\n              title='Stocks'\n              data={this.state.toDisplay}\n              columns={this.columns}\n              options={{\n                search: true,\n                paging: false,\n                filtering: true,\n                exportButton: true,\n              }}\n              isLoading={this.state.isLoading}\n            />\n          </Container>\n        </>\n      );\n    }\n  }\n}\n\nexport default Stocks;\n","import url from './url';\n\nexport function getAllTransactions(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/transactions`, init)\n    .then(res => res.json());\n}\n\nexport function addTransaction(toSend, token, type, idProduct) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  if (type === 'enter') {\n    return fetch(`${url}/transactions/${idProduct}/enter`, init)\n      .then(res => res.json());\n  } else if (type === 'outlet') {\n    return fetch(`${url}/transactions/${idProduct}/outlet`, init)\n      .then(res => res.json());\n  }\n}\n\nexport function getOfOneDay(token, idProduct, begin) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/transactions/${idProduct}/day/${begin}`, init)\n    .then(res => res.json());\n}\n\nexport function getWholeSale(token, begin, end) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/transactions/report/${begin}/${end}`, init)\n    .then(res => res.json());\n}","import React from 'react';\nimport { getAllProducts } from '../Services/products';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport Select from 'react-select';\n\nclass ProductsList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: null, \n      isLoading: true,\n    };\n  }\n\n  async componentDidMount() {\n    let until = [];\n    await getAllProducts(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          for (let index in data.result) {\n            until.push({ value: data.result[index], label: data.result[index].name });\n          }\n          this.setState({ isLoading: false, products: until }, this.props.default ? () => { } : () => {\n            this.props.onChange(this.state.products[0].value.idProduct, this.state.products[0].value);\n          });\n        } else {\n          alert('Une erreur eu lieu, réessayez ou contactez-nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur eu lieu, réessayez ou contactez-nous');\n      });\n  }\n\n  _handle = (event) => {\n    this.props.onChange(event.value.idProduct, event.value);\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n    } else {\n      if (this.state.products.length < 1) {\n        alert(\"Vous n'avez aucun produit commencez par en ajouter un\");\n        window.location.reload();\n      } else {\n        return this.props.default ? <Select defaultValue={this.props.default} options={this.state.products} onChange={this._handle}  /> : <Select options={this.state.products} onChange={this._handle} />;\n      }\n    }\n  }\n}\n\nexport default ProductsList;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport ProductsList from './ProductsList';\nimport { addTransaction } from '../Services/transactions';\n\nclass PopupAddTransaction extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: '',\n      type: 'enter',\n      quantity: 1,\n      buyPrice: '',\n      description: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      productNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct,  productInfo) => {\n    console.log('====================================');\n    console.log(productInfo.buyPrice);\n    console.log('====================================');\n    this.setState({ idProduct: newProduct, buyPrice: productInfo.buyPrice });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _handleQuantity = (event) => {\n    this.setState({ quantity: event.target.value });\n  }\n\n  _handleBuyPrice = (event) => {\n    this.setState({ buyPrice: event.target.value });\n  }\n\n  _handleDescription = (event) => {\n    this.setState({ description: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.description.length >= 2 && this.state.description.length <= 90 && _.isString(this.state.description)) && _.isNumber(Number(this.state.quantity)) && !this.state.isLoading) {\n      if (this.state.type === 'enter' && this.state.buyPrice <= 0) {\n        return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n      } else {\n        return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n      }\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = this.state.type === 'enter' ? { \n      quantity: Number(this.state.quantity),\n      buyPrice: Number(this.state.buyPrice),\n      description: this.state.description,\n    } : { \n      quantity: Number(this.state.quantity),\n      description: this.state.description,\n    };\n\n    addTransaction(toSend, Cookies.get('token'), this.state.type, this.state.idProduct)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Transaction ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit que vous avez choisi n'existe pas, essayez de recharger la page, ou contactez-nous</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayBuyPrice = () => {\n    if (this.state.type === 'enter') {\n      return (\n        <Form.Group controlId=\"buyPrice\">\n          <Form.Label>Prix d'achat (en $): </Form.Label>\n          <Form.Control\n            onChange={this._handleBuyPrice}\n            value={this.state.buyPrice}\n            type=\"text\"\n            placeholder=\"Le prix d'achat du produit...\"\n            aria-label=\"buyPrice\"\n            aria-describedby=\"btnSubmit\"\n          />\n        </Form.Group>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une transaction</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} /> \n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select id='type' className='form-control' onChange={this._handleType}>\n              <option value='enter' selected>Entrée</option>\n              <option value='outlet'>Sortie</option>\n            </select>\n          </Form.Group>\n          {this._displayBuyPrice()}\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantité: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantité...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Label>Libellé: </Form.Label>\n            <Form.Control\n              onChange={this._handleDescription}\n              value={this.state.description}\n              type=\"text\"\n              placeholder=\"Libellé de la transaction...\"\n              aria-label=\"description\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddTransaction;","import React from 'react';\nimport moment from 'moment';\nimport { Container, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport DatePicker from \"react-datepicker\"; \nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { getAllTransactions } from '../Services/transactions';\nimport Cookies from 'js-cookie';\nimport _ from \"lodash\";\nimport MaterialTable from \"material-table\";\nimport PopupAddTransaction from '../Components/PopupAddTransaction';\n\nclass TransactionDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      begin: null,\n      beginInTimestamp: null,\n      end: null,\n      endInTimestamp: null,\n\n      addMode: false,\n\n      transaction: [],\n      transactionToFilter: [],\n      isLoading: true,\n      error: false,\n    };\n    document.title = \"Consulat - Transactions\";\n    this.columns = [\n      {\n        title: \"Produit\",\n        field: \"nameOfProduct\",\n      },\n      {\n        title: \"Utilisateur\",\n        field: \"nameOfUser\",\n      },\n      {\n        title: \"Stock\",\n        field: \"stock\",\n      },\n      {\n        title: \"Entrée\",\n        field: \"enter\",\n      },\n      {\n        title: \"Sortie\",\n        field: \"outlet\",\n      },\n      {\n        title: \"Solde\",\n        field: \"stockAfter\",\n      },\n      {\n        title: \"Libellé\",\n        field: \"description\",\n      },\n      {\n        title: \"Date\",\n        field: \"date2\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    verifyIsAdmin(() => {\n      getAllTransactions(Cookies.get('token'))\n        .then(data => {\n          if (data.find) {\n            let until = [];\n            for (let index in data.result) {\n              let now = moment.unix(parseInt(data.result[index].timestamp));\n              until.push({ ...data.result[index], date2: now.format('DD/MM/yyyy [à] HH:mm'), stock: data.result[index].stockAfter - data.result[index].enter + data.result[index].outlet });\n            }\n            this.setState({ transaction: until, isLoading: false, error: false });\n          } else if (data.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            this.setState({ transaction: [], isLoading: false, error: true });\n          }\n        })\n        .catch(() => {\n          this.setState({ transaction: [], isLoading: false, error: true });\n        });\n    });\n  }\n\n  _handleBegin = (date) => {\n    const now = moment(date);\n    this.setState({ begin: date, beginInTimestamp: now.unix() }, () => {\n      const until = _.filter(this.state.transaction, (o) =>  o.timestamp >= this.state.beginInTimestamp && o.timestamp <= this.state.endInTimestamp);\n      this.setState({ transactionToFilter: until });\n    });\n  }\n\n  _handleEnd = (date) => {\n    const now = moment(date);\n    this.setState({ end: date, endInTimestamp: now.unix() }, () => {\n      const until = _.filter(this.state.transaction, (o) =>  (o.timestamp >= this.state.beginInTimestamp) && (o.timestamp <= this.state.endInTimestamp));\n      this.setState({ transactionToFilter: until });\n    });\n  }\n\n  _display = () => {\n    if (this.state.error) {\n      return 'Une erreur a eu lieu, réessayez ou contactez-nous';\n    } else {\n      return (\n        <MaterialTable\n          title='Transaction'\n          data={this.state.transactionToFilter}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: true,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n        />\n      );\n    }\n  }\n\n  _addTransaction = () => {\n    this.setState({ addMode: true });\n  };\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Transactions</h1>\n          <Button variant='success' onClick={this._addTransaction}><i class=\"fas fa-plus-circle\"></i> Ajouter une transaction</Button> <br /><br />\n          Les transactions  du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n          {' '}au{' '}\n          <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n          {this._display()}\n        </Container>\n        {this.state.addMode ? <PopupAddTransaction callback={this._onClose} /> : null}\n      </>\n    );\n  }\n}\n\nexport default TransactionDetail;","import React from 'react';\nimport { Button, Container, Spinner } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport moment from 'moment';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport DatePicker from \"react-datepicker\"; \nimport Cookies from 'js-cookie';\nimport _ from 'lodash';\nimport MaterialTable from 'material-table';\nimport PopupAddTransaction from '../Components/PopupAddTransaction';\nimport { getWholeSale } from '../Services/transactions';\n\nclass TransactionWholeSale extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Transactions';\n\n    this.state = {\n      addMode: false,\n      isLoading: true,\n      data: null,\n      error: false,\n      end: null,\n      begin: null,\n    }\n    this.beginInTimestamp= null;\n    this.endInTimestamp= null;\n\n    this.columns = [\n      {\n        title: \"Produit\",\n        field: \"nameOfProduct\",\n      },\n      {\n        title: \"Stock\",\n        field: \"stock\",\n      },\n      {\n        title: \"Entrée\",\n        field: \"totalEnter\",\n      },\n      {\n        title: \"Sortie\",\n        field: \"totalOutlet\",\n      },\n      {\n        title: \"Solde\",\n        field: \"solde\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true });\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n\n  _didMount = () => {\n    getWholeSale(Cookies.get('token'), this.beginInTimestamp, this.endInTimestamp)\n      .then((res) => {\n        if (res.find) {\n          let until = [];\n          for (let index in res.result) {\n            until.push({ \n              ...res.result[index], \n              solde: Number(res.result[index].stock) + Number(res.result[index].totalEnter) - Number(res.result[index].totalOutlet)  \n            });\n          }\n          this.setState({ error: false, isLoading: false, data: until });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      });\n  }\n\n  _handleBegin = (date) => {\n    this.setState({ isLoading: true, begin: date }, () => {\n      const now = moment(date);\n      this.beginInTimestamp= now.unix();\n      if (!_.isNull(this.state.end)) {\n        this._didMount();\n      }\n    })\n  }\n\n  _handleEnd = (date) => {\n    this.setState({ isLoading: true, end: date }, () => {\n      const now = moment(date);\n      this.endInTimestamp= now.unix();\n      if (!_.isNull(this.state.begin)) {\n        this._didMount();\n      }\n    });\n  }\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n      );\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu veuillez réessayez plus tard</em>\n    } else {\n      return (\n        <>\n          <MaterialTable\n            title='Transactions'\n            data={this.state.data}\n            columns={this.columns}\n            options={{\n              search: true,\n              paging: true,\n              filtering: true,\n              exportButton: true,\n            }}\n            isLoading={this.state.isLoading}\n          />\n        </>\n      );\n    }\n  }\n\n  render() {\n    console.log(this.state);\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Transactions</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter une transaction</Button> <br /><br />\n          Les transactions  du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n          {' '}au{' '}\n          <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br /><br />\n          {this._display()}\n          {this.state.addMode ? <PopupAddTransaction callback={this._onClose} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default TransactionWholeSale;","import Cookies from 'js-cookie';\nimport { getUserInfo } from '../Services/users';\n\nconst verifyIsManager = (callback) => {\n  getUserInfo(Cookies.get('idUser'), Cookies.get('token'))\n    .then(user => {\n      if (user.find) {\n        if (user.result.level === 1 || user.result.level === 2) {\n          if (callback) {\n            callback(user.result);\n          }\n        } else {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n      \n          window.location.href = '/application/';\n        }\n      } else {\n        alert('Une erreur a eu lieu');\n        window.location.href = '/application/';\n      }\n    })\n    .catch(() => {\n      alert('Une erreur a eu lieu');\n      window.location.href = '/application/';\n    });\n};\n\nexport default verifyIsManager;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport ProductsList from './ProductsList';\nimport { addTransaction } from '../Services/transactions';\n\nclass PopupAddTransactionManager extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: '',\n      quantity: 1,\n      description: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      productNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct) => {\n    this.setState({ idProduct: newProduct });\n  }\n\n  _handleQuantity = (event) => {\n    this.setState({ quantity: event.target.value });\n  }\n\n  _handleDescription = (event) => {\n    this.setState({ description: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.description.length >= 2 && this.state.description.length <= 90 && _.isString(this.state.description)) && _.isNumber(Number(this.state.quantity)) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = { \n      quantity: Number(this.state.quantity),\n      description: this.state.description,\n    };\n\n    addTransaction(toSend, Cookies.get('token'), \"enter\", this.state.idProduct)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Transaction ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit que vous avez choisi n'existe pas, essayez de recharger la page, ou contactez-nous</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  // _displayBuyPrice = () => {\n  //   if (this.state.type === 'enter') {\n  //     return (\n  //       <Form.Group controlId=\"buyPrice\">\n  //         <Form.Label>Prix d'achat (en $): </Form.Label>\n  //         <Form.Control\n  //           onChange={this._handleBuyPrice}\n  //           value={this.state.buyPrice}\n  //           type=\"number\"\n  //           placeholder=\"Le prix d'achat du produit...\"\n  //           aria-label=\"buyPrice\"\n  //           aria-describedby=\"btnSubmit\"\n  //         />\n  //       </Form.Group>\n  //     );\n  //   }\n  // }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une entrée</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} /> \n          </Form.Group>\n          {/* {this._displayBuyPrice()} */}\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantité: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantité...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Label>Libellé: </Form.Label>\n            <Form.Control\n              onChange={this._handleDescription}\n              value={this.state.description}\n              type=\"text\"\n              placeholder=\"Libellé de la transaction...\"\n              aria-label=\"description\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddTransactionManager;","import React from 'react';\nimport moment from 'moment';\nimport { Container, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport verifyIsManager from '../Helpers/verifyIsManager';\nimport DatePicker from \"react-datepicker\"; \nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { getAllTransactions } from '../Services/transactions';\nimport Cookies from 'js-cookie';\nimport _ from \"lodash\";\nimport MaterialTable from \"material-table\";\nimport PopupAddTransactionManager from '../Components/PopupAddTransactionManager';\n\nclass TransactionPeriod extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      begin: null,\n      beginInTimestamp: null,\n      end: null,\n      endInTimestamp: null,\n\n      addMode: false,\n\n      transaction: [],\n      transactionToFilter: [],\n      isLoading: true,\n      error: false,\n    };\n    document.title = \"Consulat - Transactions\";\n    this.columns = [\n      {\n        title: \"Produit\",\n        field: \"nameOfProduct\",\n      },\n      {\n        title: \"Utilisateur\",\n        field: \"nameOfUser\",\n      },\n      {\n        title: \"Stock\",\n        field: \"stock\",\n      },\n      {\n        title: \"Entrée\",\n        field: \"enter\",\n      },\n      {\n        title: \"Sortie\",\n        field: \"outlet\",\n      },\n      {\n        title: \"Solde\",\n        field: \"stockAfter\",\n      },\n      {\n        title: \"Libellé\",\n        field: \"description\",\n      },\n      {\n        title: \"Date\",\n        field: \"date2\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    verifyIsManager(() => {\n      getAllTransactions(Cookies.get('token'))\n        .then(data => {\n          if (data.find) {\n            let until = [];\n            for (let index in data.result) {\n              let now = moment.unix(parseInt(data.result[index].timestamp));\n              until.push({ ...data.result[index], date2: now.format('DD/MM/yyyy [à] HH:mm'), stock: data.result[index].stockAfter - data.result[index].enter + data.result[index].outlet });\n            }\n            this.setState({ transaction: until, isLoading: false, error: false });\n          } else if (data.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            this.setState({ transaction: [], isLoading: false, error: true });\n          }\n        })\n        .catch(() => {\n          this.setState({ transaction: [], isLoading: false, error: true });\n        });\n    });\n  }\n\n  _handleBegin = (date) => {\n    const now = moment(date);\n    this.setState({ begin: date, beginInTimestamp: now.unix() }, () => {\n      const until = _.filter(this.state.transaction, (o) =>  o.timestamp >= this.state.beginInTimestamp && o.timestamp <= this.state.endInTimestamp);\n      this.setState({ transactionToFilter: until });\n    });\n  }\n\n  _handleEnd = (date) => {\n    const now = moment(date);\n    this.setState({ end: date, endInTimestamp: now.unix() }, () => {\n      const until = _.filter(this.state.transaction, (o) =>  (o.timestamp >= this.state.beginInTimestamp) && (o.timestamp <= this.state.endInTimestamp));\n      this.setState({ transactionToFilter: until });\n    });\n  }\n\n  _display = () => {\n    if (this.state.error) {\n      return 'Une erreur a eu lieu, réessayez ou contactez-nous';\n    } else {\n      return (\n        <MaterialTable\n          title='Transaction'\n          data={this.state.transactionToFilter}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: true,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n        />\n      );\n    }\n  }\n\n  _addTransaction = () => {\n    this.setState({ addMode: true });\n  };\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Transactions</h1>\n          <Button variant='success' onClick={this._addTransaction}><i class=\"fas fa-plus-circle\"></i> Ajouter une entrée</Button> <br /><br />\n          Les transactions  du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n          {' '}au{' '}\n          <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n          {this._display()}\n        </Container>\n        {this.state.addMode ? <PopupAddTransactionManager callback={this._onClose} /> : null}\n      </>\n    );\n  }\n}\n\nexport default TransactionPeriod;","import url from './url';\n\nexport function getInProgress(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/get/notFinished`, init)\n    .then(res => res.json());\n}\n\nexport function getNotPaid(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/get/notPaid`, init)\n    .then(res => res.json());\n}\n\nexport function getReport(token, timestamp) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/get/report/${timestamp}`, init)\n    .then(res => res.json());\n}\n\nexport function getReportPeriod(token, begin, end) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/get/report/${begin}/${end}`, init)\n    .then(res => res.json());\n}\n\nexport function startSession(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions`, init)\n    .then(res => res.json());\n}\n\nexport function editSession(toSend, token, idSession) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}`, init)\n    .then(res => res.json());\n}\n\nexport function addSessionItem(toSend, token, idSession) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/addItem`, init)\n    .then(res => res.json());\n}\n\nexport function addAccompaniment(toSend, token, idSession, idSessionItem) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/item/${idSessionItem}/addAccompaniment`, init)\n    .then(res => res.json());\n}\n\nexport function updateOneSessionItem(toSend, token, idSession, idSessionItem) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/item/${idSessionItem}`, init)\n    .then(res => res.json());\n}\n\nexport function getOneSession(idSession, token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/${idSession}`, init)\n    .then(res => res.json());\n}\n\nexport function getItemOfOneSession(idSession, token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/${idSession}/items`, init)\n    .then(res => res.json());\n}\n\nexport function getAccompOfItem(idSession, token, idSessionsItem) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/sessions/${idSession}/items/${idSessionsItem}/accompaniment`, init)\n    .then(res => res.json());\n}\n\nexport function deleteItem(token, idSession, idSessionsItem) {\n  const init = {\n    method: \"DELETE\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token,\n    })\n  };\n\n  return fetch(`${url}/sessions/${idSession}/items/${idSessionsItem}`, init)\n    .then(res1 => res1.json());\n} \n\nexport function finishSession(token, idSession) {\n  const init = {\n    method: 'PUT',\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/finish`, init)\n    .then(res => res.json());\n}\n\nexport function finishAndPaySession(token, idSession) {\n  const init = {\n    method: 'PUT',\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/finishAndPay`, init)\n    .then(res => res.json());\n}\n\nexport function paySession(token, idSession) {\n  const init = {\n    method: 'PUT',\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/pay`, init)\n    .then(res => res.json());\n}\n\nexport function addReduction(toSend, token, idSession) {\n  const init = {\n    method: 'PUT',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/reduction`, init)\n    .then(res => res.json());\n}\n\nexport function reductionToZero(token, idSession) {\n  const init = {\n    method: 'PUT',\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/sessions/${idSession}/reductionToZero`, init)\n    .then(res => res.json());\n}","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport { addSessionItem } from '../Services/sessions';\nimport ProductsList from './ProductsList';\n\nclass PopupAddSessionItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: '',\n      quantity: 1,\n\n      isLoading: false,\n      negativeStock: false,\n      success: false,\n      invalidForm: false,\n      productNotFound: false,\n      error: false,\n    }\n    this.idSession = this.props.idSession;\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct) => {\n    this.setState({ idProduct: newProduct });\n  }\n\n  _handleQuantity = ({ target }) => {\n    this.setState({ quantity: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = {\n      idProduct: this.state.idProduct,\n      quantity: Number(this.state.quantity),\n    };\n\n    addSessionItem(toSend, Cookies.get('token'), this.idSession)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Élément ajoutée avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit choisit n'a pas été trouvé</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    return !this.state.isLoading ? <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button> : <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un article a une session</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"product\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} />\n          </Form.Group>\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantité: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantité...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n        {this._displayButton()}\n        <Button variant=\"danger\" onClick={this._handleClose}>\n          Fermer\n        </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddSessionItem;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport { updateOneSessionItem } from '../Services/sessions';\nimport ProductsList from './ProductsList';\n\nclass PopupEditSessionItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: this.props.data.idProduct,\n      quantity: this.props.data.quantity,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      productNotFound: false,\n      error: false,\n    }\n    this.idSession = this.props.data.idSession;\n    this.idSessionItem = this.props.data.idSessionsItem;\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct) => {\n    this.setState({ idProduct: newProduct });\n  }\n\n  _handleQuantity = ({ target }) => {\n    this.setState({ quantity: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = {\n      idProduct: this.state.idProduct,\n      quantity: Number(this.state.quantity),\n    };\n\n    updateOneSessionItem(toSend, Cookies.get('token'), this.idSession, this.idSessionItem)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Élément modifié avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit choisit n'a pas été trouvé</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    return !this.state.isLoading ? <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button> : <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un article a une session</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"product\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} default={this.state.idProduct} />\n          </Form.Group>\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantité: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantité...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n        {this._displayButton()}\n        <Button variant=\"danger\" onClick={this._handleClose}>\n          Fermer\n        </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditSessionItem;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport { addAccompaniment } from '../Services/sessions';\nimport ProductsList from './ProductsList';\n\nclass PopupAddAccompaniment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idProduct: '',\n      quantity: 1,\n\n      isLoading: false,\n      negativeStock: false,\n      success: false,\n      invalidForm: false,\n      productNotFound: false,\n      error: false,\n    }\n    this.idSession = this.props.data.idSession;\n    this.idSessionItem = this.props.data.idSessionsItem;\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdProduct = (newProduct) => {\n    this.setState({ idProduct: newProduct });\n  }\n\n  _handleQuantity = ({ target }) => {\n    this.setState({ quantity: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = {\n      idProduct: this.state.idProduct,\n      quantity: Number(this.state.quantity),\n    };\n\n    addAccompaniment(toSend, Cookies.get('token'), this.idSession, this.idSessionItem)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Accompagnement ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.productNotFound) {\n      return <Alert variant=\"warning\">Le produit choisit n'a pas été trouvé</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    return !this.state.isLoading ? <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button> : <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter un Accompagnement a un article</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"product\">\n            <Form.Label>Produits: </Form.Label>\n            <ProductsList onChange={this._handleIdProduct} />\n          </Form.Group>\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantité: </Form.Label>\n            <Form.Control\n              onChange={this._handleQuantity}\n              value={this.state.quantity}\n              type=\"number\"\n              placeholder=\"La quantité...\"\n              aria-label=\"quantity\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n        {this._displayButton()}\n        <Button variant=\"danger\" onClick={this._handleClose}>\n          Fermer\n        </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddAccompaniment;","import React from 'react';\nimport { Button, Modal, Spinner } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport { getAccompOfItem } from '../Services/sessions';\nimport { getOneProduct } from '../Services/products';\n\nclass PopupViewAccompaniment extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      accompaniments: [],\n\n      isLoading: false,\n      error: false,\n    }\n    this.idSessionItem = this.props.data.idSessionsItem;\n    this.idSession = this.props.data.idSession;\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  async componentDidMount() {\n    var until = [];\n    getAccompOfItem(this.idSession, Cookies.get('token'), this.idSessionItem)\n      .then(async data => {\n        if (data.find) {\n          for (let index in data.result) {\n            await getOneProduct(Cookies.get('token'), data.result[index].idProduct)\n              .then(res => {\n                if (res.find) {\n                  until.push({ ...data.result[index], productInfo: res.result });\n                } else {\n                  this.setState({ error: true, isLoading: false });\n                }\n              })\n              .catch(() => {\n                this.setState({ error: true, isLoading: false });\n              });\n          }\n          this.setState({ accompaniments: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      });\n  }\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu, réessayez ou contactez-nous</em>;\n    } else {\n      if (this.state.accompaniments.length < 1) {\n        return <em>Aucun accompagnement</em>;\n      } else {\n        let arrayElement = [];\n        for (let index in this.state.accompaniments) {\n          arrayElement.push(\n            <li>\n              <b>Nom</b>: {this.state.accompaniments[index].productInfo.name}<br />\n              <b>Quantité</b>: {this.state.accompaniments[index].quantity}<br />\n            </li>\n          );\n        }\n        return (<ol>{arrayElement} </ol>);\n      }\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Accompagnement</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          {this._display()}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupViewAccompaniment;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport _ from 'underscore';\nimport { addReduction } from '../Services/sessions';\n\nclass PopupAddReduction extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      reduction: this.props.default,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleReduction = (event) => {\n    this.setState({ reduction: event.target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = {\n      reduction: Number(this.state.reduction)\n    }\n\n    addReduction(toSend, Cookies.get('token'), this.props.idSession)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Réduction ajoutée avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    if (_.isNumber(Number(this.state.reduction)) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une réduction</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"reduction\">\n            <Form.Label>Montant: </Form.Label>\n            <Form.Control\n              onChange={this._handleReduction}\n              value={this.state.reduction}\n              type=\"number\"\n              placeholder=\"Le montant de la réduction...\"\n              aria-label=\"reduction\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddReduction;","import React from 'react';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { getAllClient } from '../Services/clients';\nimport Select from 'react-select';\n\nclass ClientsList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      clients: null, \n      isLoading: true,\n    };\n  }\n\n  async componentDidMount() {\n    let until = [];\n    await getAllClient(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          until.push({ value: 'Inconnu', label: \"Client inconnu\" });\n          for (let index in data.result) {\n            until.push({ value: data.result[index].idClient, label: data.result[index].name });\n          }\n          until.push()\n          this.setState({ isLoading: false, clients: until });\n        } else {\n          alert('Une erreur eu lieu, réessayez ou contactez-nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur eu lieu, réessayez ou contactez-nous');\n      });\n  }\n\n  _handle = (event) => {\n    this.props.onChange(event)\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n    } else {\n      if (this.state.clients.length < 1) {\n        alert(\"Vous n'avez aucun produit commencez par en ajouter un\");\n        window.location.reload();\n      } else {\n        return this.props.default ? <Select defaultValue={this.props.default} options={this.state.clients} onChange={this._handle}  /> : <Select options={this.state.clients} onChange={this._handle} />;\n      }\n    }\n  }\n}\n\nexport default ClientsList;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport ClientsList from './ClientsList';\nimport { editSession } from '../Services/sessions';\n\nclass PopupEditSession extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idClient: this.props.data.idClient,\n      server: 'CHRISTELLE',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      clientNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdClient = (newClient) => {\n    this.setState({ idClient: newClient.value });\n  }\n\n  _handleServer = ({ target }) => {\n    this.setState({ server: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = this.state.idClient === 'Inconnu' ? {\n      nameOfServer: this.state.server,\n    } : {\n      idClient: this.state.idClient,\n      nameOfServer: this.state.server,\n    };\n\n    editSession(toSend, Cookies.get('token'), this.props.data.idSession)\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, clientNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, clientNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.clientNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Session modifiée avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.clientNotFound) {\n      return <Alert variant=\"warning\">Le client choisit n'a pas été trouvé</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    if (this.state.server.length > 0 && this.state.server.length <= 75 && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>;\n    } else {\n      return <Button variant=\"success\" disabled>Confirmer</Button>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modfier une session</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Client: </Form.Label>\n            <ClientsList onChange={this._handleIdClient} default={this.props.data.idClient} />\n          </Form.Group>\n          <Form.Group controlId=\"nameOfServer\">\n            <Form.Label>Nom du serveur/serveuse: </Form.Label>\n            <select onChange={this._handleServer} id=\"nameOfServer\" className=\"form-control\">\n              <option value='CHRISTELLE' selected>CHRISTELLE</option>\n              <option value='NDAYA CHRISTELLE'>NDAYA CHRISTELLE</option>\n              <option value='EXAUCÉE'>EXAUCÉE</option>\n              <option value='SANDRA'>SANDRA</option>\n              <option value='FANNY'>FANNY</option>\n              <option value='PATIENT'>PATIENT</option>\n              <option value='GRACIA'>GRACIA</option>\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditSession;","import React from 'react';\nimport { Button, Container, ListGroup, Spinner } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport { getOneSession, getItemOfOneSession, deleteItem, finishSession, finishAndPaySession, paySession, reductionToZero } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport _ from 'lodash';\nimport { getOneClient } from '../Services/clients';\nimport moment from 'moment';\nimport PopupAddSessionItem from '../Components/PopupAddSessionItem';\nimport PopupEditSessionItem from '../Components/PopupEditSessionItem';\nimport PopupAddAccompaniment from '../Components/PopupAddAccompaniment';\nimport PopupViewAccompaniment from '../Components/PopupViewAccompaniment';\nimport PopupAddReduction from '../Components/PopupAddReduction';\nimport PopupEditSession from '../Components/PopupEditSession';\nimport VerifyStatus from '../Components/VerifyStatus';\n\nclass GetOneSession extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sessionInfo: {},\n      sessionItem: [],\n\n      isLoading: true,\n      addMode: false,\n      editMode: false,\n      editSessionMode: false,\n      accompMode: false,\n      accompViewMode: false,\n      reductionMode: false,\n      error: false,\n    };\n\n    this.idSession = this.props.match.params.idSession;\n    document.title = \"Le Consulat - Sessions\";\n  }\n\n  async componentDidMount() {\n    await getOneSession(this.idSession, Cookies.get('token'))\n      .then(async (data) => {\n        if (data.find) {\n          await getItemOfOneSession(this.idSession, Cookies.get('token'))\n            .then(res2 => {\n              if (res2.find) {\n                this.setState({ isLoading: false, error: false, sessionInfo: data.result[0], sessionItem: res2.result });\n              } else {\n                this.setState({ isLoading: false, error: true, sessionInfo: [], sessionItem: {} });\n              }\n            })\n            .catch(() => {\n              this.setState({ isLoading: false, error: true, sessionInfo: [], sessionItem: {} });\n            });\n        } else {\n          this.setState({ isLoading: false, error: true, sessionInfo: [], sessionItem: {} });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: true, sessionInfo: [], sessionItem: {} });\n      });\n  }\n\n  _updateItem = (info) => {\n    this.editInfo = info;\n    this.setState({ editMode: true });\n  }\n\n  _addAccompaniment = (info) => {\n    this.accompInfo = info;\n    this.setState({ accompMode: true });\n  }\n\n  _viewAccompaniment = (info) => {\n    this.accompViewInfo = info;\n    this.setState({ accompViewMode: true });\n  }\n\n  _deleteItem = (info) => {\n    console.log('====================================');\n    console.log(info);\n    console.log('====================================');\n    if (window.confirm('Êtes vous sûre de vouloir supprimer cet élément?')) {\n      deleteItem(Cookies.get('token'), info.idSession, info.idSessionsItem)\n        .then(res => {\n          console.log('====================================');\n          console.log(res);\n          console.log('====================================');\n          if (res.delete) {\n            window.location.reload();\n          } else if (res.invalidToken) {\n            Cookies.remove('token');\n            Cookies.remove('idUser');\n      \n            window.location.href = '/application/';\n          } else {\n            alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n          }\n        })\n        .catch(() => {\n          alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n        });\n    }\n  }\n\n  _displayItem = () => {\n    if (this.state.sessionItem.length < 1) {\n      return <em>Aucun élément</em>;\n    } else {\n      let arrayElement = [];\n      if (this.state.sessionInfo.wasOver === 1) {\n        for (let index in this.state.sessionItem) {\n          arrayElement.push(\n            <ListGroup.Item style={{ fontSize: 13.5 }}>\n              <h4 style={{ marginBottom: -1 }}>{this.state.sessionItem[index].nameOfProduct}</h4>\n              Quantité: {this.state.sessionItem[index].quantity}<br />\n              Prix: {this.state.sessionItem[index].price}$<br />\n              Total: {this.state.sessionItem[index].quantity * this.state.sessionItem[index].price}$<br />\n              <a href='#' onClick={() => { this._addAccompaniment(this.state.sessionItem[index]) }}>Ajouter un accompagnement</a><br />\n              <a href='#' onClick={() => { this._viewAccompaniment(this.state.sessionItem[index]) }}>Voir les accompagnements</a>\n            </ListGroup.Item>\n          );\n        }\n      } else {\n        for (let index in this.state.sessionItem) {\n          arrayElement.push(\n            <ListGroup.Item style={{ fontSize: 13.5 }}>\n              <h4 style={{ marginBottom: -1 }}>{this.state.sessionItem[index].nameOfProduct} <a style={{ fontSize: 18 }} href='#' onClick={() => { this._updateItem(this.state.sessionItem[index]) }}>Modifier</a> <a style={{ fontSize: 18 }} onClick={() => { this._deleteItem(this.state.sessionItem[index]) }} href='#'>Supprimer</a></h4>\n              Quantité: {this.state.sessionItem[index].quantity}<br />\n              Prix: {this.state.sessionItem[index].price}$<br />\n              Total: {this.state.sessionItem[index].quantity * this.state.sessionItem[index].price}$<br />\n              <a href='#' onClick={() => { this._addAccompaniment(this.state.sessionItem[index]) }}>Ajouter un accompagnement</a><br />\n              <a href='#' onClick={() => { this._viewAccompaniment(this.state.sessionItem[index]) }}>Voir les accompagnements</a>\n            </ListGroup.Item>\n          );\n        }\n      }\n      return arrayElement;\n    }\n  };\n\n  _addItem = () => {\n    this.setState({ addMode: true });\n  };\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false, accompMode: false, accompViewMode: false, reductionMode: false, editSessionMode: false, });\n  }\n\n  _finish = () => {\n    finishSession(Cookies.get('token'), this.idSession)\n      .then(res => {\n        if (res.update) {\n          window.location.reload();\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n      });\n  }\n\n  _finishAndPay = () => {\n    finishAndPaySession(Cookies.get('token'), this.idSession)\n      .then(res => {\n        if (res.update) {\n          window.location.reload();\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n      });\n  }\n\n  _pay = () => {\n    paySession(Cookies.get('token'), this.idSession)\n      .then(res => {\n        if (res.update) {\n          window.location.reload();\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n      });\n  }\n\n  _addReduction = () => {\n    this.setState({ reductionMode: true });\n  };\n\n  _reductionToZero = () => {\n    reductionToZero(Cookies.get('token'), this.idSession)\n    .then(res => {\n      if (res.update) {\n        window.location.reload();\n      } else if (res.invalidToken) {\n        Cookies.remove('token');\n        Cookies.remove('idUser');\n  \n        window.location.href = '/application/';\n      } else {\n        alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n      }\n    })\n    .catch(() => {\n      alert('Une erreur a eu lieu lors de l\\'opération, réessayez ou contactez nous');\n    });\n  };\n\n  _editSession = () => {\n    this.setState({ editSessionMode: true });\n  }\n  \n  _displayButton = () => {\n    if (this.state.sessionInfo.wasOver === 1 && this.state.sessionInfo.beenPaid) {\n      return null;\n    } else if (this.state.sessionInfo.wasOver === 1) {\n      return <Button variant=\"warning\" onClick={this._pay}>Payée</Button>\n    } else {\n      return (\n        <>\n          <Button variant=\"danger\" onClick={this._finish}>Terminée</Button>{' '}\n          <Button variant=\"warning\" onClick={this._finishAndPay}>Terminée et payée</Button>{' '}\n          <Button variant=\"secondary\" onClick={this._editSession}>Modifier</Button>{' '}\n          <Button variant=\"primary\" onClick={this._addReduction}>{this.state.sessionInfo.reduction >= 0 ? 'Ajouter une réduction' : 'Modifier la réduction'}</Button>\n          {' '}{this.state.sessionInfo.reduction > 0 ? <Button variant=\"info\" onClick={this._reductionToZero}>Remettre la réduction à 0</Button> : null}\n        </>\n      )\n    }\n  }\n  \n  _displayButton2 = () => {\n    if (this.state.sessionInfo.wasOver === 1) {\n      return null;\n    } else {\n      return (\n        <Button variant='success' onClick={this._addItem}><i class=\"fas fa-plus-circle\"></i> Ajouter un élément</Button>\n      )\n    }\n  }\n\n  _displayIframe = () => {\n    if (this.state.sessionInfo.wasOver === 1) {\n      // return <object data={this.state.sessionInfo.invoiceUrl.replace('http', 'https')} type=\"application/pdf\" width=\"50%\" height=\"500px\"><embed src={this.state.sessionInfo.invoiceUrl.replace('http', 'https')} type=\"application/pdf\" /></object>\n      return <a href={this.state.sessionInfo.invoiceUrl.replace('http', 'https')} target=\"_blank\">Voir la facture</a>;\n    }\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Session</h1>\n            <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n          </Container>\n        </>\n      );\n    } else if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Session</h1>\n            <em>Une erreur a eu lieu, réessayez ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      const sessionInfo = this.state.sessionInfo;\n      let now = moment.unix(parseInt(sessionInfo.timestamp));\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Session</h1>\n            {this._displayIframe()}<br />\n            {this._displayButton()}\n            <h2>Information sur la session</h2>\n            <table>\n              <tr>\n                <td><b>Clients: </b></td>\n                <td>{sessionInfo.nameOfClient}</td>\n              </tr>\n              <tr>\n                <td><b>Serveur/Serveuse: </b></td>\n                <td>{sessionInfo.nameOfServer}</td>\n              </tr>\n              <tr>\n                <td><b>Utilisateur: </b></td>\n                <td>{sessionInfo.nameOfUser}</td>\n              </tr>\n              <tr>\n                <td><b>Date: </b></td>\n                <td>{now.format('DD/MM/yyyy [à] HH:mm')}</td>\n              </tr>\n              <tr>\n                <td><b>Total sans réduction: </b></td>\n                <td>{sessionInfo.total}$</td>\n              </tr>\n              <tr>\n                <td><b>Réduction: </b></td>\n                <td>{sessionInfo.reduction}$</td>\n              </tr>\n              <tr>\n                <td><b>Total: </b></td>\n                <td>{sessionInfo.total - sessionInfo.reduction}$</td>\n              </tr>\n            </table>\n            <br />\n            <h2>Élement de la session</h2>\n            <ListGroup style={{ width: '25rem' }}>\n              {this._displayButton2()}\n              {this._displayItem()}\n            </ListGroup>\n            {this.state.addMode ? <PopupAddSessionItem idSession={this.idSession} callback={this._onClose} /> : null}\n            {this.state.editMode ? <PopupEditSessionItem data={this.editInfo} callback={this._onClose} /> : null}\n            {this.state.accompMode ? <PopupAddAccompaniment data={this.accompInfo} callback={this._onClose} /> : null}\n            {this.state.accompViewMode ? <PopupViewAccompaniment data={this.accompViewInfo} callback={this._onClose} /> : null}\n            {this.state.reductionMode ? <PopupAddReduction idSession={this.state.sessionInfo.idSession} default={this.state.sessionInfo.reduction} callback={this._onClose} /> : null}\n            {this.state.editSessionMode ? <PopupEditSession data={this.state.sessionInfo} callback={this._onClose} /> : null}\n            <VerifyStatus />\n          </Container>\n        </>\n      );\n    }\n  }\n}\n\nexport default GetOneSession;","import React from 'react';\nimport { Spinner, Card, Button } from \"react-bootstrap\";\nimport { getInProgress } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport _ from 'lodash';\nimport { getOneClient } from '../Services/clients';\nimport moment from 'moment';\n\nclass SessionsInProgressList extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      sessions: [],\n      isLoading: true,\n      error: false,\n    };\n  }\n\n  async componentDidMount() {\n    var until= []\n    await getInProgress(Cookies.get('token'))\n      .then(async data => {\n        if (data.find) {\n          this.setState({ sessions: data.result, isLoading: false, error: false });\n        } else {\n          this.setState({ sessions: [], isLoading: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ sessions: [], isLoading: false, error: true });\n      });\n  }\n\n  _displayCards = () => {\n    if (this.state.sessions.length < 1) {\n      return <em>Aucune session en cours</em>;\n    } else {\n      let arrayElement = [];\n      for (let index in this.state.sessions) {\n        let now = moment.unix(parseInt(this.state.sessions[index].timestamp));\n        arrayElement.push(\n          <Card className=\"col-12 col-lg-3\">\n            <Card.Body>\n              <Card.Title>{this.state.sessions[index].nameOfClient}</Card.Title>\n              <Card.Text>\n                Utilisateur: {this.state.sessions[index].nameOfUser}<br />\n                  Date: {now.format('DD/MM/yyyy [à] HH:mm')}<br />\n                  Total sans réduction: {this.state.sessions[index].total}$<br />\n                  Reduction: {this.state.sessions[index].reduction}$<br />\n                  Total: {this.state.sessions[index].total - this.state.sessions[index].reduction}$<br />\n              </Card.Text>\n              <Button variant=\"primary\" onClick={() => { window.location.href = `/application/sessions/get/${this.state.sessions[index].idSession}`; }}>Voir plus <i class=\"fas fa-arrow-right\"></i></Button>\n            </Card.Body>\n          </Card>\n        );\n      }\n      return arrayElement;\n    }\n  };\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n      );\n    } else if (this.state.error) {\n      return <em>Nous sommes désolé mais une erreur a eu lieu, réessayez ou contactez-nous</em>;\n    } else {\n      return <div className='row'>\n        {this._displayCards()}\n      </div>;\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {this._display()}\n      </>\n    );\n  }\n}\n\nexport default SessionsInProgressList;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport Cookies from 'js-cookie';\nimport ClientsList from './ClientsList';\nimport { startSession } from '../Services/sessions';\n\nclass PopupAddSession extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idClient: '',\n      server: 'CHRISTELLE',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeStock: false,\n      clientNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdClient = (newClient) => {\n    this.setState({ idClient: newClient.value });\n  }\n\n  _handleServer = ({ target }) => {\n    this.setState({ server: target.value });\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n\n    const toSend = this.state.idClient === 'Inconnu' ? {\n      nameOfServer: this.state.server,\n    } : {\n      idClient: this.state.idClient,\n      nameOfServer: this.state.server,\n    };\n\n    startSession(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, clientNotFound: false, negativeStock: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, clientNotFound: false, negativeStock: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.clientNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: true, negativeStock: false, error: false });\n        } else if (res.negativeStock) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, clientNotFound: false, negativeStock: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Session commencée avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.clientNotFound) {\n      return <Alert variant=\"warning\">Le client choisit n'a pas été trouvé</Alert>;\n    } else if (this.state.negativeStock) {\n      return <Alert variant=\"warning\">Le stock sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  _displayButton = () => {\n    if (this.state.server.length > 0 && this.state.server.length <= 75 && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Commencer une session</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Client: </Form.Label>\n            <ClientsList onChange={this._handleIdClient} />\n          </Form.Group>\n          <Form.Group controlId=\"nameOfServer\">\n            <Form.Label>Nom du serveur/serveuse: </Form.Label>\n            <select onChange={this._handleServer} id=\"nameOfServer\" className=\"form-control\">\n              <option value='CHRISTELLE' selected>CHRISTELLE</option>\n              <option value='NDAYA CHRISTELLE'>NDAYA CHRISTELLE</option>\n              <option value='EXAUCÉE'>EXAUCÉE</option>\n              <option value='SANDRA'>SANDRA</option>\n              <option value='FANNY'>FANNY</option>\n              <option value='PATIENT'>PATIENT</option>\n              <option value='GRACIA'>GRACIA</option>\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddSession;","import React from 'react';\nimport { Container, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport SessionsInProgressList from '../Components/SessionsInProgressList';\nimport PopupAddSession from '../Components/PopupAddSession';\nimport VerifyStatus from '../Components/VerifyStatus';\n\nclass SessionsInProgress extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      addMode: false,\n    };\n    document.title = \"Le Consulat - Sessions\";\n  }\n\n  _addSession = () => {\n    this.setState({ addMode: true });\n  };\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Sessions en cours</h1>\n          <Button variant='success' onClick={this._addSession}><i class=\"fas fa-plus-circle\"></i> Commencer une nouvelle session</Button>\n          <br /><br />\n          <SessionsInProgressList />\n          <VerifyStatus />\n        </Container>\n        {this.state.addMode ? <PopupAddSession callback={this._onClose} /> : null}\n      </>\n    );\n  }\n}\n\nexport default SessionsInProgress;","import React from 'react';\nimport { Spinner, Card, Button } from \"react-bootstrap\";\nimport { getNotPaid } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport _ from 'underscore';\nimport { getOneClient } from '../Services/clients';\nimport moment from 'moment';\n\nclass SessionsNotPaidList extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      sessions: [],\n      isLoading: true,\n      error: false,\n    };\n  }\n\n  async componentDidMount() {\n    var until= []\n    await getNotPaid(Cookies.get('token'))\n      .then(async data => {\n        if (data.find) {\n          this.setState({ sessions: data.result, isLoading: false, error: false });\n        } else {\n          this.setState({ sessions: [], isLoading: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ sessions: [], isLoading: false, error: true });\n      });\n  }\n\n  _displayCards = () => {\n    if (this.state.sessions.length < 1) {\n      return <em>Aucune session trouvée</em>;\n    } else {\n      let arrayElement = [];\n      for (let index in this.state.sessions) {\n        let now = moment.unix(parseInt(this.state.sessions[index].timestamp));\n        arrayElement.push(\n          <Card className=\"col-12 col-lg-3\">\n            <Card.Body>\n              <Card.Title>{this.state.sessions[index].nameOfClient}</Card.Title>\n              <Card.Text>\n                Utilisateur: {this.state.sessions[index].nameOfUser}<br />\n                Date: {now.format('DD/MM/yyyy [à] HH:mm')}<br />\n                Total sans réduction: {this.state.sessions[index].total}$<br />\n                Reduction: {this.state.sessions[index].reduction}$<br />\n                Total: {this.state.sessions[index].total - this.state.sessions[index].reduction}$<br />\n              </Card.Text>\n              <Button variant=\"primary\" onClick={() => { window.location.href = `/application/sessions/get/${this.state.sessions[index].idSession}`; }}>Voir plus <i class=\"fas fa-arrow-right\"></i></Button>\n            </Card.Body>\n          </Card>\n        );\n      }\n      return arrayElement;\n    }\n  };\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n      );\n    } else if (this.state.error) {\n      return <em>Nous sommes désolé mais une erreur a eu lieu, réessayez ou contactez-nous</em>;\n    } else {\n      return this._displayCards();\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {this._display()}\n      </>\n    );\n  }\n}\n\nexport default SessionsNotPaidList;","import React from 'react';\nimport { Container, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport SessionsNotPaidList from '../Components/SessionsNotPaidList';\n\nclass SessionsNotPaid extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = \"Le Consulat - Sessions\";\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Sessions non payé</h1>\n          <SessionsNotPaidList />\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default SessionsNotPaid;","import React from 'react';\nimport _ from 'lodash';\n\nconst Recipe = (props) => {\n  if (props.show) {\n    return (\n      <h4>Recette des ventes: {_.isNull(props.recipe) ? '0$' : `${props.recipe}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Recipe;","import React from 'react';\nimport _ from 'lodash';\n\nconst Recipe = (props) => {\n  if (props.show) {\n    return (\n      <h4>Recette total: {_.isNull(props.recipe) ? '0$' : `${props.recipe}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Recipe;","import React from 'react';\nimport _ from 'lodash';\n\nconst Recipe = (props) => {\n  if (props.show) {\n    return (\n      <h4>Dépenses: {_.isNull(props.recipe) ? '0$' : `${props.recipe}$` }</h4>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Recipe;","import React from 'react';\nimport MaterialTable from \"material-table\";\n\nconst TableProductsSell = (props) => {\n  const columns = [\n    {\n      title: \"Nom\",\n      field: \"nameOfProduct\",\n    },\n    {\n      title: \"Quantité\",\n      field: \"quantity\",\n    },\n    {\n      title: \"Prix\",\n      field: \"price\",\n    },\n    {\n      title: \"Total\",\n      field: \"total\",\n    },\n  ];\n  if (props.show) {\n    return (\n      <MaterialTable\n        title='Produit vendus'\n        data={props.data}\n        columns={columns}\n        options={{\n          search: true,\n          paging: false,\n          filtering: true,\n          exportButton: true,\n        }}\n        isLoading={false}\n      />\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default TableProductsSell;","import React from 'react';\nimport MaterialTable from \"material-table\";\n\nconst TableClientsReport = (props) => {\n  const columns = [\n    {\n      title: \"Client\",\n      field: \"nameOfClient\",\n    },\n    {\n      title: \"Total sans réduction\",\n      field: \"totalWithoutReduction\",\n    },\n    {\n      title: \"Reduction\",\n      field: \"reduction\",\n    },\n    {\n      title: \"Total\",\n      field: \"total\",\n    },\n    {\n      title: \"Facture\",\n      field: \"facture\",\n    },\n  ];\n  if (props.show) {\n    return (\n      <MaterialTable\n        title='Clients présents'\n        data={props.data}\n        columns={columns}\n        options={{\n          search: true,\n          paging: false,\n          filtering: true,\n          exportButton: true,\n        }}\n        isLoading={false}\n      />\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default TableClientsReport;","import React from 'react';\nimport MaterialTable from \"material-table\";\n\nconst TableExpensivesTransactions = (props) => {\n  const columns = [\n    {\n      title: \"Categorie\",\n      field: \"nameOfCategory\",\n    },\n    {\n      title: \"Montant\",\n      field: \"outlet\",\n    },\n    {\n      title: \"Libellé\",\n      field: \"description\",\n    },\n  ];\n  if (props.show) {\n    return (\n      <MaterialTable\n        title='Transactions de dépense'\n        data={props.data}\n        columns={columns}\n        options={{\n          search: true,\n          paging: false,\n          filtering: true,\n          exportButton: true,\n        }}\n        isLoading={false}\n      />\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default TableExpensivesTransactions;","import React from 'react';\nimport MaterialTable from \"material-table\";\n\nconst TableWaiter = (props) => {\n  const columns = [\n    {\n      title: \"Serveur\",\n      field: \"name\",\n    },\n    {\n      title: \"Total monétaire (en $)\",\n      field: \"money\",\n    },\n    {\n      title: \"Total (en nombre)\",\n      field: \"nbrOfSession\",\n    },\n  ];\n  if (props.show) {\n    return (\n      <MaterialTable\n        title='Service serveur(euses)'\n        data={props.data}\n        columns={columns}\n        options={{\n          search: true,\n          paging: false,\n          filtering: true,\n          exportButton: true,\n        }}\n        isLoading={false}\n      />\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default TableWaiter;","import React from 'react';\nimport { Container, Spinner, Accordion, Card, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport DatePicker from \"react-datepicker\"; \nimport _ from 'lodash';\nimport moment from 'moment';\nimport { getReport } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport Recipe from '../Components/Recipe';\nimport AllRecipe from '../Components/AllRecipe';\nimport Expenses from '../Components/Expenses';\nimport TableProductsSell from '../Components/TableProductsSell';\nimport TableClientsReport from '../Components/TableClientsReport';\nimport TableExpensivesTransactions from '../Components/TableExpensivesTransactions';\nimport TableWaiter from '../Components/TableWaiter';\n\nclass SessionsReport extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = \"Le Consulat - Rapport\";\n    this.state = {\n      info: [],\n      date: null,\n      timestamp: null,\n      isLoading: true,\n      error: false,\n    }\n  }\n\n  _didMount = () => {\n    getReport(Cookies.get('token'), this.state.timestamp)\n      .then(data => {\n\t\t\t\tif (data.find) {\n\t\t\t\t\tlet until = [];\n\t\t\t\t\tlet until2 = [];\n\t\t\t\t\tfor (let index in data.productsSell) {\n\t\t\t\t\t\tuntil.push({\n\t\t\t\t\t\t\t...data.productsSell[index],\n\t\t\t\t\t\t\ttotal: `${data.productsSell[index].price * data.productsSell[index].quantity}$`,\n\t\t\t\t\t\t\tprice: `${data.productsSell[index].price}$`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tfor (let index in data.sessions) {\n\t\t\t\t\t\tuntil2.push({\n\t\t\t\t\t\t\t...data.sessions[index],\n\t\t\t\t\t\t\ttotal: `${data.sessions[index].total - data.sessions[index].reduction}$`,\n\t\t\t\t\t\t\treduction: `${data.sessions[index].reduction}$`,\n\t\t\t\t\t\t\tfacture: !_.isNull(data.sessions[index].invoiceUrl) ? <a href={data.sessions[index].invoiceUrl} target=\"_blank\">Voir <i className=\"fas fa-external-link-alt\"></i></a> : 'Aucune facture disponible',\n\t\t\t\t\t\t\ttotalWithoutReduction: `${data.sessions[index].total}$`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ error: false, isLoading: false, info: { ...data, productsSell: until, sessions: until2, } });\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ error: true });\n\t\t\t\t}\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      })\n  };\n\n  _handleDate = (date) => {\n  \tconst now = moment(date);\n    this.setState({ date: date, timestamp: now.unix() }, this._didMount);\n  }\n\n  _displaySpinner = () => {\n\t\treturn this.state.isLoading ? <div style={{ textAlign: 'center' }}><Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner></div> : null;\n  }\n\n  render() {\n\t\tif (this.state.error) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<h1>Rapport d'un jour</h1>\n\t\t\t\t\t\tSélectionnez un jour: <DatePicker\n\t\t\t\t\t\t\tselected={this.state.date}\n\t\t\t\t\t\t\tdateFormat='dd/MM/yyyy'\n\t\t\t\t\t\t\tonChange={this._handleDate}\n\t\t\t\t\t\t\twithPortal\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<hr style={{ backgroundColor: 'black', height: 1.5, width: '85%' }} />\n\t\t\t\t\t\tUne erreur eu lieu, réessayez ou contactez-nous\n\t\t\t\t\t</Container>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<h1>Rapport d'un jour</h1>\n\t\t\t\t\t\tSélectionnez un jour: <DatePicker\n\t\t\t\t\t\t\tselected={this.state.date}\n\t\t\t\t\t\t\tdateFormat='dd/MM/yyyy'\n\t\t\t\t\t\t\tonChange={this._handleDate}\n\t\t\t\t\t\t\twithPortal\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<hr style={{ backgroundColor: 'black', height: 1.5, width: '85%' }} />\n\t\t\t\t\t\t{this._displaySpinner()}\n\t\t\t\t\t\t<Recipe show={!this.state.isLoading} recipe={this.state.info.recipe} />\n\t\t\t\t\t\t<Expenses show={!this.state.isLoading} recipe={Number(this.state.info.expenses).toFixed(4)} />\n\t\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Produits vendus</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t<TableProductsSell show={!this.state.isLoading} data={this.state.info.productsSell} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Sessions</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<TableClientsReport show={!this.state.isLoading} data={this.state.info.sessions} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Transactions de dépense</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"2\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"2\">\n\t\t\t\t\t\t\t\t\t<TableExpensivesTransactions show={!this.state.isLoading} data={this.state.info.expensesTransactions} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Service des serveurs(euses)</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"3\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"3\">\n\t\t\t\t\t\t\t\t\t<TableWaiter show={!this.state.isLoading} data={this.state.info.server} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Container>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n  }\n}\n\nexport default SessionsReport;","import React from 'react';\nimport { Container, Spinner, Accordion, Card, Button } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport DatePicker from \"react-datepicker\"; \nimport _ from 'lodash';\nimport moment from 'moment';\nimport { getReportPeriod } from '../Services/sessions';\nimport Cookies from 'js-cookie';\nimport Recipe from '../Components/Recipe';\nimport AllRecipe from '../Components/AllRecipe';\nimport Expenses from '../Components/Expenses';\nimport TableProductsSell from '../Components/TableProductsSell';\nimport TableClientsReport from '../Components/TableClientsReport';\nimport TableExpensivesTransactions from '../Components/TableExpensivesTransactions';\n\nclass SessionsReportPeriod extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = \"Le Consulat - Rapport\";\n    this.state = {\n      info: [],\n      end: null,\n      begin: null,\n      isLoading: true,\n      error: false,\n    }\n    this.beginInTimestamp= null;\n    this.endInTimestamp= null;\n  }\n\n  _didMount = () => {\n    getReportPeriod(Cookies.get('token'), this.beginInTimestamp, this.endInTimestamp)\n      .then(data => {\n\t\t\t\tif (data.find) {\n\t\t\t\t\tlet until = [];\n\t\t\t\t\tlet until2 = [];\n\t\t\t\t\tfor (let index in data.productsSell) {\n\t\t\t\t\t\tuntil.push({\n\t\t\t\t\t\t\t...data.productsSell[index],\n\t\t\t\t\t\t\ttotal: `${data.productsSell[index].price * data.productsSell[index].quantity}$`,\n\t\t\t\t\t\t\tprice: `${data.productsSell[index].price}$`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tfor (let index in data.sessions) {\n\t\t\t\t\t\tuntil2.push({\n\t\t\t\t\t\t\t...data.sessions[index],\n\t\t\t\t\t\t\ttotal: `${data.sessions[index].total - data.sessions[index].reduction}$`,\n\t\t\t\t\t\t\treduction: `${data.sessions[index].reduction}$`,\n\t\t\t\t\t\t\tfacture: !_.isNull(data.sessions[index].invoiceUrl) ? <a href={data.sessions[index].invoiceUrl} target=\"_blank\">Voir <i className=\"fas fa-external-link-alt\"></i></a> : 'Aucune facture disponible',\n\t\t\t\t\t\t\ttotalWithoutReduction: `${data.sessions[index].total}$`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ error: false, isLoading: false, info: { ...data, productsSell: until, sessions: until2, } });\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ error: true });\n\t\t\t\t}\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      })\n  };\n\n  _handleBegin = (date) => {\n    this.setState({ isLoading: true, begin: date }, () => {\n      const now = moment(date);\n      this.beginInTimestamp= now.unix();\n      if (!_.isNull(this.state.end)) {\n        this._didMount();\n      }\n    })\n  }\n\n  _handleEnd = (date) => {\n    this.setState({ isLoading: true, end: date }, () => {\n      const now = moment(date);\n      this.endInTimestamp= now.unix();\n      if (!_.isNull(this.state.begin)) {\n        this._didMount();\n      }\n    });\n  }\n\n  _displaySpinner = () => {\n\t\treturn this.state.isLoading ? <div style={{ textAlign: 'center' }}><Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner></div> : null;\n  }\n\n  render() {\n\t\tif (this.state.error) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<h1>Rapport d'une période</h1>\n\t\t\t\t\t\tSélectionnez une période: du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n            {' '}au{' '}\n            <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n\t\t\t\t\t\t<hr style={{ backgroundColor: 'black', height: 1.5, width: '85%' }} />\n\t\t\t\t\t\tUne erreur eu lieu, réessayez ou contactez-nous\n\t\t\t\t\t</Container>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<h1>Rapport d'une période</h1>\n\t\t\t\t\t\tSélectionnez une période: du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n            {' '}au{' '}\n            <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n\t\t\t\t\t\t<hr style={{ backgroundColor: 'black', height: 1.5, width: '85%' }} />\n\t\t\t\t\t\t{this._displaySpinner()}\n\t\t\t\t\t\t<Recipe show={!this.state.isLoading} recipe={this.state.info.recipe} />\n\t\t\t\t\t\t<AllRecipe show={!this.state.isLoading} recipe={this.state.info.allRecipe} />\n\t\t\t\t\t\t<Expenses show={!this.state.isLoading} recipe={this.state.info.expenses} />\n\t\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Produits vendus</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t<TableProductsSell show={!this.state.isLoading} data={this.state.info.productsSell} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Sessions</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t<TableClientsReport show={!this.state.isLoading} data={this.state.info.sessions} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\n\t\t\t\t\t\t\t\t\t\t<h4 style={{ display: 'inline' }}>Transactions de dépense</h4>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"primary\" eventKey=\"2\">\n\t\t\t\t\t\t\t\t\t\t\tOuvrir&nbsp;&nbsp;<i class=\"fas fa-chevron-down\"></i>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"2\">\n\t\t\t\t\t\t\t\t\t<TableExpensivesTransactions show={!this.state.isLoading} data={this.state.info.expensesTransactions} />\n\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Container>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n  }\n}\n\nexport default SessionsReportPeriod;","import url from './url';\n\nexport function getAllCategories(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/money-transactions/category`, init)\n    .then(res => res.json());\n}\n\nexport function addCategory(toSend, token) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  return fetch(`${url}/money-transactions/category`, init)\n    .then(res => res.json());\n}\n\nexport function updateCategory(toSend, idCategory, token) {\n  const init = {\n    method: \"PUT\",\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      \"Content-Type\": \"application/json; charset=UTF-8\"\n    })\n  };\n\n  return fetch(`${url}/money-transactions/category/${idCategory}`, init)\n    .then(res => res.json());\n} \n\nexport function addTransaction(toSend, token, type) {\n  const init = {\n    method: 'POST',\n    body: JSON.stringify(toSend),\n    headers: new Headers({\n      'Authorization': 'Bearer ' + token,\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    })\n  };\n  if (type === 'enter') {\n    return fetch(`${url}/money-transactions/enter`, init)\n      .then(res => res.json());\n  } else if (type === 'outlet') {\n    return fetch(`${url}/money-transactions/outlet`, init)\n      .then(res => res.json());\n  }\n}\n\nexport function getTransactions(token, begin, end) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/money-transactions/transactions/begin/${begin}/end/${end}`, init)\n    .then(res => res.json());\n}\n\nexport function getMPCategoriesEnter(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/money-transactions/category/most-popular/enter`, init)\n    .then(res => res.json());\n}\n\nexport function getMPCategoriesOutlet(token) {\n  const init = {\n    method: \"GET\",\n    headers: new Headers({\n      'Authorization': 'Bearer '+token, \n      'Content-Type': 'application/x-www-form-urlencoded'\n    })\n  };\n\n  return fetch(`${url}/money-transactions/category/most-popular/outlet`, init)\n    .then(res => res.json());\n}","import React from 'react';\nimport { getAllCategories } from '../Services/guichet';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport Select from 'react-select';\nimport _ from 'lodash';\n\nclass CategoriesList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categories: [], \n      categoriesToShow: [], \n      isLoading: true,\n    };\n  }\n\n  async componentDidMount() {\n    let until = [];\n    await getAllCategories(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          for (let index in data.result) {\n            until.push({ value: data.result[index].idCategory, label: data.result[index].name, type: data.result[index].type });\n          }\n          this.setState({ isLoading: false, categories: until }, () => {\n            const until = _.filter(this.state.categories, (o) =>  o.type === this.props.type);\n            this.setState({ categoriesToShow: until });\n          });\n        } else {\n          alert('Une erreur eu lieu, réessayez ou contactez-nous');\n        }\n      })\n      .catch(() => {\n        alert('Une erreur eu lieu, réessayez ou contactez-nous');\n      });\n  }\n\n  _handle = (event) => {\n    this.props.onChange(event.value);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.type !== prevProps.type) {\n      const until = _.filter(this.state.categories, (o) =>  o.type === this.props.type);\n      this.setState({ categoriesToShow: until });\n    }\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n    } else {\n      if (this.state.categories.length < 1) {\n        alert(\"Vous n'avez aucune catégorie commencez par en ajouter un\");\n        window.location.reload();\n      } else {\n        return this.props.default ? <Select defaultValue={this.props.default} options={this.state.categoriesToShow} onChange={this._handle}  /> : <Select options={this.state.categoriesToShow} onChange={this._handle} />;\n      }\n    }\n  }\n}\n\nexport default CategoriesList;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport CategoriesList from './CategoriesList';\nimport { addTransaction } from '../Services/guichet';\n\nclass PopupAddMoneyTransactions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      idCategory: '',\n      type: 'enter',\n      amount: 1,\n      description: '',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      negativeMoney: false,\n      productNotFound: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleIdCategory = (newProduct) => {\n    this.setState({ idCategory: newProduct });\n  }\n\n  _handleAmount = (event) => {\n    this.setState({ amount: event.target.value });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _handleDescription = (event) => {\n    this.setState({ description: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.description.length >= 2 && this.state.description.length <= 90 && _.isString(this.state.description)) && _.isNumber(Number(this.state.amount)) && _.isNumber(this.state.idCategory) && !this.state.isLoading) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = { \n      amount: Number(this.state.amount),\n      description: this.state.description,\n      idCategory: this.state.idCategory,\n    };\n\n    addTransaction(toSend, Cookies.get('token'), this.state.type)\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, productNotFound: false, negativeMoney: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, productNotFound: false, negativeMoney: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else if (res.productNotFound) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: true, negativeMoney: false, error: false });\n        } else if (res.negativeMoney) {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeMoney: true, error: false });\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeMoney: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, productNotFound: false, negativeMoney: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Transaction ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.negativeMoney) {\n      return <Alert variant=\"warning\">Le montant sera négatif si vous faites la transaction</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une entrée</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Catégorie: </Form.Label>\n            <CategoriesList onChange={this._handleIdCategory} type={this.state.type} /> \n          </Form.Group>\n          <Form.Group controlId=\"amount\">\n            <Form.Label>Montant: </Form.Label>\n            <Form.Control\n              onChange={this._handleAmount}\n              value={this.state.amount}\n              type=\"number\"\n              placeholder=\"Le montant...\"\n              aria-label=\"amount\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select className=\"form-control\" onChange={this._handleType}>\n              <option value=\"enter\" selected>Entrée</option>\n              <option value=\"outlet\">Sortie</option>\n            </select>\n          </Form.Group>\n          <Form.Group controlId=\"description\">\n            <Form.Label>Libellé: </Form.Label>\n            <Form.Control\n              onChange={this._handleDescription}\n              value={this.state.description}\n              type=\"text\"\n              placeholder=\"Libellé de la transaction...\"\n              aria-label=\"description\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddMoneyTransactions;","import React from 'react';\nimport { Button, Container, Spinner } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport moment from 'moment';\nimport PopupAddMoneyTransactions from '../Components/PopupAddMoneyTransactions';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport DatePicker from \"react-datepicker\"; \nimport { getTransactions } from '../Services/guichet';\nimport Cookies from 'js-cookie';\nimport _ from 'lodash';\nimport MaterialTable from 'material-table';\n\nclass GuichetTransactions extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Transactions';\n\n    this.state = {\n      addMode: false,\n      isLoading: true,\n      data: null,\n      error: false,\n      end: null,\n      begin: null,\n    }\n    this.beginInTimestamp= null;\n    this.endInTimestamp= null;\n\n    this.columns = [\n      {\n        title: \"Catégorie\",\n        field: \"nameOfCategory\",\n      },\n      {\n        title: \"Entrée\",\n        field: \"enter\",\n      },\n      {\n        title: \"Sortie\",\n        field: \"outlet\",\n      },\n      {\n        title: \"Argent après\",\n        field: \"amountAfter\",\n      },\n      {\n        title: \"Date\",\n        field: \"date2\",\n      },\n      {\n        title: \"Libellé\",\n        field: \"description\",\n      },\n    ]\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true });\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false });\n  }\n\n  _didMount = () => {\n    getTransactions(Cookies.get('token'), this.beginInTimestamp, this.endInTimestamp)\n      .then((res) => {\n        if (res.find) {\n          let until = [];\n          for (let index in res.result.transaction) {\n            let now = moment.unix(parseInt(res.result.transaction[index].timestamp));\n            until.push({ ...res.result.transaction[index], date2: now.format('DD/MM/yyyy [à] HH:mm'), });\n          }\n          this.setState({ error: false, isLoading: false, data: {...res.result, transaction: until} });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      });\n  }\n\n  _handleBegin = (date) => {\n    this.setState({ isLoading: true, begin: date }, () => {\n      const now = moment(date);\n      this.beginInTimestamp= now.unix();\n      if (!_.isNull(this.state.end)) {\n        this._didMount();\n      }\n    })\n  }\n\n  _handleEnd = (date) => {\n    this.setState({ isLoading: true, end: date }, () => {\n      const now = moment(date);\n      this.endInTimestamp= now.unix();\n      if (!_.isNull(this.state.begin)) {\n        this._didMount();\n      }\n    });\n  }\n\n  _display = () => {\n    if (this.state.isLoading) {\n      return (\n        <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>\n      );\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu veuillez réessayez plus tard</em>\n    } else {\n      return (\n        <>\n          Montant au début: {this.state.data.begin.length > 0 ? this.state.data.begin[0].amountAfter : 0}$<br />\n          Montant à la fin: {this.state.data.end.length > 0 ? this.state.data.end[0].amountAfter : 0}$<br /><br />\n          \n          Total entrée: {this.state.data.sumEnter.length > 0 ? this.state.data.sumEnter[0].sumEnter : 0}$<br />\n          Total sortie: {this.state.data.sumOutlet.length > 0 ? this.state.data.sumOutlet[0].sumOutlet : 0}$<br />\n          <br />\n          <MaterialTable\n            title='Transactions monétaire'\n            data={this.state.data.transaction}\n            columns={this.columns}\n            options={{\n              search: true,\n              paging: true,\n              filtering: true,\n              exportButton: true,\n            }}\n            isLoading={this.state.isLoading}\n          />\n        </>\n      );\n    }\n  }\n\n  render() {\n    console.log(this.state);\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Transaction monétaire</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter une transaction</Button> <br /><br />\n          Les transactions  du <DatePicker selected={this.state.begin} dateFormat='dd/MM/yyyy' onChange={this._handleBegin} withPortal />\n          {' '}au{' '}\n          <DatePicker selected={this.state.end} dateFormat='dd/MM/yyyy' onChange={this._handleEnd} withPortal /><br />\n          {this._display()}\n          {this.state.addMode ? <PopupAddMoneyTransactions callback={this._onClose} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default GuichetTransactions;","import React from 'react';\nimport Cookies from 'js-cookie';\nimport MaterialTable from \"material-table\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport { getAllCategories } from '../Services/guichet';\n\nclass Tablecategories extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      categories: [],\n      isLoading: true,\n      error: false,\n    };\n\n    this.columns = [\n      {\n        title: \"Nom\",\n        field: \"name\",\n      },\n      {\n        title: \"Type\",\n        field: \"type2\",\n      },\n    ];\n  }\n\n  componentDidMount() {\n    getAllCategories(Cookies.get('token'))\n      .then(data => {\n        if (data.find) {\n          let until= [];\n          for (let index in data.result) {\n            until.push({ ...data.result[index], type2: this._adapt(data.result[index].type) });\n          }\n          this.setState({ categories: until, isLoading: false, error: false });\n        } else if (data.invalidToken) {\n          Cookies.remove('idUser');\n          Cookies.remove('token');\n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, error: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, error: false });\n      });\n  }\n\n  _adapt = (toAdapt) => {\n    return toAdapt === 'enter' ? \"Entrée\" : \"Sortie\";\n  }\n\n  _handleUpdate = (event, rowData) => {\n    let capture;\n    for (let index in this.state.categories) {\n      if (this.state.categories[index].idCategory === rowData.idCategory) {\n        capture= this.state.categories[index];\n      }\n    }\n    this.props.onUpdate(capture);\n  }\n\n  render() {\n    if (this.state.error) {\n      return <h2>Une erreur a eu leiu veuillez réessayer</h2>\n    } else {\n      return (\n        <MaterialTable\n          title='Liste des categories'\n          data={this.state.categories}\n          columns={this.columns}\n          options={{\n            search: true,\n            paging: false,\n            filtering: true,\n            exportButton: true,\n          }}\n          isLoading={this.state.isLoading}\n          actions={[\n            {\n              icon: () => <EditIcon htmlColor='#007bff' />,\n              tooltip: \"Modifier\",\n              onClick: this._handleUpdate,\n            },\n          ]}\n        />\n      );\n    }\n  }\n}\n\nexport default Tablecategories;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { addCategory } from '../Services/guichet';\n\nclass PopupAddClient extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: '',\n      type: 'enter',\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _handleType = (event) => {\n    this.setState({ type: event.target.value });\n  }\n\n  _displayButton = () => {\n    if ((this.state.type.length >= 2 && this.state.type.length <= 70 && _.isString(this.state.type) && (this.state.type === 'enter' || this.state.type === 'outlet')) && (_.isString(this.state.name) && this.state.name.length >= 2 && this.state.name.length <= 70 )) {\n      return <Button variant=\"success\" onClick={this._onClick}><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    } else {\n      return <Button variant=\"success\" disabled><i class=\"fas fa-plus-circle\"></i> Ajouter</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n      type: this.state.type,\n    };\n\n    addCategory(toSend, Cookies.get('token'))\n      .then(res => {\n        if (res.create) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Catégorie ajouté avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Ajouter une catégorie</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom de la catégorie...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          <Form.Group controlId=\"type\">\n            <Form.Label>Type: </Form.Label>\n            <select onChange={this._handleType} className=\"form-control\">\n              <option value=\"enter\" selected>Entrée</option>\n              <option value=\"outlet\">Sortie</option>\n            </select>\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupAddClient;","import React from 'react';\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\nimport _ from 'underscore';\nimport Cookies from 'js-cookie';\nimport { updateCategory } from '../Services/guichet';\n\nclass PopupEditCategories extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: true,\n\n      name: this.props.data.name,\n\n      isLoading: false,\n      success: false,\n      invalidForm: false,\n      error: false,\n    }\n  }\n\n  _handleClose = () => {\n    if (this.props.callback) {\n      this.props.callback();\n    } else {\n      this.setState({ show: false });\n    }\n  }\n\n  _handleName = (event) => {\n    this.setState({ name: event.target.value });\n  }\n\n  _displayButton = () => {\n    if (_.isString(this.state.name) && this.state.name.length >= 2 && this.state.name.length <= 70 ) {\n      return <Button variant=\"success\" onClick={this._onClick}>Confirmer</Button>\n    } else {\n      return <Button variant=\"success\" disabled>Confirmer</Button>\n    }\n  }\n\n  _onClick = (event) => {\n    event.preventDefault();\n\n    this.setState({ isLoading: true });\n\n    const toSend = {\n      name: this.state.name,\n    };\n\n    console.log(toSend);\n\n    updateCategory(toSend, this.props.data.idCategory, Cookies.get('token'))\n      .then(res => {\n        if (res.update) {\n          this.setState({ isLoading: false, success: true, invalidForm: false, existName: false, error: false });\n          setTimeout(() => {\n            window.location.reload();\n          }, 750);\n        } else if (res.invalidForm) {\n          this.setState({ isLoading: false, success: false, invalidForm: true, existName: false, error: false });\n        } else if (res.invalidToken) {\n          Cookies.remove('token');\n          Cookies.remove('idUser');\n    \n          window.location.href = '/application/';\n        } else {\n          this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ isLoading: false, success: false, invalidForm: false, existName: false, error: true });\n      });\n  }\n\n  _displayAlert = () => {\n    if (this.state.success) {\n      return <Alert variant=\"success\">Catégorie mdoifiée avec succès</Alert>;\n    } else if (this.state.invalidForm) {\n      return <Alert variant=\"warning\">Des champs ne sont pas valides</Alert>;\n    } else if (this.state.error) {\n      return <Alert variant=\"danger\">Une erreur a eu lieu, réessayer ou contactez-nous</Alert>;\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        show={this.state.show}\n        onHide={this._handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Modifier une catégorie</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ fontSize: 15 }}>\n          <Form.Group controlId=\"name\">\n            <Form.Label>Nom: </Form.Label>\n            <Form.Control\n              onChange={this._handleName}\n              value={this.state.name}\n              type=\"text\"\n              placeholder=\"Le nom de la catégorie...\"\n              aria-label=\"Nom\"\n              aria-describedby=\"btnSubmit\"\n            />\n          </Form.Group>\n          {this._displayAlert()}\n        </Modal.Body>\n        <Modal.Footer>\n          {this._displayButton()}\n          <Button variant=\"danger\" onClick={this._handleClose}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n  );\n  }\n}\n\nexport default PopupEditCategories;","import React from 'react';\nimport { getMPCategoriesEnter } from '../Services/guichet';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass PieMPCEnter extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      data: [],\n      error: false,\n    }\n  }\n\n  componentDidMount() {\n    const color = [\n      \"#838B8B\",\n      \"#668B8B\",\n      \"#2F4F4F\",\n    ]\n    getMPCategoriesEnter(Cookies.get('token'))\n      .then(res => {\n        if (res.find) {\n          const until = [];\n          for (let index in res.result) {\n            until.push({ title: res.result[index].nameOfCategory, value: res.result[index].value_occurrence, color: color[index] });\n          }\n          this.setState({ error: false, isLoading: false, data: until });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      })\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) { \n      return <em>Une erreur a eu lieu réesayez ou contactez-nous</em>\n    } else {\n      return (\n        <PieChart\n          data={this.state.data}\n          labelStyle={{\n            fill: '#fff',\n            opacity: 0.75,\n            pointerEvents: 'none',\n            fontSize: \"25%\",\n          }}\n          labelPosition={50}\n          label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n        />\n      );\n    }\n  }\n}\n\nexport default PieMPCEnter;","import React from 'react';\nimport { getMPCategoriesOutlet } from '../Services/guichet';\nimport Cookies from 'js-cookie';\nimport { Spinner } from 'react-bootstrap';\nimport { PieChart } from 'react-minimal-pie-chart';\n\nclass PieMPCOutlet extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      data: [],\n      error: false,\n    }\n  }\n\n  componentDidMount() {\n    const color = [\n      \"#838B8B\",\n      \"#668B8B\",\n      \"#2F4F4F\",\n    ]\n    getMPCategoriesOutlet(Cookies.get('token'))\n      .then(res => {\n        if (res.find) {\n          const until = [];\n          for (let index in res.result) {\n            until.push({ title: res.result[index].nameOfCategory, value: res.result[index].value_occurrence, color: color[index] });\n          }\n          this.setState({ error: false, isLoading: false, data: until });\n        } else {\n          this.setState({ error: true, isLoading: false });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true, isLoading: false });\n      })\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Spinner animation=\"border\" role=\"status\"><span className=\"sr-only\">Loading...</span></Spinner>;\n    } else if (this.state.error) {\n      return <em>Une erreur a eu lieu réesayez ou contactez-nous</em>\n    } else {\n      return (\n        <PieChart\n          data={this.state.data}\n          labelStyle={{\n            fill: '#fff',\n            opacity: 0.75,\n            pointerEvents: 'none',\n            fontSize: \"25%\",\n          }}\n          labelPosition={50}\n          label={({ dataEntry }) => dataEntry.title + \" \" + Math.round(dataEntry.percentage) + '%'}\n        />\n      );\n    }\n  }\n}\n\nexport default PieMPCOutlet;","import React from 'react';\nimport { Button, Container } from 'react-bootstrap';\nimport NavBar from '../Components/NavBar';\nimport TableCategories from '../Components/TableCategories';\nimport PopupAddCategories from '../Components/PopupAddCategories';\nimport PopupEditCategories from '../Components/PopupEditCategories';\nimport verifyIsAdmin from '../Helpers/verifyIsAdmin';\nimport PieMPCEnter from '../Components/PieMPCEnter';\nimport PieMPCOutlet from '../Components/PieMPCOutlet';\n\nclass GuichetCategories extends React.Component {\n\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Catégories';\n\n    this.state = {\n      addMode: false,\n      editMode: false,\n    }\n    this.infoEdit = null;\n  }\n\n  componentDidMount() {\n    verifyIsAdmin();\n  }\n\n  _addUser = () => {\n    this.setState({ addMode: true, editMode: false });\n  }\n\n  _onUpdate = (info) => {\n    this.infoEdit = info;\n    this.setState({ addMode: false, editMode: true })\n  }\n\n  _onClose = () => {\n    this.setState({ addMode: false, editMode: false });\n  }\n\n  render() {\n    return (\n      <>\n        <NavBar />\n        <Container>\n          <h1>Catégories</h1>\n          <Button variant='success' onClick={this._addUser}><i class=\"fas fa-plus-circle\"></i> Ajouter une catégorie</Button>\n          <br /><br />\n          <TableCategories onUpdate={this._onUpdate} />\n          <br /><br />\n          <h2>Catégories d'entrée les plus fréquentes</h2>\n          <div style={{ width: '60vh' }}>\n            <PieMPCEnter />\n          </div>\n          <h2>Catégories de sorties les plus fréquentes</h2>\n          <div style={{ width: '60vh', alignItems: 'center' }}>\n            <PieMPCOutlet />\n          </div>\n          {this.state.addMode ? <PopupAddCategories callback={this._onClose} /> : null}\n          {this.state.editMode ? <PopupEditCategories callback={this._onClose} data={this.infoEdit} /> : null}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default GuichetCategories;","import { Container } from 'react-bootstrap';\n\nconst NotFound = () => {\n  document.title = \"Le Consulat - Page Introuvable\";\n  return (\n    <Container>\n      <h1>Page introuvable</h1>\n    </Container>\n  );\n};\n\nexport default NotFound;","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport Table from 'react-bootstrap/Table'\nimport NavBar from '../Components/NavBar';\nimport { getAllProducts } from '../Services/products';\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nclass PrintAll extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Print';\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      type: \"all\",\n    };\n    this.nbre = 0;\n  }\n\n  componentDidMount() {\n    getAllProducts(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          this.setState({ info: _.orderBy(_.orderBy(data.result, ['name'],['asc']), ['type'],['asc']), isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _renderRow = () => {\n    if (this.state.info.length > 0) {\n      let arrayEl = [];\n      let lastType = this.state.info[0].type;\n      arrayEl.push(\n        <tr>\n          <td colSpan=\"2\" style={{ textAlign: \"center\" }}>\n            {lastType}\n          </td>\n        </tr>\n      );\n      for (let index in this.state.info) {\n        if (lastType !== this.state.info[index].type) {\n          arrayEl.push(\n            <tr>\n              <td colSpan=\"2\" style={{ textAlign: \"center\" }}>\n                {this.state.info[index].type}\n              </td>\n            </tr>\n          );\n          arrayEl.push(\n            <tr>\n              <td>{this.state.info[index].name}</td>\n              <td>{this.state.info[index].inStock}</td>\n            </tr>\n          );\n          lastType = this.state.info[index].type;\n        } else {\n          arrayEl.push(\n            <tr>\n              <td>{this.state.info[index].name}</td>\n              <td>{this.state.info[index].inStock}</td>\n            </tr>\n          );\n        }\n      }\n      window.setTimeout(() => {\n        window.print();\n      }, 2000);\n      return arrayEl;\n    }\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Print</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      const now = moment();\n      return (\n        <Container  style={{ justifyContent: \"center\", display: \"flex\", marginTop: 5, fontSize: \"300%\"}}>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                <th colSpan=\"2\" style={{ textAlign: 'center' }}>{now.format('[Le] DD MMM YYYY')}</th>\n              </tr>\n            </thead>\n            {this._renderRow()}\n          </table>\n        </Container>\n      );\n    }\n  }\n}\n\nexport default PrintAll;\n","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport Table from 'react-bootstrap/Table'\nimport NavBar from '../Components/NavBar';\nimport { getAllProducts } from '../Services/products';\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nclass PrintDrinks extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Print';\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      type: \"all\",\n    };\n  }\n\n  componentDidMount() {\n    getAllProducts(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          this.setState({ info: _.filter(_.orderBy(data.result, ['name'],['asc']), (o) => (o.type === \"Boissons\")), isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _renderRow = () => {\n    let arrayEl = [];\n    for (let index in this.state.info) {\n      arrayEl.push(\n        <tr>\n          <td>{this.state.info[index].name}</td>\n          <td>{this.state.info[index].inStock}</td>\n        </tr>\n      );\n    }\n    window.setTimeout(() => {\n      window.print();\n    }, 2000);\n    return arrayEl;\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Print</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      const now = moment();\n      return (\n        <Container  style={{ justifyContent: \"center\", display: \"flex\", marginTop: 5, fontSize: \"300%\"}}>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                <th colSpan=\"2\" style={{ textAlign: 'center' }}>{now.format('[Le] DD MMM YYYY')}</th>\n              </tr>\n            </thead>\n              {this._renderRow()}\n          </table>\n        </Container>\n      );\n    }\n  }\n}\n\nexport default PrintDrinks;\n","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport Table from 'react-bootstrap/Table'\nimport NavBar from '../Components/NavBar';\nimport { getAllProducts } from '../Services/products';\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nclass PrintSpirits extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Print';\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      type: \"all\",\n    };\n  }\n\n  componentDidMount() {\n    getAllProducts(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          this.setState({ info: _.filter(_.orderBy(data.result, ['name'],['asc']), (o) => (o.type === \"Spiritueux\")), isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _renderRow = () => {\n    let arrayEl = [];\n    for (let index in this.state.info) {\n      arrayEl.push(\n        <tr>\n          <td>{this.state.info[index].name}</td>\n          <td>{this.state.info[index].inStock}</td>\n        </tr>\n      );\n    }\n    window.setTimeout(() => {\n      window.print();\n    }, 2000);\n    return arrayEl;\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Print</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      const now = moment();\n      return (\n        <Container  style={{ justifyContent: \"center\", display: \"flex\", marginTop: 5, fontSize: \"300%\"}}>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                <th colSpan=\"2\" style={{ textAlign: 'center' }}>{now.format('[Le] DD MMM YYYY')}</th>\n              </tr>\n            </thead>\n              {this._renderRow()}\n          </table>\n        </Container>\n      );\n    }\n  }\n}\n\nexport default PrintSpirits;\n","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport Table from 'react-bootstrap/Table'\nimport NavBar from '../Components/NavBar';\nimport { getAllProducts } from '../Services/products';\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nclass PrintSmokes extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Print';\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      type: \"all\",\n    };\n  }\n\n  componentDidMount() {\n    getAllProducts(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          this.setState({ info: _.filter(_.orderBy(data.result, ['name'],['asc']), (o) => (o.type === \"Cigarettes\")), isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _renderRow = () => {\n    let arrayEl = [];\n    for (let index in this.state.info) {\n      arrayEl.push(\n        <tr>\n          <td>{this.state.info[index].name}</td>\n          <td>{this.state.info[index].inStock}</td>\n        </tr>\n      );\n    }\n    window.setTimeout(() => {\n      window.print();\n    }, 2000);\n    return arrayEl;\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Print</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      const now = moment();\n      return (\n        <Container  style={{ justifyContent: \"center\", display: \"flex\", marginTop: 5, fontSize: \"300%\"}}>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                <th colSpan=\"2\" style={{ textAlign: 'center' }}>{now.format('[Le] DD MMM YYYY')}</th>\n              </tr>\n            </thead>\n              {this._renderRow()}\n          </table>\n        </Container>\n      );\n    }\n  }\n}\n\nexport default PrintSmokes;\n","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport Table from 'react-bootstrap/Table'\nimport NavBar from '../Components/NavBar';\nimport { getAllProducts } from '../Services/products';\nimport Cookie from 'js-cookie';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nclass PrintDishes extends React.Component {\n  constructor(props) {\n    super(props);\n    document.title = 'Le Consulat - Print';\n    this.state = {\n      info: [],\n      toDisplay: [],\n      isLoading: true,\n      error: false,\n      type: \"all\",\n    };\n  }\n\n  componentDidMount() {\n    getAllProducts(Cookie.get('token'))\n      .then(data => {\n        if (data.find) {\n          this.setState({ info: _.filter(_.orderBy(data.result, ['name'],['asc']), (o) => (o.type === \"Plâts\")), isLoading: false, error: false });\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => {\n        this.setState({ error: true });\n      });\n  }\n\n  _renderRow = () => {\n    let arrayEl = [];\n    for (let index in this.state.info) {\n      arrayEl.push(\n        <tr>\n          <td>{this.state.info[index].name}</td>\n          <td>{this.state.info[index].inStock}</td>\n        </tr>\n      );\n    }\n    window.setTimeout(() => {\n      window.print();\n    }, 2000);\n    return arrayEl;\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <NavBar />\n          <Container>\n            <h1>Print</h1>\n            <em>Une erreur a eu lieu, réessayez plus tard ou contactez-nous</em>\n          </Container>\n        </>\n      );\n    } else {\n      const now = moment();\n      return (\n        <Container  style={{ justifyContent: \"center\", display: \"flex\", marginTop: 5, fontSize: \"300%\"}}>\n          <table border=\"1\">\n            <thead>\n              <tr>\n                <th colSpan=\"2\" style={{ textAlign: 'center' }}>{now.format('[Le] DD MMM YYYY')}</th>\n              </tr>\n            </thead>\n              {this._renderRow()}\n          </table>\n        </Container>\n      );\n    }\n  }\n}\n\nexport default PrintDishes;\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport \"./CSS/blink.css\";\n\nimport Login from './Pages/Login';\nimport Home from './Pages/Home';\nimport Users from './Pages/Users';\nimport Clients from './Pages/Clients';\nimport Products from './Pages/Products';\nimport Stocks from './Pages/Stocks';\nimport TransactionDetail from './Pages/TransactionDetail';\nimport TransactionWholeSale from './Pages/TransactionWholeSale';\nimport TransactionManager from './Pages/TransactionManager';\nimport GetOneSession from './Pages/GetOneSession';\nimport SessionsInProgress from './Pages/SessionsInProgress';\nimport SessionsNotPaid from './Pages/SessionsNotPaid';\nimport SessionsReport from './Pages/SessionsReport';\nimport SessionsReportPeriod from './Pages/SessionsReportPeriod';\nimport GuichetTransactions from './Pages/GuichetTransactions';\nimport GuichetCategories from './Pages/GuichetCategories';\nimport NotFound from './Pages/NotFound';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport PrintAll from './Pages/PrintAll';\nimport PrintDrinks from './Pages/PrintDrinks';\nimport PrintSpirits from './Pages/PrintSpirits';\nimport PrintSmokes from './Pages/PrintSmokes';\nimport PrintDishes from './Pages/PrintDishes';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path='/application' component={Login} />\n        <Route exact path='/application/login' component={Login} />\n        <Route exact path='/application/home' component={Home} />\n        <Route exact path='/application/users' component={Users} />\n        <Route exact path='/application/clients' component={Clients} />\n        <Route exact path='/application/products' component={Products} />\n        <Route exact path='/application/stocks' component={Stocks} />\n        <Route exact path='/application/transactions/detail' component={TransactionDetail} />\n        <Route exact path='/application/transactions/wholesale' component={TransactionWholeSale} />\n        <Route exact path='/application/transactions/manager' component={TransactionManager} />\n        <Route exact path='/application/sessions/get/:idSession' component={GetOneSession} />\n        <Route exact path='/application/sessions/inProgress' component={SessionsInProgress} />\n        <Route exact path='/application/sessions/notPaid' component={SessionsNotPaid} />\n        <Route exact path='/application/sessions/report' component={SessionsReport} />\n        <Route exact path='/application/sessions/report/period' component={SessionsReportPeriod} />\n        <Route exact path='/application/guichet/transactions' component={GuichetTransactions} />\n        <Route exact path='/application/guichet/categories' component={GuichetCategories} />\n        <Route exact path='/application/print/all' component={PrintAll} />\n        <Route exact path='/application/print/Boissons' component={PrintDrinks} />\n        <Route exact path='/application/print/Spiritueux' component={PrintSpirits} />\n        <Route exact path='/application/print/Cigarettes' component={PrintSmokes} />\n        <Route exact path='/application/print/Plâts' component={PrintDishes} />\n        \n        <Route component={NotFound} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}